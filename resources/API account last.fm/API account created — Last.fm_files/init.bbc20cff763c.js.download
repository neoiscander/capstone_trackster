/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) lodash.com/license | Underscore.js 1.5.2 underscorejs.org/LICENSE
 * Build: `lodash modern -o ./dist/lodash.js`
 */

/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   3.0.2
 */

/*! jQuery v2.1.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */

/*
 * JavaScript Debug - v0.4 - 6/22/2010
 * http://benalman.com/projects/javascript-debug-console-log/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 * 
 * With lots of help from Paul Irish!
 * http://paulirish.com/
 */

/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */

/*! modernizr 3.3.1 (Custom Build) | MIT *
 * https://modernizr.com/download/?-svgforeignobject-video-prefixed-setclasses !*/

/*!
 * Copyright 2012, Chris Wanstrath
 * Released under the MIT License
 * https://github.com/defunkt/jquery-pjax
 */

/*!
 * jQuery Popup Overlay
 *
 * @version 1.8.0-lastfm.1
 * @requires jQuery v1.7.1+
 * @link http://vast-engineering.github.com/jquery-popup-overlay/
 * @link https://github.com/lastfm/jquery-popup-overlay
 */

//     uuid.js
//
//     Copyright (c) 2010-2012 Robert Kieffer
//     MIT License - http://opensource.org/licenses/mit-license.php

/**
 * what-input - A global utility for tracking the current input method (mouse, keyboard or touch).
 * @version v3.0.0
 * @link https://github.com/ten1seven/what-input
 * @license MIT
 */

/**
 * @license Highcharts JS v5.0.6 (2016-12-07)
 *
 * (c) 2009-2016 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */

/**
         * (c) 2010-2016 Torstein Honsi
         *
         * License: www.highcharts.com/license
         */

/**
         * (c) 2009-2016 Torstein Honsi
         *
         * License: www.highcharts.com/license
         */

/*! jQuery UI - v1.12.1 - 2017-02-06
* http://jqueryui.com
* Includes: widget.js, position.js, focusable.js, form-reset-mixin.js, keycode.js, labels.js, tabbable.js, unique-id.js, widgets/menu.js, widgets/selectmenu.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */

/*
Copyright © 2013 Adobe Systems Incorporated.

Licensed under the Apache License, Version 2.0 (the “License”);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an “AS IS” BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

/**
 * @fileOverview accessibleMegaMenu plugin
 *
 *<p>Licensed under the Apache License, Version 2.0 (the “License”)
 *<br />Copyright © 2013 Adobe Systems Incorporated.
 *<br />Project page <a href="https://github.com/adobe-accessibility/Accessible-Mega-Menu">https://github.com/adobe-accessibility/Accessible-Mega-Menu</a>
 * @version 0.1
 * @author Michael Jordan
 * @requires jquery
 */

/*!
 * Bootstrap v3.3.5 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/*!
 * Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=6cd5825b15d3f4a70216)
 * Config saved to config.json and https://gist.github.com/6cd5825b15d3f4a70216
 */

/*! jquery.selectBoxIt - v3.8.0 - 2013-10-04 
* http://www.selectboxit.com
* Copyright (c) 2013 Greg Franko; Licensed MIT*/

/**
 * jQuery serializeObject
 * @copyright 2014, macek <paulmacek@gmail.com>
 * @link https://github.com/macek/jquery-serialize-object
 * @license BSD
 * @version 2.5.0
 */

/*
* onScreen 0.0.0 
* Checks if matched elements are inside the viewport. 
* Built on Mon Mar 09 2015 13:11:43 
*
* Copyright 2015 Silvestre Herrera <silvestre.herrera@gmail.com> and contributors, Licensed under the MIT license:
* http://www.opensource.org/licenses/mit-license.php
*
* You can find a list of contributors at:
* https://github.com/silvestreh/onScreen/graphs/contributors
*/

/*! rasterizeHTML.js - v1.2.4 - 2016-11-30
* http://www.github.com/cburgmer/rasterizeHTML.js
* Copyright (c) 2016 Christoph Burgmer; Licensed MIT */

/*! https://mths.be/punycode v1.4.1 by @mathias */

// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

/*!
* svg.js - A lightweight library for manipulating and animating SVG.
* @version 2.3.6
* http://www.svgjs.com
*
* @copyright Wout Fierens <wout@mick-wout.com.com>
* @license MIT
*
* BUILT: Sun Nov 13 2016 14:06:31 GMT+0100 (CET)
*/

/**
 * @license  Highcharts JS v5.0.6 (2016-12-07)
 * Solid angular gauge module
 *
 * (c) 2010-2016 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */

/**
         * Solid angular gauge module
         *
         * (c) 2010-2016 Torstein Honsi
         *
         * License: www.highcharts.com/license
         */

/*!
 * twitter-text-js 1.14.3
 *
 * Copyright 2012 Twitter, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this work except in compliance with the License.
 * You may obtain a copy of the License at:
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 */

!function(){"use strict";require.config({urlArgs:"1511259976",paths:{uuid:"lib/uuid/uuid",jquery:"lib/jquery/jquery-2.1.1.min","jquery-pjax":"lib/jquery-pjax/jquery-pjax-1.9.6a","jquery-ui":"lib/jquery-ui/jquery-ui-1.12.1.custom.min","jquery-selectboxit":"lib/jquery-selectboxit/jquery.selectBoxIt-3.8.0.min",machina:"lib/machina/machina-0.3.8.min",lodash:"lib/lodash/lodash-2.4.1.min",bootstrap:"lib/bootstrap/bootstrap-3.3.5.min","skiplink-polyfill":"lib/skiplink-polyfill/skiplink-polyfill",highcharts:"lib/highcharts/highcharts-5.0.6","highcharts-more":"lib/highcharts/highcharts-more-5.0.6","highcharts-solid-gauge":"lib/highcharts/solid-gauge-5.0.6","jquery-cookie":"lib/jquery-cookie/jquery.cookie",redactor:"lib/redactor/redactor.min","spotify-remote-control-bridge":"player/providers/spotify/spotify-bridge","youtube-iframe-api":"https://www.youtube.com/iframe_api#",taboola:"https://cdn.taboola.com/libtrc/cbsinteractive-lastfm/loader",yad:"https://s.yimg.com/uq/syndication/yad","ba-debug":"lib/ba-debug/ba-debug-0.4.min",swfobject:"lib/swfobject/swfobject-2.2","adobe-accessible-mega-menu":"lib/adobe-accessible-mega-menu/jquery-accessibleMegaMenu-anh-1.1",masonry:"lib/masonry/masonry-3.2.2.pkgd.min","cbsi-player":"lib/cbsi-player/cbsi-player-2.4.0.min","cbsi-player-html5":"https://vidtech.cbsinteractive.com/uvpjs/2.5.4/CBSI-PLAYER","searchlinks-library":"https://js.searchlinks.com/adtags/Kmev","jquery-popup-overlay":"lib/jquery-popup-overlay/jquery.popupoverlay.1.8.0-lastfm.1","es6-promise":"lib/es6-promise/es6-promise.3.0.2",modernizr:"lib/modernizr/modernizr-custom","set-immediate":"lib/set-immediate/set-immediate-1.0.4","jquery-onscreen":"lib/jquery-onscreen/jquery.onscreen.min","ua-parser":"lib/ua-parser/ua-parser-0.7.10.min","index-exchange":"https://js-sec.indexww.com/ht/ls-lastfm",ima:"https://imasdk.googleapis.com/js/sdkloader/ima3","jquery-serialize-object":"lib/jquery-serialize-object/jquery-serialize-object-2.5.0.min","restart-animation":"lib/restart-animation/restart-animation","on-screen":"lib/on-screen/on-screen.1.1.3.umd",whatInput:"lib/what-input/what-input-3.0.0",store:"lib/store/store.min",canvgModule:"lib/canvg/canvg",stackblur:"lib/canvg/StackBlur",rgbcolor:"lib/canvg/rgbcolor","svg-todataurl":"lib/svg-todataurl/svg_todataurl","svg-js":"lib/svg-js/svg.2.3.6",base64:"lib/svg-todataurl/base64","facebook-sdk":"//connect.facebook.net/en_US/sdk","rasterize-html":"lib/rasterize-html/rasterizeHTML-1.2.4","twitter-text":"lib/twitter-text/twitter-text-1.14.3",mustache:"lib/mustache/mustache-2.3.0.min","url-search-params":"lib/url-search-params/url-search-params.0.8.0",sticky:"lib/sticky-js/sticky.7abb16d8f06dad048fd4d397b160f8a150e522f4",rgbquant:"lib/rgbquant/rgbquant.1.1.2"},map:{"*":{jquery:"lib-shim/jquery","adobe-accessible-mega-menu":"lib-shim/adobe-accessible-mega-menu"},"lib-shim/jquery":{jquery:"jquery"},"lib-shim/adobe-accessible-mega-menu":{"adobe-accessible-mega-menu":"adobe-accessible-mega-menu"}},shim:{"jquery-pjax":["jquery"],bootstrap:["jquery"],"jquery-ui":["jquery"],"jquery-selectboxit":["jquery-ui"],highcharts:{deps:["jquery"],exports:"Highcharts"},"highcharts-more":{deps:["highcharts"]},"highcharts-solid-gauge":{deps:["highcharts-more"]},"jquery-cookie":["jquery"],"jquery-popup-overlay":["jquery"],redactor:["jquery"],"spotify-remote-control-bridge":{exports:"Spotify"},"adobe-accessible-mega-menu":{deps:["jquery"]},"ba-debug":{exports:"debug"},modernizr:{exports:"Modernizr"},"on-screen":{exports:"OnScreen"},rgbquant:{exports:"RgbQuant"}}})}(),define("require-config",function(){}),function(){function t(t,e,i){i=(i||0)-1;for(var n=t?t.length:0;++i<n;)if(t[i]===e)return i;return-1}function e(e,i){var n=typeof i;if(e=e.l,"boolean"==n||null==i)return e[i]?0:-1;"number"!=n&&"string"!=n&&(n="object");var r="number"==n?i:v+i;return e=(e=e[n])&&e[r],"object"==n?e&&-1<t(e,i)?0:-1:e?0:-1}function i(t){var e=this.l,i=typeof t;if("boolean"==i||null==t)e[t]=!0;else{"number"!=i&&"string"!=i&&(i="object");var n="number"==i?t:v+t,e=e[i]||(e[i]={});"object"==i?(e[n]||(e[n]=[])).push(t):e[n]=!0}}function n(t){return t.charCodeAt(0)}function r(t,e){for(var i=t.m,n=e.m,r=-1,o=i.length;++r<o;){var s=i[r],a=n[r];if(s!==a){if(s>a||void 0===s)return 1;if(s<a||void 0===a)return-1}}return t.n-e.n}function o(t){var e=-1,n=t.length,r=t[0],o=t[n/2|0],s=t[n-1];if(r&&"object"==typeof r&&o&&"object"==typeof o&&s&&"object"==typeof s)return!1;for(r=l(),r.false=r.null=r.true=r.undefined=!1,o=l(),o.k=t,o.l=r,o.push=i;++e<n;)o.push(t[e]);return o}function s(t){return"\\"+G[t]}function a(){return f.pop()||[]}function l(){return g.pop()||{k:null,l:null,m:null,false:!1,n:0,null:!1,number:null,object:null,push:null,string:null,true:!1,undefined:!1,o:null}}function u(t){t.length=0,f.length<b&&f.push(t)}function c(t){var e=t.l;e&&c(e),t.k=t.l=t.m=t.object=t.number=t.string=t.o=null,g.length<b&&g.push(t)}function h(t,e,i){e||(e=0),void 0===i&&(i=t?t.length:0);var n=-1;i=i-e||0;for(var r=Array(0>i?0:i);++n<i;)r[n]=t[e+n];return r}function d(i){function f(t,e,i){if(!t||!W[typeof t])return t;e=e&&void 0===i?e:et(e,i,3);for(var n=-1,r=W[typeof t]&&Oe(t),o=r?r.length:0;++n<o&&(i=r[n],!1!==e(t[i],i,t)););return t}function g(t,e,i){var n;if(!t||!W[typeof t])return t;e=e&&void 0===i?e:et(e,i,3);for(n in t)if(!1===e(t[n],n,t))break;return t}function b(t,e,i){var n,r=t,o=r;if(!r)return o;for(var s=arguments,a=0,l="number"==typeof i?2:s.length;++a<l;)if((r=s[a])&&W[typeof r])for(var u=-1,c=W[typeof r]&&Oe(r),h=c?c.length:0;++u<h;)n=c[u],void 0===o[n]&&(o[n]=r[n]);return o}function G(t,e,i){var n,r=t,o=r;if(!r)return o;var s=arguments,a=0,l="number"==typeof i?2:s.length;if(3<l&&"function"==typeof s[l-2])var u=et(s[--l-1],s[l--],2);else 2<l&&"function"==typeof s[l-1]&&(u=s[--l]);for(;++a<l;)if((r=s[a])&&W[typeof r])for(var c=-1,h=W[typeof r]&&Oe(r),d=h?h.length:0;++c<d;)n=h[c],o[n]=u?u(o[n],r[n]):r[n];return o}function V(t){var e,i=[];if(!t||!W[typeof t])return i;for(e in t)ve.call(t,e)&&i.push(e);return i}function Y(t){return t&&"object"==typeof t&&!De(t)&&ve.call(t,"__wrapped__")?t:new K(t)}function K(t,e){this.__chain__=!!e,this.__wrapped__=t}function Q(t){function e(){if(n){var t=h(n);ye.apply(t,arguments)}if(this instanceof e){var o=tt(i.prototype),t=i.apply(o,t||arguments);return wt(t)?t:o}return i.apply(r,t||arguments)}var i=t[0],n=t[2],r=t[4];return Ie(e,t),e}function Z(t,e,i,n,r){if(i){var o=i(t);if(void 0!==o)return o}if(!wt(t))return t;var s=ce.call(t);if(!$[s])return t;var l=Re[s];switch(s){case D:case O:return new l(+t);case q:case F:return new l(t);case B:return o=l(t.source,T.exec(t)),o.lastIndex=t.lastIndex,o}if(s=De(t),e){var c=!n;n||(n=a()),r||(r=a());for(var d=n.length;d--;)if(n[d]==t)return r[d];o=s?l(t.length):{}}else o=s?h(t):G({},t);return s&&(ve.call(t,"index")&&(o.index=t.index),ve.call(t,"input")&&(o.input=t.input)),e?(n.push(t),r.push(o),(s?Et:f)(t,function(t,s){o[s]=Z(t,e,i,n,r)}),c&&(u(n),u(r)),o):o}function tt(t){return wt(t)?ke(t):{}}function et(t,e,i){if("function"!=typeof t)return Gt;if(void 0===e||!("prototype"in t))return t;var n=t.__bindData__;if(void 0===n&&(je.funcNames&&(n=!t.name),!(n=n||!je.funcDecomp))){var r=ge.call(t);je.funcNames||(n=!A.test(r)),n||(n=P.test(r),Ie(t,n))}if(!1===n||!0!==n&&1&n[1])return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)};case 4:return function(i,n,r,o){return t.call(e,i,n,r,o)}}return Ut(t,e)}function it(t){function e(){var t=l?s:this;if(r){var f=h(r);ye.apply(f,arguments)}return(o||c)&&(f||(f=h(arguments)),o&&ye.apply(f,o),c&&f.length<a)?(n|=16,it([i,d?n:-4&n,f,null,s,a])):(f||(f=arguments),u&&(i=t[p]),this instanceof e?(t=tt(i.prototype),f=i.apply(t,f),wt(f)?f:t):i.apply(t,f))}var i=t[0],n=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=1&n,u=2&n,c=4&n,d=8&n,p=i;return Ie(e,t),e}function nt(i,n){var r=-1,s=dt(),a=i?i.length:0,l=a>=y&&s===t,u=[];if(l){var h=o(n);h?(s=e,n=h):l=!1}for(;++r<a;)h=i[r],0>s(n,h)&&u.push(h);return l&&c(n),u}function rt(t,e,i,n){n=(n||0)-1;for(var r=t?t.length:0,o=[];++n<r;){var s=t[n];if(s&&"object"==typeof s&&"number"==typeof s.length&&(De(s)||mt(s))){e||(s=rt(s,e,i));var a=-1,l=s.length,u=o.length;for(o.length+=l;++a<l;)o[u++]=s[a]}else i||o.push(s)}return o}function ot(t,e,i,n,r,o){if(i){var s=i(t,e);if(void 0!==s)return!!s}if(t===e)return 0!==t||1/t==1/e;if(t===t&&!(t&&W[typeof t]||e&&W[typeof e]))return!1;if(null==t||null==e)return t===e;var l=ce.call(t),c=ce.call(e);if(l==j&&(l=z),c==j&&(c=z),l!=c)return!1;switch(l){case D:case O:return+t==+e;case q:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case B:case F:return t==oe(e)}if(!(c=l==I)){var h=ve.call(t,"__wrapped__"),d=ve.call(e,"__wrapped__");if(h||d)return ot(h?t.__wrapped__:t,d?e.__wrapped__:e,i,n,r,o);if(l!=z)return!1;if(l=t.constructor,h=e.constructor,l!=h&&!(xt(l)&&l instanceof l&&xt(h)&&h instanceof h)&&"constructor"in t&&"constructor"in e)return!1}for(l=!r,r||(r=a()),o||(o=a()),h=r.length;h--;)if(r[h]==t)return o[h]==e;var p=0,s=!0;if(r.push(t),o.push(e),c){if(h=t.length,p=e.length,(s=p==h)||n)for(;p--;)if(c=h,d=e[p],n)for(;c--&&!(s=ot(t[c],d,i,n,r,o)););else if(!(s=ot(t[p],d,i,n,r,o)))break}else g(e,function(e,a,l){return ve.call(l,a)?(p++,s=ve.call(t,a)&&ot(t[a],e,i,n,r,o)):void 0}),s&&!n&&g(t,function(t,e,i){return ve.call(i,e)?s=-1<--p:void 0});return r.pop(),o.pop(),l&&(u(r),u(o)),s}function st(t,e,i,n,r){(De(e)?Et:f)(e,function(e,o){var s,a,l=e,u=t[o];if(e&&((a=De(e))||Fe(e))){for(l=n.length;l--;)if(s=n[l]==e){u=r[l];break}if(!s){var c;i&&(l=i(u,e),c=void 0!==l)&&(u=l),c||(u=a?De(u)?u:[]:Fe(u)?u:{}),n.push(e),r.push(u),c||st(u,e,i,n,r)}}else i&&void 0===(l=i(u,e))&&(l=e),void 0!==l&&(u=l);t[o]=u})}function at(t,e){return t+fe(Le()*(e-t+1))}function lt(i,n,r){var s=-1,l=dt(),h=i?i.length:0,d=[],p=!n&&h>=y&&l===t,f=r||p?a():d;for(p&&(f=o(f),l=e);++s<h;){var g=i[s],m=r?r(g,s,i):g;(n?!s||f[f.length-1]!==m:0>l(f,m))&&((r||p)&&f.push(m),d.push(g))}return p?(u(f.k),c(f)):r&&u(f),d}function ut(t){return function(e,i,n){var r={};i=Y.createCallback(i,n,3),n=-1;var o=e?e.length:0;if("number"==typeof o)for(;++n<o;){var s=e[n];t(r,s,i(s,n,e),e)}else f(e,function(e,n,o){t(r,e,i(e,n,o),o)});return r}}function ct(t,e,i,n,r,o){var s=1&e,a=4&e,l=16&e,u=32&e;if(!(2&e||xt(t)))throw new se;l&&!i.length&&(e&=-17,l=i=!1),u&&!n.length&&(e&=-33,u=n=!1);var c=t&&t.__bindData__;return c&&!0!==c?(c=h(c),c[2]&&(c[2]=h(c[2])),c[3]&&(c[3]=h(c[3])),!s||1&c[1]||(c[4]=r),!s&&1&c[1]&&(e|=8),!a||4&c[1]||(c[5]=o),l&&ye.apply(c[2]||(c[2]=[]),i),u&&we.apply(c[3]||(c[3]=[]),n),c[1]|=e,ct.apply(null,c)):(1==e||17===e?Q:it)([t,e,i,n,r,o])}function ht(t){return Ne[t]}function dt(){var e=(e=Y.indexOf)===qt?t:e;return e}function pt(t){return"function"==typeof t&&he.test(t)}function ft(t){var e,i;return!!(t&&ce.call(t)==z&&(e=t.constructor,!xt(e)||e instanceof e))&&(g(t,function(t,e){i=e}),void 0===i||ve.call(t,i))}function gt(t){return qe[t]}function mt(t){return t&&"object"==typeof t&&"number"==typeof t.length&&ce.call(t)==j||!1}function vt(t,e,i){var n=Oe(t),r=n.length;for(e=et(e,i,3);r--&&(i=n[r],!1!==e(t[i],i,t)););return t}function yt(t){var e=[];return g(t,function(t,i){xt(t)&&e.push(i)}),e.sort()}function bt(t){for(var e=-1,i=Oe(t),n=i.length,r={};++e<n;){var o=i[e];r[t[o]]=o}return r}function xt(t){return"function"==typeof t}function wt(t){return!(!t||!W[typeof t])}function St(t){return"number"==typeof t||t&&"object"==typeof t&&ce.call(t)==q||!1}function kt(t){return"string"==typeof t||t&&"object"==typeof t&&ce.call(t)==F||!1}function Ct(t){for(var e=-1,i=Oe(t),n=i.length,r=Qt(n);++e<n;)r[e]=t[i[e]];return r}function Tt(t,e,i){var n=-1,r=dt(),o=t?t.length:0,s=!1;return i=(0>i?Me(0,o+i):i)||0,De(t)?s=-1<r(t,e,i):"number"==typeof o?s=-1<(kt(t)?t.indexOf(e,i):r(t,e,i)):f(t,function(t){return++n<i?void 0:!(s=t===e)}),s}function At(t,e,i){var n=!0;e=Y.createCallback(e,i,3),i=-1;var r=t?t.length:0;if("number"==typeof r)for(;++i<r&&(n=!!e(t[i],i,t)););else f(t,function(t,i,r){return n=!!e(t,i,r)});return n}function _t(t,e,i){var n=[];e=Y.createCallback(e,i,3),i=-1;var r=t?t.length:0;if("number"==typeof r)for(;++i<r;){var o=t[i];e(o,i,t)&&n.push(o)}else f(t,function(t,i,r){e(t,i,r)&&n.push(t)});return n}function Mt(t,e,i){e=Y.createCallback(e,i,3),i=-1;var n=t?t.length:0;if("number"!=typeof n){var r;return f(t,function(t,i,n){return e(t,i,n)?(r=t,!1):void 0}),r}for(;++i<n;){var o=t[i];if(e(o,i,t))return o}}function Et(t,e,i){var n=-1,r=t?t.length:0;if(e=e&&void 0===i?e:et(e,i,3),"number"==typeof r)for(;++n<r&&!1!==e(t[n],n,t););else f(t,e);return t}function Pt(t,e,i){var n=t?t.length:0;if(e=e&&void 0===i?e:et(e,i,3),"number"==typeof n)for(;n--&&!1!==e(t[n],n,t););else{var r=Oe(t),n=r.length;f(t,function(t,i,o){return i=r?r[--n]:--n,e(o[i],i,o)})}return t}function Lt(t,e,i){var n=-1,r=t?t.length:0;if(e=Y.createCallback(e,i,3),"number"==typeof r)for(var o=Qt(r);++n<r;)o[n]=e(t[n],n,t);else o=[],f(t,function(t,i,r){o[++n]=e(t,i,r)});return o}function Rt(t,e,i){var r=-1/0,o=r;if("function"!=typeof e&&i&&i[e]===t&&(e=null),null==e&&De(t)){i=-1;for(var s=t.length;++i<s;){var a=t[i];a>o&&(o=a)}}else e=null==e&&kt(t)?n:Y.createCallback(e,i,3),Et(t,function(t,i,n){(i=e(t,i,n))>r&&(r=i,o=t)});return o}function jt(t,e,i,n){if(!t)return i;var r=3>arguments.length;e=Y.createCallback(e,n,4);var o=-1,s=t.length;if("number"==typeof s)for(r&&(i=t[++o]);++o<s;)i=e(i,t[o],o,t);else f(t,function(t,n,o){i=r?(r=!1,t):e(i,t,n,o)});return i}function It(t,e,i,n){var r=3>arguments.length;return e=Y.createCallback(e,n,4),Pt(t,function(t,n,o){i=r?(r=!1,t):e(i,t,n,o)}),i}function Dt(t){var e=-1,i=t?t.length:0,n=Qt("number"==typeof i?i:0);return Et(t,function(t){var i=at(0,++e);n[e]=n[i],n[i]=t}),n}function Ot(t,e,i){var n;e=Y.createCallback(e,i,3),i=-1;var r=t?t.length:0;if("number"==typeof r)for(;++i<r&&!(n=e(t[i],i,t)););else f(t,function(t,i,r){return!(n=e(t,i,r))});return!!n}function Nt(t,e,i){var n=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var o=-1;for(e=Y.createCallback(e,i,3);++o<r&&e(t[o],o,t);)n++}else if(null==(n=e)||i)return t?t[0]:p;return h(t,0,Ee(Me(0,n),r))}function qt(e,i,n){if("number"==typeof n){var r=e?e.length:0;n=0>n?Me(0,r+n):n||0}else if(n)return n=Bt(e,i),e[n]===i?n:-1;return t(e,i,n)}function zt(t,e,i){if("number"!=typeof e&&null!=e){var n=0,r=-1,o=t?t.length:0;for(e=Y.createCallback(e,i,3);++r<o&&e(t[r],r,t);)n++}else n=null==e||i?1:Me(0,e);return h(t,n)}function Bt(t,e,i,n){var r=0,o=t?t.length:r;for(i=i?Y.createCallback(i,n,1):Gt,e=i(e);r<o;)n=r+o>>>1,i(t[n])<e?r=n+1:o=n;return r}function Ft(t,e,i,n){return"boolean"!=typeof e&&null!=e&&(n=i,i="function"!=typeof e&&n&&n[e]===t?null:e,e=!1),null!=i&&(i=Y.createCallback(i,n,3)),lt(t,e,i)}function $t(){for(var t=1<arguments.length?arguments:arguments[0],e=-1,i=t?Rt(We(t,"length")):0,n=Qt(0>i?0:i);++e<i;)n[e]=We(t,e);return n}function Ht(t,e){var i=-1,n=t?t.length:0,r={};for(e||!n||De(t[0])||(e=[]);++i<n;){var o=t[i];e?r[o]=e[i]:o&&(r[o[0]]=o[1])}return r}function Ut(t,e){return 2<arguments.length?ct(t,17,h(arguments,2),null,e):ct(t,1,null,null,e)}function Wt(t,e,i){function n(){c&&pe(c),s=c=h=p,(g||f!==e)&&(d=Ge(),a=t.apply(u,o),c||s||(o=u=null))}function r(){var i=e-(Ge()-l);0<i?c=be(r,i):(s&&pe(s),i=h,s=c=h=p,i&&(d=Ge(),a=t.apply(u,o),c||s||(o=u=null)))}var o,s,a,l,u,c,h,d=0,f=!1,g=!0;if(!xt(t))throw new se;if(e=Me(0,e)||0,!0===i)var m=!0,g=!1;else wt(i)&&(m=i.leading,f="maxWait"in i&&(Me(e,i.maxWait)||0),g="trailing"in i?i.trailing:g);return function(){if(o=arguments,l=Ge(),u=this,h=g&&(c||!m),!1===f)var i=m&&!c;else{s||m||(d=l);var p=f-(l-d),v=0>=p;v?(s&&(s=pe(s)),d=l,a=t.apply(u,o)):s||(s=be(n,p))}return v&&c?c=pe(c):c||e===f||(c=be(r,e)),i&&(v=!0,a=t.apply(u,o)),!v||c||s||(o=u=null),a}}function Gt(t){return t}function Xt(t,e,i){var n=!0,r=e&&yt(e);e&&(i||r.length)||(null==i&&(i=e),o=K,e=t,t=Y,r=yt(e)),!1===i?n=!1:wt(i)&&"chain"in i&&(n=i.chain);var o=t,s=xt(o);Et(r,function(i){var r=t[i]=e[i];s&&(o.prototype[i]=function(){var e=this.__chain__,i=this.__wrapped__,s=[i];if(ye.apply(s,arguments),s=r.apply(t,s),n||e){if(i===s&&wt(s))return this;s=new o(s),s.__chain__=e}return s})})}function Vt(){}function Yt(t){return function(e){return e[t]}}function Kt(){return this.__wrapped__}i=i?J.defaults(X.Object(),i,J.pick(X,R)):X;var Qt=i.Array,Jt=i.Boolean,Zt=i.Date,te=i.Function,ee=i.Math,ie=i.Number,ne=i.Object,re=i.RegExp,oe=i.String,se=i.TypeError,ae=[],le=ne.prototype,ue=i._,ce=le.toString,he=re("^"+oe(ce).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),de=ee.ceil,pe=i.clearTimeout,fe=ee.floor,ge=te.prototype.toString,me=pt(me=ne.getPrototypeOf)&&me,ve=le.hasOwnProperty,ye=ae.push,be=i.setTimeout,xe=ae.splice,we=ae.unshift,Se=function(){try{var t={},e=pt(e=ne.defineProperty)&&e,i=e(t,t,t)&&e}catch(t){}return i}(),ke=pt(ke=ne.create)&&ke,Ce=pt(Ce=Qt.isArray)&&Ce,Te=i.isFinite,Ae=i.isNaN,_e=pt(_e=ne.keys)&&_e,Me=ee.max,Ee=ee.min,Pe=i.parseInt,Le=ee.random,Re={};Re[I]=Qt,Re[D]=Jt,Re[O]=Zt,Re[N]=te,Re[z]=ne,Re[q]=ie,Re[B]=re,Re[F]=oe,K.prototype=Y.prototype;var je=Y.support={};je.funcDecomp=!pt(i.a)&&P.test(d),je.funcNames="string"==typeof te.name,Y.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:_,variable:"",imports:{_:Y}},ke||(tt=function(){function t(){}return function(e){if(wt(e)){t.prototype=e;var n=new t;t.prototype=null}return n||i.Object()}}());var Ie=Se?function(t,e){U.value=e,Se(t,"__bindData__",U)}:Vt,De=Ce||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&ce.call(t)==I||!1},Oe=_e?function(t){return wt(t)?_e(t):[]}:V,Ne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qe=bt(Ne),ze=re("("+Oe(qe).join("|")+")","g"),Be=re("["+Oe(Ne).join("")+"]","g"),Fe=me?function(t){if(!t||ce.call(t)!=z)return!1;var e=t.valueOf,i=pt(e)&&(i=me(e))&&me(i);return i?t==i||me(t)==i:ft(t)}:ft,$e=ut(function(t,e,i){ve.call(t,i)?t[i]++:t[i]=1}),He=ut(function(t,e,i){(ve.call(t,i)?t[i]:t[i]=[]).push(e)}),Ue=ut(function(t,e,i){t[i]=e}),We=Lt,Ge=pt(Ge=Zt.now)&&Ge||function(){return(new Zt).getTime()},Xe=8==Pe(x+"08")?Pe:function(t,e){return Pe(kt(t)?t.replace(M,""):t,e||0)};return Y.after=function(t,e){if(!xt(e))throw new se;return function(){return 1>--t?e.apply(this,arguments):void 0}},Y.assign=G,Y.at=function(t){for(var e=arguments,i=-1,n=rt(e,!0,!1,1),e=e[2]&&e[2][e[1]]===t?1:n.length,r=Qt(e);++i<e;)r[i]=t[n[i]];return r},Y.bind=Ut,Y.bindAll=function(t){for(var e=1<arguments.length?rt(arguments,!0,!1,1):yt(t),i=-1,n=e.length;++i<n;){var r=e[i];t[r]=ct(t[r],1,null,null,t)}return t},Y.bindKey=function(t,e){return 2<arguments.length?ct(e,19,h(arguments,2),null,t):ct(e,3,null,null,t)},Y.chain=function(t){return t=new K(t),t.__chain__=!0,t},Y.compact=function(t){for(var e=-1,i=t?t.length:0,n=[];++e<i;){var r=t[e];r&&n.push(r)}return n},Y.compose=function(){for(var t=arguments,e=t.length;e--;)if(!xt(t[e]))throw new se;return function(){for(var e=arguments,i=t.length;i--;)e=[t[i].apply(this,e)];return e[0]}},Y.constant=function(t){return function(){return t}},Y.countBy=$e,Y.create=function(t,e){var i=tt(t);return e?G(i,e):i},Y.createCallback=function(t,e,i){var n=typeof t;if(null==t||"function"==n)return et(t,e,i);if("object"!=n)return Yt(t);var r=Oe(t),o=r[0],s=t[o];return 1!=r.length||s!==s||wt(s)?function(e){for(var i=r.length,n=!1;i--&&(n=ot(e[r[i]],t[r[i]],null,!0)););return n}:function(t){return t=t[o],s===t&&(0!==s||1/s==1/t)}},Y.curry=function(t,e){return e="number"==typeof e?e:+e||t.length,ct(t,4,null,null,null,e)},Y.debounce=Wt,Y.defaults=b,Y.defer=function(t){if(!xt(t))throw new se;var e=h(arguments,1);return be(function(){t.apply(p,e)},1)},Y.delay=function(t,e){if(!xt(t))throw new se;var i=h(arguments,2);return be(function(){t.apply(p,i)},e)},Y.difference=function(t){return nt(t,rt(arguments,!0,!0,1))},Y.filter=_t,Y.flatten=function(t,e,i,n){return"boolean"!=typeof e&&null!=e&&(n=i,i="function"!=typeof e&&n&&n[e]===t?null:e,e=!1),null!=i&&(t=Lt(t,i,n)),rt(t,e)},Y.forEach=Et,Y.forEachRight=Pt,Y.forIn=g,Y.forInRight=function(t,e,i){var n=[];g(t,function(t,e){n.push(e,t)});var r=n.length;for(e=et(e,i,3);r--&&!1!==e(n[r--],n[r],t););return t},Y.forOwn=f,Y.forOwnRight=vt,Y.functions=yt,Y.groupBy=He,Y.indexBy=Ue,Y.initial=function(t,e,i){var n=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var o=r;for(e=Y.createCallback(e,i,3);o--&&e(t[o],o,t);)n++}else n=null==e||i?1:e||n;return h(t,0,Ee(Me(0,r-n),r))},Y.intersection=function(){for(var i=[],n=-1,r=arguments.length,s=a(),l=dt(),h=l===t,d=a();++n<r;){var p=arguments[n];(De(p)||mt(p))&&(i.push(p),s.push(h&&p.length>=y&&o(n?i[n]:d)))}var h=i[0],f=-1,g=h?h.length:0,m=[];t:for(;++f<g;){var v=s[0],p=h[f];if(0>(v?e(v,p):l(d,p))){for(n=r,(v||d).push(p);--n;)if(v=s[n],0>(v?e(v,p):l(i[n],p)))continue t;m.push(p)}}for(;r--;)(v=s[r])&&c(v);return u(s),u(d),m},Y.invert=bt,Y.invoke=function(t,e){var i=h(arguments,2),n=-1,r="function"==typeof e,o=t?t.length:0,s=Qt("number"==typeof o?o:0);return Et(t,function(t){s[++n]=(r?e:t[e]).apply(t,i)}),s},Y.keys=Oe,Y.map=Lt,Y.mapValues=function(t,e,i){var n={};return e=Y.createCallback(e,i,3),f(t,function(t,i,r){n[i]=e(t,i,r)}),n},Y.max=Rt,Y.memoize=function(t,e){function i(){var n=i.cache,r=e?e.apply(this,arguments):v+arguments[0];return ve.call(n,r)?n[r]:n[r]=t.apply(this,arguments)}if(!xt(t))throw new se;return i.cache={},i},Y.merge=function(t){var e=arguments,i=2;if(!wt(t))return t;if("number"!=typeof e[2]&&(i=e.length),3<i&&"function"==typeof e[i-2])var n=et(e[--i-1],e[i--],2);else 2<i&&"function"==typeof e[i-1]&&(n=e[--i]);for(var e=h(arguments,1,i),r=-1,o=a(),s=a();++r<i;)st(t,e[r],n,o,s);return u(o),u(s),t},Y.min=function(t,e,i){var r=1/0,o=r;if("function"!=typeof e&&i&&i[e]===t&&(e=null),null==e&&De(t)){i=-1;for(var s=t.length;++i<s;){var a=t[i];a<o&&(o=a)}}else e=null==e&&kt(t)?n:Y.createCallback(e,i,3),Et(t,function(t,i,n){(i=e(t,i,n))<r&&(r=i,o=t)});return o},Y.omit=function(t,e,i){var n={};if("function"!=typeof e){var r=[];g(t,function(t,e){r.push(e)});for(var r=nt(r,rt(arguments,!0,!1,1)),o=-1,s=r.length;++o<s;){var a=r[o];n[a]=t[a]}}else e=Y.createCallback(e,i,3),g(t,function(t,i,r){e(t,i,r)||(n[i]=t)});return n},Y.once=function(t){var e,i;if(!xt(t))throw new se;return function(){return e?i:(e=!0,i=t.apply(this,arguments),t=null,i)}},Y.pairs=function(t){for(var e=-1,i=Oe(t),n=i.length,r=Qt(n);++e<n;){var o=i[e];r[e]=[o,t[o]]}return r},Y.partial=function(t){return ct(t,16,h(arguments,1))},Y.partialRight=function(t){return ct(t,32,null,h(arguments,1))},Y.pick=function(t,e,i){var n={};if("function"!=typeof e)for(var r=-1,o=rt(arguments,!0,!1,1),s=wt(t)?o.length:0;++r<s;){var a=o[r];a in t&&(n[a]=t[a])}else e=Y.createCallback(e,i,3),g(t,function(t,i,r){e(t,i,r)&&(n[i]=t)});return n},Y.pluck=We,Y.property=Yt,Y.pull=function(t){for(var e=arguments,i=0,n=e.length,r=t?t.length:0;++i<n;)for(var o=-1,s=e[i];++o<r;)t[o]===s&&(xe.call(t,o--,1),r--);return t},Y.range=function(t,e,i){t=+t||0,i="number"==typeof i?i:+i||1,null==e&&(e=t,t=0);var n=-1;e=Me(0,de((e-t)/(i||1)));for(var r=Qt(e);++n<e;)r[n]=t,t+=i;return r},Y.reject=function(t,e,i){return e=Y.createCallback(e,i,3),_t(t,function(t,i,n){return!e(t,i,n)})},Y.remove=function(t,e,i){var n=-1,r=t?t.length:0,o=[];for(e=Y.createCallback(e,i,3);++n<r;)i=t[n],e(i,n,t)&&(o.push(i),xe.call(t,n--,1),r--);return o},Y.rest=zt,Y.shuffle=Dt,Y.sortBy=function(t,e,i){var n=-1,o=De(e),s=t?t.length:0,h=Qt("number"==typeof s?s:0);for(o||(e=Y.createCallback(e,i,3)),Et(t,function(t,i,r){var s=h[++n]=l();o?s.m=Lt(e,function(e){return t[e]}):(s.m=a())[0]=e(t,i,r),s.n=n,s.o=t}),s=h.length,h.sort(r);s--;)t=h[s],h[s]=t.o,o||u(t.m),c(t);return h},Y.tap=function(t,e){return e(t),t},Y.throttle=function(t,e,i){var n=!0,r=!0;if(!xt(t))throw new se;return!1===i?n=!1:wt(i)&&(n="leading"in i?i.leading:n,r="trailing"in i?i.trailing:r),H.leading=n,H.maxWait=e,H.trailing=r,Wt(t,e,H)},Y.times=function(t,e,i){t=-1<(t=+t)?t:0;var n=-1,r=Qt(t);for(e=et(e,i,1);++n<t;)r[n]=e(n);return r},Y.toArray=function(t){return t&&"number"==typeof t.length?h(t):Ct(t)},Y.transform=function(t,e,i,n){var r=De(t);if(null==i)if(r)i=[];else{var o=t&&t.constructor;i=tt(o&&o.prototype)}return e&&(e=Y.createCallback(e,n,4),(r?Et:f)(t,function(t,n,r){return e(i,t,n,r)})),i},Y.union=function(){return lt(rt(arguments,!0,!0))},Y.uniq=Ft,Y.values=Ct,Y.where=_t,Y.without=function(t){return nt(t,h(arguments,1))},Y.wrap=function(t,e){return ct(e,16,[t])},Y.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var i=arguments[t];if(De(i)||mt(i))var n=n?lt(nt(n,i).concat(nt(i,n))):i}return n||[]},Y.zip=$t,Y.zipObject=Ht,Y.collect=Lt,Y.drop=zt,Y.each=Et,Y.eachRight=Pt,Y.extend=G,Y.methods=yt,Y.object=Ht,Y.select=_t,Y.tail=zt,Y.unique=Ft,Y.unzip=$t,Xt(Y),Y.clone=function(t,e,i,n){return"boolean"!=typeof e&&null!=e&&(n=i,i=e,e=!1),Z(t,e,"function"==typeof i&&et(i,n,1))},Y.cloneDeep=function(t,e,i){return Z(t,!0,"function"==typeof e&&et(e,i,1))},Y.contains=Tt,Y.escape=function(t){return null==t?"":oe(t).replace(Be,ht)},Y.every=At,Y.find=Mt,Y.findIndex=function(t,e,i){var n=-1,r=t?t.length:0;for(e=Y.createCallback(e,i,3);++n<r;)if(e(t[n],n,t))return n;return-1},Y.findKey=function(t,e,i){var n;return e=Y.createCallback(e,i,3),f(t,function(t,i,r){return e(t,i,r)?(n=i,!1):void 0}),n},Y.findLast=function(t,e,i){var n;return e=Y.createCallback(e,i,3),Pt(t,function(t,i,r){return e(t,i,r)?(n=t,!1):void 0}),n},Y.findLastIndex=function(t,e,i){var n=t?t.length:0;for(e=Y.createCallback(e,i,3);n--;)if(e(t[n],n,t))return n;return-1},Y.findLastKey=function(t,e,i){var n;return e=Y.createCallback(e,i,3),vt(t,function(t,i,r){return e(t,i,r)?(n=i,!1):void 0}),n},Y.has=function(t,e){return!!t&&ve.call(t,e)},Y.identity=Gt,Y.indexOf=qt,Y.isArguments=mt,Y.isArray=De,Y.isBoolean=function(t){return!0===t||!1===t||t&&"object"==typeof t&&ce.call(t)==D||!1},Y.isDate=function(t){return t&&"object"==typeof t&&ce.call(t)==O||!1},Y.isElement=function(t){return t&&1===t.nodeType||!1},Y.isEmpty=function(t){var e=!0;if(!t)return e;var i=ce.call(t),n=t.length;return i==I||i==F||i==j||i==z&&"number"==typeof n&&xt(t.splice)?!n:(f(t,function(){return e=!1}),e)},Y.isEqual=function(t,e,i,n){return ot(t,e,"function"==typeof i&&et(i,n,2))},Y.isFinite=function(t){return Te(t)&&!Ae(parseFloat(t))},Y.isFunction=xt,Y.isNaN=function(t){return St(t)&&t!=+t},Y.isNull=function(t){return null===t},Y.isNumber=St,Y.isObject=wt,Y.isPlainObject=Fe,Y.isRegExp=function(t){return t&&"object"==typeof t&&ce.call(t)==B||!1},Y.isString=kt,Y.isUndefined=function(t){return void 0===t},Y.lastIndexOf=function(t,e,i){var n=t?t.length:0;for("number"==typeof i&&(n=(0>i?Me(0,n+i):Ee(i,n-1))+1);n--;)if(t[n]===e)return n;return-1},Y.mixin=Xt,Y.noConflict=function(){return i._=ue,this},Y.noop=Vt,Y.now=Ge,Y.parseInt=Xe,Y.random=function(t,e,i){var n=null==t,r=null==e;return null==i&&("boolean"==typeof t&&r?(i=t,t=1):r||"boolean"!=typeof e||(i=e,r=!0)),n&&r&&(e=1),t=+t||0,r?(e=t,t=0):e=+e||0,i||t%1||e%1?(i=Le(),Ee(t+i*(e-t+parseFloat("1e-"+((i+"").length-1))),e)):at(t,e)},Y.reduce=jt,Y.reduceRight=It,Y.result=function(t,e){if(t){var i=t[e];return xt(i)?t[e]():i}},Y.runInContext=d,Y.size=function(t){var e=t?t.length:0;return"number"==typeof e?e:Oe(t).length},Y.some=Ot,Y.sortedIndex=Bt,Y.template=function(t,e,i){var n=Y.templateSettings;t=oe(t||""),i=b({},i,n);var r,o=b({},i.imports,n.imports),n=Oe(o),o=Ct(o),a=0,l=i.interpolate||E,u="__p+='",l=re((i.escape||E).source+"|"+l.source+"|"+(l===_?C:E).source+"|"+(i.evaluate||E).source+"|$","g");t.replace(l,function(e,i,n,o,l,c){return n||(n=o),u+=t.slice(a,c).replace(L,s),i&&(u+="'+__e("+i+")+'"),l&&(r=!0,u+="';"+l+";\n__p+='"),n&&(u+="'+((__t=("+n+"))==null?'':__t)+'"),a=c+e.length,e}),u+="';",l=i=i.variable,l||(i="obj",u="with("+i+"){"+u+"}"),u=(r?u.replace(w,""):u).replace(S,"$1").replace(k,"$1;"),u="function("+i+"){"+(l?"":i+"||("+i+"={});")+"var __t,__p='',__e=_.escape"+(r?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+u+"return __p}";try{var c=te(n,"return "+u).apply(p,o)}catch(t){throw t.source=u,t}return e?c(e):(c.source=u,c)},Y.unescape=function(t){return null==t?"":oe(t).replace(ze,gt)},Y.uniqueId=function(t){var e=++m;return oe(null==t?"":t)+e},Y.all=At,Y.any=Ot,Y.detect=Mt,Y.findWhere=Mt,Y.foldl=jt,Y.foldr=It,Y.include=Tt,Y.inject=jt,Xt(function(){var t={};return f(Y,function(e,i){Y.prototype[i]||(t[i]=e)}),t}(),!1),Y.first=Nt,Y.last=function(t,e,i){var n=0,r=t?t.length:0;if("number"!=typeof e&&null!=e){var o=r;for(e=Y.createCallback(e,i,3);o--&&e(t[o],o,t);)n++}else if(null==(n=e)||i)return t?t[r-1]:p;return h(t,Me(0,r-n))},Y.sample=function(t,e,i){return t&&"number"!=typeof t.length&&(t=Ct(t)),null==e||i?t?t[at(0,t.length-1)]:p:(t=Dt(t),t.length=Ee(Me(0,e),t.length),t)},Y.take=Nt,Y.head=Nt,f(Y,function(t,e){var i="sample"!==e;Y.prototype[e]||(Y.prototype[e]=function(e,n){var r=this.__chain__,o=t(this.__wrapped__,e,n);return r||null!=e&&(!n||i&&"function"==typeof e)?new K(o,r):o})}),Y.VERSION="2.4.1",Y.prototype.chain=function(){return this.__chain__=!0,this},Y.prototype.toString=function(){return oe(this.__wrapped__)},Y.prototype.value=Kt,Y.prototype.valueOf=Kt,Et(["join","pop","shift"],function(t){var e=ae[t];Y.prototype[t]=function(){var t=this.__chain__,i=e.apply(this.__wrapped__,arguments);return t?new K(i,t):i}}),Et(["push","reverse","sort","unshift"],function(t){var e=ae[t];Y.prototype[t]=function(){return e.apply(this.__wrapped__,arguments),this}}),Et(["concat","slice","splice"],function(t){var e=ae[t];Y.prototype[t]=function(){return new K(e.apply(this.__wrapped__,arguments),this.__chain__)}}),Y}var p,f=[],g=[],m=0,v=+new Date+"",y=75,b=40,x=" \t\v\f \ufeff\n\r\u2028\u2029 ᠎             　",w=/\b__p\+='';/g,S=/\b(__p\+=)''\+/g,k=/(__e\(.*?\)|\b__t\))\+'';/g,C=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/\w*$/,A=/^\s*function[ \n\r\t]+\w/,_=/<%=([\s\S]+?)%>/g,M=RegExp("^["+x+"]*0+(?=.$)"),E=/($^)/,P=/\bthis\b/,L=/['\n\r\t\u2028\u2029\\]/g,R="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),j="[object Arguments]",I="[object Array]",D="[object Boolean]",O="[object Date]",N="[object Function]",q="[object Number]",z="[object Object]",B="[object RegExp]",F="[object String]",$={};$[N]=!1,$[j]=$[I]=$[D]=$[O]=$[q]=$[z]=$[B]=$[F]=!0;var H={leading:!1,maxWait:0,trailing:!1},U={configurable:!1,enumerable:!1,value:null,writable:!1},W={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},G={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},X=W[typeof window]&&window||this,V=W[typeof exports]&&exports&&!exports.nodeType&&exports,Y=W[typeof module]&&module&&!module.nodeType&&module,K=Y&&Y.exports===V&&V,Q=W[typeof global]&&global;!Q||Q.global!==Q&&Q.window!==Q||(X=Q);var J=d();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(X._=J,define("lodash",[],function(){return J})):V&&Y?K?(Y.exports=J)._=J:V._=J:X._=J}.call(this),function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function n(t){N=t}function r(t){F=t}function o(){return function(){O(a)}}function s(){return function(){setTimeout(a,1)}}function a(){for(var t=0;t<B;t+=2){(0,X[t])(X[t+1]),X[t]=void 0,X[t+1]=void 0}B=0}function l(){}function u(){return new TypeError("You cannot resolve a promise with itself")}function c(){return new TypeError("A promises callback cannot return that same promise.")}function h(t){try{return t.then}catch(t){return Q.error=t,Q}}function d(t,e,i,n){try{t.call(e,i,n)}catch(t){return t}}function p(t,e,i){F(function(t){var n=!1,r=d(i,e,function(i){n||(n=!0,e!==i?m(t,i):y(t,i))},function(e){n||(n=!0,b(t,e))},"Settle: "+(t._label||" unknown promise"));!n&&r&&(n=!0,b(t,r))},t)}function f(t,e){e._state===Y?y(t,e._result):e._state===K?b(t,e._result):x(e,void 0,function(e){m(t,e)},function(e){b(t,e)})}function g(t,i){
if(i.constructor===t.constructor)f(t,i);else{var n=h(i);n===Q?b(t,Q.error):void 0===n?y(t,i):e(n)?p(t,i,n):y(t,i)}}function m(e,i){e===i?b(e,u()):t(i)?g(e,i):y(e,i)}function v(t){t._onerror&&t._onerror(t._result),w(t)}function y(t,e){t._state===V&&(t._result=e,t._state=Y,0!==t._subscribers.length&&F(w,t))}function b(t,e){t._state===V&&(t._state=K,t._result=e,F(v,t))}function x(t,e,i,n){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+Y]=i,r[o+K]=n,0===o&&t._state&&F(w,t)}function w(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n,r,o=t._result,s=0;s<e.length;s+=3)n=e[s],r=e[s+i],n?C(i,n,r,o):r(o);t._subscribers.length=0}}function S(){this.error=null}function k(t,e){try{return t(e)}catch(t){return J.error=t,J}}function C(t,i,n,r){var o,s,a,l,u=e(n);if(u){if(o=k(n,r),o===J?(l=!0,s=o.error,o=null):a=!0,i===o)return void b(i,c())}else o=r,a=!0;i._state!==V||(u&&a?m(i,o):l?b(i,s):t===Y?y(i,o):t===K&&b(i,o))}function T(t,e){try{e(function(e){m(t,e)},function(e){b(t,e)})}catch(e){b(t,e)}}function A(t,e){var i=this;i._instanceConstructor=t,i.promise=new t(l),i._validateInput(e)?(i._input=e,i.length=e.length,i._remaining=e.length,i._init(),0===i.length?y(i.promise,i._result):(i.length=i.length||0,i._enumerate(),0===i._remaining&&y(i.promise,i._result))):b(i.promise,i._validationError())}function _(t){return new Z(this,t).promise}function M(t){function e(t){m(r,t)}function i(t){b(r,t)}var n=this,r=new n(l);if(!z(t))return b(r,new TypeError("You must pass an array to race.")),r;for(var o=t.length,s=0;r._state===V&&s<o;s++)x(n.resolve(t[s]),void 0,e,i);return r}function E(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var i=new e(l);return m(i,t),i}function P(t){var e=this,i=new e(l);return b(i,t),i}function L(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function R(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(t){this._id=rt++,this._state=void 0,this._result=void 0,this._subscribers=[],l!==t&&(e(t)||L(),this instanceof j||R(),T(this,t))}function I(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;e&&"[object Promise]"===Object.prototype.toString.call(e.resolve())&&!e.cast||(t.Promise=ot)}var D;D=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var O,N,q,z=D,B=0,F=function(t,e){X[B]=t,X[B+1]=e,2===(B+=2)&&(N?N(a):q())},$="undefined"!=typeof window?window:void 0,H=$||{},U=H.MutationObserver||H.WebKitMutationObserver,W="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,X=new Array(1e3);q=W?function(){return function(){process.nextTick(a)}}():U?function(){var t=0,e=new U(a),i=document.createTextNode("");return e.observe(i,{characterData:!0}),function(){i.data=t=++t%2}}():G?function(){var t=new MessageChannel;return t.port1.onmessage=a,function(){t.port2.postMessage(0)}}():void 0===$&&"function"==typeof require?function(){try{var t=require,e=t("vertx");return O=e.runOnLoop||e.runOnContext,o()}catch(t){return s()}}():s();var V=void 0,Y=1,K=2,Q=new S,J=new S;A.prototype._validateInput=function(t){return z(t)},A.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},A.prototype._init=function(){this._result=new Array(this.length)};var Z=A;A.prototype._enumerate=function(){for(var t=this,e=t.length,i=t.promise,n=t._input,r=0;i._state===V&&r<e;r++)t._eachEntry(n[r],r)},A.prototype._eachEntry=function(t,e){var n=this,r=n._instanceConstructor;i(t)?t.constructor===r&&t._state!==V?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(r.resolve(t),e):(n._remaining--,n._result[e]=t)},A.prototype._settledAt=function(t,e,i){var n=this,r=n.promise;r._state===V&&(n._remaining--,t===K?b(r,i):n._result[e]=i),0===n._remaining&&y(r,n._result)},A.prototype._willSettleAt=function(t,e){var i=this;x(t,void 0,function(t){i._settledAt(Y,e,t)},function(t){i._settledAt(K,e,t)})};var tt=_,et=M,it=E,nt=P,rt=0,ot=j;j.all=tt,j.race=et,j.resolve=it,j.reject=nt,j._setScheduler=n,j._setAsap=r,j._asap=F,j.prototype={constructor:j,then:function(t,e){var i=this,n=i._state;if(n===Y&&!t||n===K&&!e)return this;var r=new this.constructor(l),o=i._result;if(n){var s=arguments[n-1];F(function(){C(n,r,s,o)})}else x(i,r,t,e);return r},catch:function(t){return this.then(null,t)}};var st=I,at={Promise:ot,polyfill:st};"function"==typeof define&&define.amd?define("es6-promise",[],function(){return at}):"undefined"!=typeof module&&module.exports?module.exports=at:void 0!==this&&(this.ES6Promise=at),st()}.call(this),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=Z.type(t);return"function"!==i&&!Z.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t))}function n(t,e,i){if(Z.isFunction(e))return Z.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return Z.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(at.test(e))return Z.filter(e,t,i);e=Z.filter(e,t)}return Z.grep(t,function(t){return G.call(e,t)>=0!==i})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pt[t]={};return Z.each(t.match(dt)||[],function(t,i){e[i]=!0}),e}function s(){Q.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+Math.random()}function l(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(bt,"-$1").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:yt.test(i)?Z.parseJSON(i):i)}catch(t){}vt.set(t,e,i)}else i=void 0;return i}function u(){return!0}function c(){return!1}function h(){try{return Q.activeElement}catch(t){}}function d(t,e){return Z.nodeName(t,"table")&&Z.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=Dt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var i=0,n=t.length;n>i;i++)mt.set(t[i],"globalEval",!e||mt.get(e[i],"globalEval"))}function m(t,e){var i,n,r,o,s,a,l,u;if(1===e.nodeType){if(mt.hasData(t)&&(o=mt.access(t),s=mt.set(e,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(i=0,n=u[r].length;n>i;i++)Z.event.add(e,r,u[r][i])}vt.hasData(t)&&(a=vt.access(t),l=Z.extend({},a),vt.set(e,l))}}function v(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Z.nodeName(t,e)?Z.merge([t],i):i}function y(t,e){var i=e.nodeName.toLowerCase();"input"===i&&kt.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}function b(e,i){var n,r=Z(i.createElement(e)).appendTo(i.body),o=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(r[0]))?n.display:Z.css(r[0],"display");return r.detach(),o}function x(t){var e=Q,i=zt[t];return i||(i=b(t,e),"none"!==i&&i||(qt=(qt||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=qt[0].contentDocument,e.write(),e.close(),i=b(t,e),qt.detach()),zt[t]=i),i}function w(t,e,i){var n,r,o,s,a=t.style;return i=i||$t(t),i&&(s=i.getPropertyValue(e)||i[e]),i&&(""!==s||Z.contains(t.ownerDocument,t)||(s=Z.style(t,e)),Ft.test(s)&&Bt.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function S(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function k(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),n=e,r=Vt.length;r--;)if((e=Vt[r]+i)in t)return e;return n}function C(t,e,i){var n=Ut.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function T(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===i&&(s+=Z.css(t,i+wt[o],!0,r)),n?("content"===i&&(s-=Z.css(t,"padding"+wt[o],!0,r)),"margin"!==i&&(s-=Z.css(t,"border"+wt[o]+"Width",!0,r))):(s+=Z.css(t,"padding"+wt[o],!0,r),"padding"!==i&&(s+=Z.css(t,"border"+wt[o]+"Width",!0,r)));return s}function A(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=$t(t),s="border-box"===Z.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=w(t,e,o),(0>r||null==r)&&(r=t.style[e]),Ft.test(r))return r;n=s&&(K.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+T(t,e,i||(s?"border":"content"),n,o)+"px"}function _(t,e){for(var i,n,r,o=[],s=0,a=t.length;a>s;s++)n=t[s],n.style&&(o[s]=mt.get(n,"olddisplay"),i=n.style.display,e?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&St(n)&&(o[s]=mt.access(n,"olddisplay",x(n.nodeName)))):(r=St(n),"none"===i&&r||mt.set(n,"olddisplay",r?i:Z.css(n,"display"))));for(s=0;a>s;s++)n=t[s],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[s]||"":"none"));return t}function M(t,e,i,n,r){return new M.prototype.init(t,e,i,n,r)}function E(){return setTimeout(function(){Yt=void 0}),Yt=Z.now()}function P(t,e){var i,n=0,r={height:t};for(e=e?1:0;4>n;n+=2-e)i=wt[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function L(t,e,i){for(var n,r=(ee[e]||[]).concat(ee["*"]),o=0,s=r.length;s>o;o++)if(n=r[o].call(i,e,t))return n}function R(t,e,i){var n,r,o,s,a,l,u,c=this,h={},d=t.style,p=t.nodeType&&St(t),f=mt.get(t,"fxshow");i.queue||(a=Z._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,Z.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],u=Z.css(t,"display"),"inline"===("none"===u?mt.get(t,"olddisplay")||x(t.nodeName):u)&&"none"===Z.css(t,"float")&&(d.display="inline-block")),i.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],Qt.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||void 0===f[n])continue;p=!0}h[n]=f&&f[n]||Z.style(t,n)}else u=void 0;if(Z.isEmptyObject(h))"inline"===("none"===u?x(t.nodeName):u)&&(d.display=u);else{f?"hidden"in f&&(p=f.hidden):f=mt.access(t,"fxshow",{}),o&&(f.hidden=!p),p?Z(t).show():c.done(function(){Z(t).hide()}),c.done(function(){var e;mt.remove(t,"fxshow");for(e in h)Z.style(t,e,h[e])});for(n in h)s=L(p?f[n]:0,n,c),n in f||(f[n]=s.start,p&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}function j(t,e){var i,n,r,o,s;for(i in t)if(n=Z.camelCase(i),r=e[n],o=t[i],Z.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(s=Z.cssHooks[n])&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function I(t,e,i){var n,r,o=0,s=te.length,a=Z.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Yt||E(),i=Math.max(0,u.startTime+u.duration-e),n=i/u.duration||0,o=1-n,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(t,[u,o,i]),1>o&&l?i:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Yt||E(),duration:i.duration,tweens:[],createTween:function(e,i){var n=Z.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)u.tweens[i].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),c=u.props;for(j(c,u.opts.specialEasing);s>o;o++)if(n=te[o].call(u,t,c,u.opts))return n;return Z.map(c,L,u),Z.isFunction(u.opts.start)&&u.opts.start.call(t,u),Z.fx.timer(Z.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function D(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(dt)||[];if(Z.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function O(t,e,i,n){function r(a){var l;return o[a]=!0,Z.each(t[a]||[],function(t,a){var u=a(e,i,n);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===be;return r(e.dataTypes[0])||!o["*"]&&r("*")}function N(t,e){var i,n,r=Z.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&Z.extend(!0,t,n),t}function q(t,e,i){for(var n,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}return o?(o!==l[0]&&l.unshift(o),i[o]):void 0}function z(t,e,i,n){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function B(t,e,i,n){var r;if(Z.isArray(e))Z.each(e,function(e,r){i||Se.test(t)?n(t,r):B(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==Z.type(e))n(t,e);else for(r in e)B(t+"["+r+"]",e[r],i,n)}function F(t){return Z.isWindow(t)?t:9===t.nodeType&&t.defaultView}var $=[],H=$.slice,U=$.concat,W=$.push,G=$.indexOf,X={},V=X.toString,Y=X.hasOwnProperty,K={},Q=t.document,J="2.1.1",Z=function(t,e){return new Z.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,it=/-([\da-z])/gi,nt=function(t,e){return e.toUpperCase()};Z.fn=Z.prototype={jquery:J,constructor:Z,selector:"",length:0,toArray:function(){return H.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:H.call(this)},pushStack:function(t){var e=Z.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Z.each(this,t,e)},map:function(t){return this.pushStack(Z.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(H.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:$.sort,splice:$.splice},Z.extend=Z.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===l&&(s=this,a--);l>a;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],n=t[e],s!==n&&(u&&n&&(Z.isPlainObject(n)||(r=Z.isArray(n)))?(r?(r=!1,o=i&&Z.isArray(i)?i:[]):o=i&&Z.isPlainObject(i)?i:{},s[e]=Z.extend(u,o,n)):void 0!==n&&(s[e]=n));return s},Z.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Z.isArray(t)&&t-parseFloat(t)>=0},isPlainObject:function(t){return"object"===Z.type(t)&&!t.nodeType&&!Z.isWindow(t)&&!(t.constructor&&!Y.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?X[V.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;(t=Z.trim(t))&&(1===t.indexOf("use strict")?(e=Q.createElement("script"),e.text=t,Q.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(et,"ms-").replace(it,nt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r=0,o=t.length,s=i(t);if(n){if(s)for(;o>r&&!1!==e.apply(t[r],n);r++);else for(r in t)if(!1===e.apply(t[r],n))break}else if(s)for(;o>r&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?Z.merge(n,"string"==typeof t?[t]:t):W.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:G.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;i>n;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,s=!i;o>r;r++)!e(t[r],r)!==s&&n.push(t[r]);return n},map:function(t,e,n){var r,o=0,s=t.length,a=i(t),l=[];if(a)for(;s>o;o++)null!=(r=e(t[o],o,n))&&l.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&l.push(r);return U.apply([],l)},guid:1,proxy:function(t,e){var i,n,r;return"string"==typeof e&&(i=t[e],e=t,t=i),Z.isFunction(t)?(n=H.call(arguments,2),r=function(){return t.apply(e||this,n.concat(H.call(arguments)))},r.guid=t.guid=t.guid||Z.guid++,r):void 0},now:Date.now,support:K}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()});var rt=function(t){function e(t,e,i,n){var r,o,s,a,u,h,d,p,f,g;if((e?e.ownerDocument||e:q)!==P&&E(e),e=e||P,i=i||[],!t||"string"!=typeof t)return i;if(1!==(a=e.nodeType)&&9!==a)return[];if(R&&!n){if(r=mt.exec(t))if(s=r[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return i;if(o.id===s)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&O(e,o)&&o.id===s)return i.push(o),i}else{if(r[2])return Q.apply(i,e.getElementsByTagName(t)),i;if((s=r[3])&&b.getElementsByClassName&&e.getElementsByClassName)return Q.apply(i,e.getElementsByClassName(s)),i}if(b.qsa&&(!j||!j.test(t))){if(p=d=N,f=e,g=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(h=k(t),(d=e.getAttribute("id"))?p=d.replace(yt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",u=h.length;u--;)h[u]=p+c(h[u]);f=vt.test(t)&&l(e.parentNode)||e,g=h.join(",")}if(g)try{return Q.apply(i,f.querySelectorAll(g)),i}catch(t){}finally{d||e.removeAttribute("id")}}}return T(t.replace(st,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>x.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[N]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=t.length;n--;)x.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||G)-(~t.sourceIndex||G);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function l(t){return t&&typeof t.getElementsByTagName!==W&&t}function u(){}function c(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function h(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=B++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,s){var a,l,u=[z,o];if(s){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(l=e[N]||(e[N]={}),(a=l[n])&&a[0]===z&&a[1]===o)return u[2]=a[2];if(l[n]=u,u[2]=t(e,i,s))return!0}}}function d(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function p(t,i,n){for(var r=0,o=i.length;o>r;r++)e(t,i[r],n);return n}function f(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(!i||i(o,n,r))&&(s.push(o),u&&e.push(a));return s}function g(t,e,i,r,o,s){return r&&!r[N]&&(r=g(r)),o&&!o[N]&&(o=g(o,s)),n(function(n,s,a,l){var u,c,h,d=[],g=[],m=s.length,v=n||p(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:f(v,d,t,a,l),b=i?o||(n?t:m||r)?[]:s:y;if(i&&i(y,b,a,l),r)for(u=f(b,g),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(b[g[c]]=!(y[g[c]]=h));if(n){if(o||t){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);o(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=o?Z.call(n,h):d[c])>-1&&(n[u]=!(s[u]=h))}}else b=f(b===s?b.splice(m,b.length):b),o?o(null,s,b,l):Q.apply(s,b)})}function m(t){for(var e,i,n,r=t.length,o=x.relative[t[0].type],s=o||x.relative[" "],a=o?1:0,l=h(function(t){return t===e},s,!0),u=h(function(t){return Z.call(e,t)>-1},s,!0),p=[function(t,i,n){return!o&&(n||i!==A)||((e=i).nodeType?l(t,i,n):u(t,i,n))}];r>a;a++)if(i=x.relative[t[a].type])p=[h(d(p),i)];else{if(i=x.filter[t[a].type].apply(null,t[a].matches),i[N]){for(n=++a;r>n&&!x.relative[t[n].type];n++);return g(a>1&&d(p),a>1&&c(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),i,n>a&&m(t.slice(a,n)),r>n&&m(t=t.slice(n)),r>n&&c(t))}p.push(i)}return d(p)}function v(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,l,u){var c,h,d,p=0,g="0",m=n&&[],v=[],y=A,b=n||o&&x.find.TAG("*",u),w=z+=null==y?1:Math.random()||.1,S=b.length;for(u&&(A=s!==P&&s);g!==S&&null!=(c=b[g]);g++){if(o&&c){for(h=0;d=t[h++];)if(d(c,s,a)){l.push(c);break}u&&(z=w)}r&&((c=!d&&c)&&p--,n&&m.push(c))}if(p+=g,r&&g!==p){for(h=0;d=i[h++];)d(m,v,s,a);if(n){if(p>0)for(;g--;)m[g]||v[g]||(v[g]=Y.call(l));v=f(v)}Q.apply(l,v),u&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return u&&(z=w,A=y),m};return r?n(s):s}var y,b,x,w,S,k,C,T,A,_,M,E,P,L,R,j,I,D,O,N="sizzle"+-new Date,q=t.document,z=0,B=0,F=i(),$=i(),H=i(),U=function(t,e){return t===e&&(M=!0),0},W="undefined",G=1<<31,X={}.hasOwnProperty,V=[],Y=V.pop,K=V.push,Q=V.push,J=V.slice,Z=V.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",et="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=it.replace("w","w#"),rt="\\["+et+"*("+it+")(?:"+et+"*([*^$|!~]?=)"+et+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+nt+"))|)"+et+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",st=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),at=new RegExp("^"+et+"*,"+et+"*"),lt=new RegExp("^"+et+"*([>+~]|"+et+")"+et+"*"),ut=new RegExp("="+et+"*([^\\]'\"]*?)"+et+"*\\]","g"),ct=new RegExp(ot),ht=new RegExp("^"+nt+"$"),dt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,ft=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,yt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+et+"?|("+et+")|.)","ig"),xt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{Q.apply(V=J.call(q.childNodes),q.childNodes),V[q.childNodes.length].nodeType}catch(t){Q={apply:V.length?function(t,e){K.apply(t,J.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}b=e.support={},S=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},E=e.setDocument=function(t){var e,i=t?t.ownerDocument||t:q,n=i.defaultView;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,L=i.documentElement,R=!S(i),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){E()},!1):n.attachEvent&&n.attachEvent("onunload",function(){E()})),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=gt.test(i.getElementsByClassName)&&r(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),b.getById=r(function(t){return L.appendChild(t).id=N,!i.getElementsByName||!i.getElementsByName(N).length}),b.getById?(x.find.ID=function(t,e){if(typeof e.getElementById!==W&&R){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},x.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(bt,xt);return function(t){var i=typeof t.getAttributeNode!==W&&t.getAttributeNode("id");return i&&i.value===e}}),x.find.TAG=b.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==W?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},x.find.CLASS=b.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==W&&R?e.getElementsByClassName(t):void 0},I=[],j=[],(b.qsa=gt.test(i.querySelectorAll))&&(r(function(t){t.innerHTML="<select msallowclip=''><option selected=''></option></select>",t.querySelectorAll("[msallowclip^='']").length&&j.push("[*^$]="+et+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||j.push("\\["+et+"*(?:value|"+tt+")"),t.querySelectorAll(":checked").length||j.push(":checked")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&j.push("name"+et+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||j.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),j.push(",.*:")})),(b.matchesSelector=gt.test(D=L.matches||L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(t){b.disconnectedMatch=D.call(t,"div"),D.call(t,"[s!='']:x"),I.push("!=",ot)}),j=j.length&&new RegExp(j.join("|")),I=I.length&&new RegExp(I.join("|")),e=gt.test(L.compareDocumentPosition),O=e||gt.test(L.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!b.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===q&&O(q,t)?-1:e===i||e.ownerDocument===q&&O(q,e)?1:_?Z.call(_,t)-Z.call(_,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,r=0,o=t.parentNode,a=e.parentNode,l=[t],u=[e];if(!o||!a)return t===i?-1:e===i?1:o?-1:a?1:_?Z.call(_,t)-Z.call(_,e):0;if(o===a)return s(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===q?-1:u[r]===q?1:0},i):P},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==P&&E(t),i=i.replace(ut,"='$1']"),!(!b.matchesSelector||!R||I&&I.test(i)||j&&j.test(i)))try{var n=D.call(t,i);if(n||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,P,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==P&&E(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==P&&E(t);var i=x.attrHandle[e.toLowerCase()],n=i&&X.call(x.attrHandle,e.toLowerCase())?i(t,e,!R):void 0;return void 0!==n?n:b.attributes||!R?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(M=!b.detectDuplicates,_=!b.sortStable&&t.slice(0),t.sort(U),M){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return _=null,t},w=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=w(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=w(e);return i},x=e.selectors={cacheLength:50,createPseudo:n,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ct.test(i)&&(e=k(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=F[t+" "];return e||(e=new RegExp("(^|"+et+")"+t+"("+et+"|$)"))&&F(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==W&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var u,c,h,d,p,f,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(c=m[N]||(m[N]={}),u=c[t]||[],p=u[0]===z&&u[1],d=u[0]===z&&u[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){c[t]=[z,p,d];break}}else if(y&&(u=(e[N]||(e[N]={}))[t])&&u[0]===z)d=u[1];else for(;(h=++p&&h&&h[g]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[N]||(h[N]={}))[t]=[z,d]),h!==e)););return(d-=r)===n||d%n==0&&d/n>=0}}},PSEUDO:function(t,i){var r,o=x.pseudos[t]||x.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[N]?o(i):o.length>1?(r=[t,t,"",i],x.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),s=r.length;s--;)n=Z.call(t,r[s]),t[n]=!(e[n]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=C(t.replace(st,"$1"));return r[N]?n(function(t,e,i,n){
for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:n(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,xt).toLowerCase(),function(e){var i;do{if(i=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return ft.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,i){return[0>i?i+e:i]}),even:a(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:a(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:a(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:a(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(y);return u.prototype=x.filters=x.pseudos,x.setFilters=new u,k=e.tokenize=function(t,i){var n,r,o,s,a,l,u,c=$[t+" "];if(c)return i?0:c.slice(0);for(a=t,l=[],u=x.preFilter;a;){(!n||(r=at.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=lt.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(st," ")}),a=a.slice(n.length));for(s in x.filter)!(r=dt[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):$(t,l).slice(0)},C=e.compile=function(t,e){var i,n=[],r=[],o=H[t+" "];if(!o){for(e||(e=k(t)),i=e.length;i--;)o=m(e[i]),o[N]?n.push(o):r.push(o);o=H(t,v(r,n)),o.selector=t}return o},T=e.select=function(t,e,i,n){var r,o,s,a,u,h="function"==typeof t&&t,d=!n&&k(t=h.selector||t);if(i=i||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&b.getById&&9===e.nodeType&&R&&x.relative[o[1].type]){if(!(e=(x.find.ID(s.matches[0].replace(bt,xt),e)||[])[0]))return i;h&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=dt.needsContext.test(t)?0:o.length;r--&&(s=o[r],!x.relative[a=s.type]);)if((u=x.find[a])&&(n=u(s.matches[0].replace(bt,xt),vt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(r,1),!(t=n.length&&c(o)))return Q.apply(i,n),i;break}}return(h||C(t,d))(n,e,!R,i,vt.test(t)&&l(e.parentNode)||e),i},b.sortStable=N.split("").sort(U).join("")===N,b.detectDuplicates=!!M,E(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(tt,function(t,e,i){var n;return i?void 0:!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);Z.find=rt,Z.expr=rt.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=rt.uniqueSort,Z.text=rt.getText,Z.isXMLDoc=rt.isXML,Z.contains=rt.contains;var ot=Z.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Z.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?Z.find.matchesSelector(n,t)?[n]:[]:Z.find.matches(t,Z.grep(e,function(t){return 1===t.nodeType}))},Z.fn.extend({find:function(t){var e,i=this.length,n=[],r=this;if("string"!=typeof t)return this.pushStack(Z(t).filter(function(){for(e=0;i>e;e++)if(Z.contains(r[e],this))return!0}));for(e=0;i>e;e++)Z.find(t,r[e],n);return n=this.pushStack(i>1?Z.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&ot.test(t)?Z(t):t||[],!1).length}});var lt,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(Z.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ut.exec(t))||!i[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Z?e[0]:e,Z.merge(this,Z.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:Q,!0)),st.test(i[1])&&Z.isPlainObject(e))for(i in e)Z.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return n=Q.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=Q,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Z.isFunction(t)?void 0!==lt.ready?lt.ready(t):t(Z):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))}).prototype=Z.fn,lt=Z(Q);var ct=/^(?:parents|prev(?:Until|All))/,ht={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Z(t).is(i))break;n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),Z.fn.extend({has:function(t){var e=Z(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(Z.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,o=[],s=ot.test(t)||"string"!=typeof t?Z(t,e||this.context):0;r>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&Z.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(t){return t?"string"==typeof t?G.call(Z(t),this[0]):G.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Z.unique(Z.merge(this.get(),Z(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,i){return Z.dir(t,"parentNode",i)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,i){return Z.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return Z.dir(t,"previousSibling",i)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(i,n){var r=Z.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=Z.filter(n,r)),this.length>1&&(ht[t]||Z.unique(r),ct.test(t)&&r.reverse()),this.pushStack(r)}});var dt=/\S+/g,pt={};Z.Callbacks=function(t){t="string"==typeof t?pt[t]||o(t):Z.extend({},t);var e,i,n,r,s,a,l=[],u=!t.once&&[],c=function(o){for(e=t.memory&&o,i=!0,a=r||0,r=0,s=l.length,n=!0;l&&s>a;a++)if(!1===l[a].apply(o[0],o[1])&&t.stopOnFalse){e=!1;break}n=!1,l&&(u?u.length&&c(u.shift()):e?l=[]:h.disable())},h={add:function(){if(l){var i=l.length;!function e(i){Z.each(i,function(i,n){var r=Z.type(n);"function"===r?t.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==r&&e(n)})}(arguments),n?s=l.length:e&&(r=i,c(e))}return this},remove:function(){return l&&Z.each(arguments,function(t,e){for(var i;(i=Z.inArray(e,l,i))>-1;)l.splice(i,1),n&&(s>=i&&s--,a>=i&&a--)}),this},has:function(t){return t?Z.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=e=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,e||h.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||i&&!u||(e=e||[],e=[t,e.slice?e.slice():e],n?u.push(e):c(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Z.Deferred(function(i){Z.each(e,function(e,o){var s=Z.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,n):n}},r={};return n.pipe=n.then,Z.each(e,function(t,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=s.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=H.call(arguments),s=o.length,a=1!==s||t&&Z.isFunction(t.promise)?s:0,l=1===a?t:Z.Deferred(),u=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?H.call(arguments):r,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);s>r;r++)o[r]&&Z.isFunction(o[r].promise)?o[r].promise().done(u(r,n,o)).fail(l.reject).progress(u(r,i,e)):--a;return a||l.resolveWith(n,o),l.promise()}});var ft;Z.fn.ready=function(t){return Z.ready.promise().done(t),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){(!0===t?--Z.readyWait:Z.isReady)||(Z.isReady=!0,!0!==t&&--Z.readyWait>0||(ft.resolveWith(Q,[Z]),Z.fn.triggerHandler&&(Z(Q).triggerHandler("ready"),Z(Q).off("ready"))))}}),Z.ready.promise=function(e){return ft||(ft=Z.Deferred(),"complete"===Q.readyState?setTimeout(Z.ready):(Q.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),ft.promise(e)},Z.ready.promise();var gt=Z.access=function(t,e,i,n,r,o,s){var a=0,l=t.length,u=null==i;if("object"===Z.type(i)){r=!0;for(a in i)Z.access(t,e,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,Z.isFunction(n)||(s=!0),u&&(s?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(Z(t),i)})),e))for(;l>a;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:u?e.call(t):l?e(t[0],i):o};Z.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=a.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,Z.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=i;else if(Z.isEmptyObject(o))Z.extend(this.cache[r],e);else for(n in e)o[n]=e[n];return o},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,Z.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,r,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{Z.isArray(e)?n=e.concat(e.map(Z.camelCase)):(r=Z.camelCase(e),e in s?n=[e,r]:(n=r,n=n in s?[n]:n.match(dt)||[])),i=n.length;for(;i--;)delete s[n[i]]}},hasData:function(t){return!Z.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var mt=new a,vt=new a,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;Z.extend({hasData:function(t){return vt.hasData(t)||mt.hasData(t)},data:function(t,e,i){return vt.access(t,e,i)},removeData:function(t,e){vt.remove(t,e)},_data:function(t,e,i){return mt.access(t,e,i)},_removeData:function(t,e){mt.remove(t,e)}}),Z.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=vt.get(o),1===o.nodeType&&!mt.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&(n=s[i].name,0===n.indexOf("data-")&&(n=Z.camelCase(n.slice(5)),l(o,n,r[n])));mt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){vt.set(this,t)}):gt(this,function(e){var i,n=Z.camelCase(t);if(o&&void 0===e){if(void 0!==(i=vt.get(o,t)))return i;if(void 0!==(i=vt.get(o,n)))return i;if(void 0!==(i=l(o,n,void 0)))return i}else this.each(function(){var i=vt.get(this,n);vt.set(this,n,e),-1!==t.indexOf("-")&&void 0!==i&&vt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){vt.remove(this,t)})}}),Z.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=mt.get(t,e),i&&(!n||Z.isArray(i)?n=mt.access(t,e,Z.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=Z.queue(t,e),n=i.length,r=i.shift(),o=Z._queueHooks(t,e),s=function(){Z.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return mt.get(t,i)||mt.access(t,i,{empty:Z.Callbacks("once memory").add(function(){mt.remove(t,[e+"queue",i])})})}}),Z.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?Z.queue(this[0],t):void 0===e?this:this.each(function(){var i=Z.queue(this,t,e);Z._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=Z.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=mt.get(o[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wt=["Top","Right","Bottom","Left"],St=function(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)},kt=/^(?:checkbox|radio)$/i;!function(){var t=Q.createDocumentFragment(),e=t.appendChild(Q.createElement("div")),i=Q.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ct="undefined";K.focusinBubbles="onfocusin"in t;var Tt=/^key/,At=/^(?:mouse|pointer|contextmenu)|click/,_t=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(t,e,i,n,r){var o,s,a,l,u,c,h,d,p,f,g,m=mt.get(t);if(m)for(i.handler&&(o=i,i=o.handler,r=o.selector),i.guid||(i.guid=Z.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return typeof Z!==Ct&&Z.event.triggered!==e.type?Z.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(dt)||[""],u=e.length;u--;)a=Mt.exec(e[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p&&(h=Z.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=Z.event.special[p]||{},c=Z.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=l[p])||(d=l[p]=[],d.delegateCount=0,h.setup&&!1!==h.setup.call(t,n,f,s)||t.addEventListener&&t.addEventListener(p,s,!1)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),Z.event.global[p]=!0)},remove:function(t,e,i,n,r){var o,s,a,l,u,c,h,d,p,f,g,m=mt.hasData(t)&&mt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(dt)||[""],u=e.length;u--;)if(a=Mt.exec(e[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(h=Z.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,d=l[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&g!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,m.handle)||Z.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)Z.event.remove(t,p+e[u],i,n,!0);Z.isEmptyObject(l)&&(delete m.handle,mt.remove(t,"events"))}},trigger:function(e,i,n,r){var o,s,a,l,u,c,h,d=[n||Q],p=Y.call(e,"type")?e.type:e,f=Y.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||Q,3!==n.nodeType&&8!==n.nodeType&&!_t.test(p+Z.event.triggered)&&(p.indexOf(".")>=0&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[Z.expando]?e:new Z.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:Z.makeArray(i,[e]),h=Z.event.special[p]||{},r||!h.trigger||!1!==h.trigger.apply(n,i))){if(!r&&!h.noBubble&&!Z.isWindow(n)){for(l=h.delegateType||p,_t.test(l+p)||(s=s.parentNode);s;s=s.parentNode)d.push(s),a=s;a===(n.ownerDocument||Q)&&d.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=d[o++])&&!e.isPropagationStopped();)e.type=o>1?l:h.bindType||p,c=(mt.get(s,"events")||{})[e.type]&&mt.get(s,"handle"),c&&c.apply(s,i),(c=u&&s[u])&&c.apply&&Z.acceptData(s)&&(e.result=c.apply(s,i),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(d.pop(),i)||!Z.acceptData(n)||u&&Z.isFunction(n[p])&&!Z.isWindow(n)&&(a=n[u],a&&(n[u]=null),Z.event.triggered=p,n[p](),Z.event.triggered=void 0,a&&(n[u]=a)),e.result}},dispatch:function(t){t=Z.event.fix(t);var e,i,n,r,o,s=[],a=H.call(arguments),l=(mt.get(this,"events")||{})[t.type]||[],u=Z.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(s=Z.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,void 0!==(n=((Z.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==t.type){for(n=[],i=0;a>i;i++)o=e[i],r=o.selector+" ",void 0===n[r]&&(n[r]=o.needsContext?Z(r,this).index(l)>=0:Z.find(r,this,null,[l]).length),n[r]&&n.push(o);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||Q,n=i.documentElement,r=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Z.expando])return t;var e,i,n,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=At.test(r)?this.mouseHooks:Tt.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new Z.Event(o),e=n.length;e--;)i=n[e],t[i]=o[i];return t.target||(t.target=Q),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Z.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var r=Z.extend(new Z.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?Z.event.trigger(r,null,e):Z.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},Z.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?u:c):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==n&&!Z.contains(n,r))&&(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),K.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)};Z.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=mt.access(n,e);r||n.addEventListener(t,i,!0),mt.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=mt.access(n,e)-1;r?mt.access(n,e,r):(n.removeEventListener(t,i,!0),mt.remove(n,e))}}}),Z.fn.extend({on:function(t,e,i,n,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(s in t)this.on(s,e,i,t[s],r);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),!1===n)n=c;else if(!n)return this;return 1===r&&(o=n,n=function(t){return Z().off(t),o.apply(this,arguments)},n.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,Z(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(!1===e||"function"==typeof e)&&(i=e,e=void 0),!1===i&&(i=c),this.each(function(){Z.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?Z.event.trigger(t,e,i,!0):void 0}});var Et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pt=/<([\w:]+)/,Lt=/<|&#?\w+;/,Rt=/<(?:script|style|link)/i,jt=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^$|\/(?:java|ecma)script/i,Dt=/^true\/(.*)/,Ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,Z.extend({clone:function(t,e,i){var n,r,o,s,a=t.cloneNode(!0),l=Z.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(s=v(a),o=v(t),n=0,r=o.length;r>n;n++)y(o[n],s[n]);if(e)if(i)for(o=o||v(t),s=s||v(a),n=0,r=o.length;r>n;n++)m(o[n],s[n]);else m(t,a);return s=v(a,"script"),s.length>0&&g(s,!l&&v(t,"script")),a},buildFragment:function(t,e,i,n){for(var r,o,s,a,l,u,c=e.createDocumentFragment(),h=[],d=0,p=t.length;p>d;d++)if((r=t[d])||0===r)if("object"===Z.type(r))Z.merge(h,r.nodeType?[r]:r);else if(Lt.test(r)){for(o=o||c.appendChild(e.createElement("div")),s=(Pt.exec(r)||["",""])[1].toLowerCase(),a=Nt[s]||Nt._default,o.innerHTML=a[1]+r.replace(Et,"<$1></$2>")+a[2],u=a[0];u--;)o=o.lastChild;Z.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(e.createTextNode(r));for(c.textContent="",d=0;r=h[d++];)if((!n||-1===Z.inArray(r,n))&&(l=Z.contains(r.ownerDocument,r),o=v(c.appendChild(r),"script"),l&&g(o),i))for(u=0;r=o[u++];)It.test(r.type||"")&&i.push(r);return c},cleanData:function(t){for(var e,i,n,r,o=Z.event.special,s=0;void 0!==(i=t[s]);s++){if(Z.acceptData(i)&&(r=i[mt.expando])&&(e=mt.cache[r])){if(e.events)for(n in e.events)o[n]?Z.event.remove(i,n):Z.removeEvent(i,n,e.handle);mt.cache[r]&&delete mt.cache[r]}delete vt.cache[i[vt.expando]]}}}),Z.fn.extend({text:function(t){return gt(this,function(t){return void 0===t?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){d(this,t).appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?Z.filter(t,this):this,r=0;null!=(i=n[r]);r++)e||1!==i.nodeType||Z.cleanData(v(i)),i.parentNode&&(e&&Z.contains(i.ownerDocument,i)&&g(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Z.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return gt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Rt.test(t)&&!Nt[(Pt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Et,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(Z.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Z.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=U.apply([],t);var i,n,r,o,s,a,l=0,u=this.length,c=this,h=u-1,d=t[0],g=Z.isFunction(d);if(g||u>1&&"string"==typeof d&&!K.checkClone&&jt.test(d))return this.each(function(i){var n=c.eq(i);g&&(t[0]=d.call(this,i,n.html())),n.domManip(t,e)});if(u&&(i=Z.buildFragment(t,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(r=Z.map(v(i,"script"),p),o=r.length;u>l;l++)s=i,l!==h&&(s=Z.clone(s,!0,!0),o&&Z.merge(r,v(s,"script"))),e.call(this[l],s,l);if(o)for(a=r[r.length-1].ownerDocument,Z.map(r,f),l=0;o>l;l++)s=r[l],It.test(s.type||"")&&!mt.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Ot,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(t){for(var i,n=[],r=Z(t),o=r.length-1,s=0;o>=s;s++)i=s===o?this:this.clone(!0),Z(r[s])[e](i),W.apply(n,i.get());return this.pushStack(n)}});var qt,zt={},Bt=/^margin/,Ft=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),$t=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(o);var e=t.getComputedStyle(s,null);i="1%"!==e.top,n="4px"===e.width,r.removeChild(o)}var i,n,r=Q.documentElement,o=Q.createElement("div"),s=Q.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),t.getComputedStyle&&Z.extend(K,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,i=s.appendChild(Q.createElement("div"));return i.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",s.style.width="1px",r.appendChild(o),e=!parseFloat(t.getComputedStyle(i,null).marginRight),r.removeChild(o),e}}))}(),Z.swap=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r};var Ht=/^(none|table(?!-c[ea]).+)/,Ut=new RegExp("^("+xt+")(.*)$","i"),Wt=new RegExp("^([+-])=("+xt+")","i"),Gt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Vt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=w(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=Z.camelCase(e),l=t.style;return e=Z.cssProps[a]||(Z.cssProps[a]=k(l,a)),s=Z.cssHooks[e]||Z.cssHooks[a],void 0===i?s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:l[e]:(o=typeof i,"string"===o&&(r=Wt.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(Z.css(t,e)),o="number"),void(null!=i&&i===i&&("number"!==o||Z.cssNumber[a]||(i+="px"),K.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l[e]=i))))}},css:function(t,e,i,n){var r,o,s,a=Z.camelCase(e)
;return e=Z.cssProps[a]||(Z.cssProps[a]=k(t.style,a)),s=Z.cssHooks[e]||Z.cssHooks[a],s&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=w(t,e,n)),"normal"===r&&e in Xt&&(r=Xt[e]),""===i||i?(o=parseFloat(r),!0===i||Z.isNumeric(o)?o||0:r):r}}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,i,n){return i?Ht.test(Z.css(t,"display"))&&0===t.offsetWidth?Z.swap(t,Gt,function(){return A(t,e,n)}):A(t,e,n):void 0},set:function(t,i,n){var r=n&&$t(t);return C(t,i,n?T(t,e,n,"border-box"===Z.css(t,"boxSizing",!1,r),r):0)}}}),Z.cssHooks.marginRight=S(K.reliableMarginRight,function(t,e){return e?Z.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];4>n;n++)r[t+wt[n]+e]=o[n]||o[n-2]||o[0];return r}},Bt.test(t)||(Z.cssHooks[t+e].set=C)}),Z.fn.extend({css:function(t,e){return gt(this,function(t,e,i){var n,r,o={},s=0;if(Z.isArray(e)){for(n=$t(t),r=e.length;r>s;s++)o[e[s]]=Z.css(t,e[s],!1,n);return o}return void 0!==i?Z.style(t,e,i):Z.css(t,e)},t,e,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){St(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=M,M.prototype={constructor:M,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(Z.cssNumber[i]?"":"px")},cur:function(){var t=M.propHooks[this.prop];return t&&t.get?t.get(this):M.propHooks._default.get(this)},run:function(t){var e,i=M.propHooks[this.prop];return this.pos=e=this.options.duration?Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.fx=M.prototype.init,Z.fx.step={};var Yt,Kt,Qt=/^(?:toggle|show|hide)$/,Jt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),Zt=/queueHooks$/,te=[R],ee={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),r=Jt.exec(e),o=r&&r[3]||(Z.cssNumber[t]?"":"px"),s=(Z.cssNumber[t]||"px"!==o&&+n)&&Jt.exec(Z.css(i.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+n||1;do{a=a||".5",s/=a,Z.style(i.elem,t,s+o)}while(a!==(a=i.cur()/n)&&1!==a&&--l)}return r&&(s=i.start=+s||+n||0,i.unit=o,i.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),i}]};Z.Animation=Z.extend(I,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;r>n;n++)i=t[n],ee[i]=ee[i]||[],ee[i].unshift(e)},prefilter:function(t,e){e?te.unshift(t):te.push(t)}}),Z.speed=function(t,e,i){var n=t&&"object"==typeof t?Z.extend({},t):{complete:i||!i&&e||Z.isFunction(t)&&t,duration:t,easing:i&&e||e&&!Z.isFunction(e)&&e};return n.duration=Z.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Z.fx.speeds?Z.fx.speeds[n.duration]:Z.fx.speeds._default,(null==n.queue||!0===n.queue)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Z.isFunction(n.old)&&n.old.call(this),n.queue&&Z.dequeue(this,n.queue)},n},Z.fn.extend({fadeTo:function(t,e,i,n){return this.filter(St).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=Z.isEmptyObject(t),o=Z.speed(e,i,n),s=function(){var e=I(this,Z.extend({},t),o);(r||mt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=Z.timers,s=mt.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&Zt.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));(e||!i)&&Z.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=mt.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=Z.timers,s=n?n.length:0;for(i.finish=!0,Z.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),Z.each(["toggle","show","hide"],function(t,e){var i=Z.fn[e];Z.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(P(e,!0),t,n,r)}}),Z.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),Z.timers=[],Z.fx.tick=function(){var t,e=0,i=Z.timers;for(Yt=Z.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||Z.fx.stop(),Yt=void 0},Z.fx.timer=function(t){Z.timers.push(t),t()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Kt||(Kt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Kt),Kt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t=Q.createElement("input"),e=Q.createElement("select"),i=e.appendChild(Q.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=i.selected,e.disabled=!0,K.optDisabled=!i.disabled,t=Q.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var ie,ne=Z.expr.attrHandle;Z.fn.extend({attr:function(t,e){return gt(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})}}),Z.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Ct?Z.prop(t,e,i):(1===o&&Z.isXMLDoc(t)||(e=e.toLowerCase(),n=Z.attrHooks[e]||(Z.expr.match.bool.test(e)?ie:void 0)),void 0===i?n&&"get"in n&&null!==(r=n.get(t,e))?r:(r=Z.find.attr(t,e),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:(t.setAttribute(e,i+""),i):void Z.removeAttr(t,e))},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(dt);if(o&&1===t.nodeType)for(;i=o[r++];)n=Z.propFix[i]||i,Z.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),ie={set:function(t,e,i){return!1===e?Z.removeAttr(t,i):t.setAttribute(i,i),i}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ne[e]||Z.find.attr;ne[e]=function(t,e,n){var r,o;return n||(o=ne[e],ne[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,ne[e]=o),r}});var re=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(t,e){return gt(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Z.propFix[t]||t]})}}),Z.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,i){var n,r,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!Z.isXMLDoc(t),o&&(e=Z.propFix[e]||e,r=Z.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||re.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(Z.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var oe=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(t){var e,i,n,r,o,s,a="string"==typeof t&&t,l=0,u=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(dt)||[];u>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(oe," "):" ")){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=Z.trim(n),i.className!==s&&(i.className=s)}return this},removeClass:function(t){var e,i,n,r,o,s,a=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(dt)||[];u>l;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(oe," "):"")){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");s=t?Z.trim(n):"",i.className!==s&&(i.className=s)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):this.each(Z.isFunction(t)?function(i){Z(this).toggleClass(t.call(this,i,this.className,e),e)}:function(){if("string"===i)for(var e,n=0,r=Z(this),o=t.match(dt)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(i===Ct||"boolean"===i)&&(this.className&&mt.set(this,"__className__",this.className),this.className=this.className||!1===t?"":mt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(oe," ").indexOf(e)>=0)return!0;return!1}});var se=/\r/g;Z.fn.extend({val:function(t){var e,i,n,r=this[0];return arguments.length?(n=Z.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,Z(this).val()):t,null==r?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(t){return null==t?"":t+""})),(e=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(se,""):null==i?"":i)):void 0}}),Z.extend({valHooks:{option:{get:function(t){var e=Z.find.attr(t,"value");return null!=e?e:Z.trim(Z.text(t))}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:n.length,l=0>r?a:o?r:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==r||(K.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Z.nodeName(i.parentNode,"optgroup"))){if(e=Z(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=Z.makeArray(e),s=r.length;s--;)n=r[s],(n.selected=Z.inArray(n.value,o)>=0)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(t,e){return Z.isArray(e)?t.checked=Z.inArray(Z(t).val(),e)>=0:void 0}},K.checkOn||(Z.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),Z.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var ae=Z.now(),le=/\?/;Z.parseJSON=function(t){return JSON.parse(t+"")},Z.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(t){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+t),e};var ue,ce,he=/#.*$/,de=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,fe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ge=/^(?:GET|HEAD)$/,me=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ye={},be={},xe="*/".concat("*");try{ce=location.href}catch(t){ce=Q.createElement("a"),ce.href="",ce=ce.href}ue=ve.exec(ce.toLowerCase())||[],Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ce,type:"GET",isLocal:fe.test(ue[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?N(N(t,Z.ajaxSettings),e):N(Z.ajaxSettings,t)},ajaxPrefilter:D(ye),ajaxTransport:D(be),ajax:function(t,e){function i(t,e,i,s){var l,c,v,y,x,S=e;2!==b&&(b=2,a&&clearTimeout(a),n=void 0,o=s||"",w.readyState=t>0?4:0,l=t>=200&&300>t||304===t,i&&(y=q(h,w,i)),y=z(h,y,w,l),l?(h.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(Z.lastModified[r]=x),(x=w.getResponseHeader("etag"))&&(Z.etag[r]=x)),204===t||"HEAD"===h.type?S="nocontent":304===t?S="notmodified":(S=y.state,c=y.data,v=y.error,l=!v)):(v=S,(t||!S)&&(S="error",0>t&&(t=0))),w.status=t,w.statusText=(e||S)+"",l?f.resolveWith(d,[c,S,w]):f.rejectWith(d,[w,S,v]),w.statusCode(m),m=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[w,h,l?c:v]),g.fireWith(d,[w,S]),u&&(p.trigger("ajaxComplete",[w,h]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,o,s,a,l,u,c,h=Z.ajaxSetup({},e),d=h.context||h,p=h.context&&(d.nodeType||d.jquery)?Z(d):Z.event,f=Z.Deferred(),g=Z.Callbacks("once memory"),m=h.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=pe.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return b||(t=y[i]=y[i]||t,v[t]=e),this},overrideMimeType:function(t){return b||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)m[e]=[m[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return n&&n.abort(e),i(0,e),this}};if(f.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||ce)+"").replace(he,"").replace(me,ue[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Z.trim(h.dataType||"*").toLowerCase().match(dt)||[""],null==h.crossDomain&&(l=ve.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===ue[1]&&l[2]===ue[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ue[3]||("http:"===ue[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Z.param(h.data,h.traditional)),O(ye,h,e,w),2===b)return w;u=h.global,u&&0==Z.active++&&Z.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ge.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(le.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=de.test(r)?r.replace(de,"$1_="+ae++):r+(le.test(r)?"&":"?")+"_="+ae++)),h.ifModified&&(Z.lastModified[r]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&w.setRequestHeader("If-None-Match",Z.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+xe+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)w.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(!1===h.beforeSend.call(d,w,h)||2===b))return w.abort();x="abort";for(c in{success:1,error:1,complete:1})w[c](h[c]);if(n=O(be,h,e,w)){w.readyState=1,u&&p.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout));try{b=1,n.send(v,i)}catch(t){if(!(2>b))throw t;i(-1,t)}}else i(-1,"No Transport");return w},getJSON:function(t,e,i){return Z.get(t,e,i,"json")},getScript:function(t,e){return Z.get(t,void 0,e,"script")}}),Z.each(["get","post"],function(t,e){Z[e]=function(t,i,n,r){return Z.isFunction(i)&&(r=r||n,n=i,i=void 0),Z.ajax({url:t,type:e,dataType:r,data:i,success:n})}}),Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z._evalUrl=function(t){return Z.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Z.fn.extend({wrapAll:function(t){var e;return Z.isFunction(t)?this.each(function(e){Z(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Z(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Z.isFunction(t)?function(e){Z(this).wrapInner(t.call(this,e))}:function(){var e=Z(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t);return this.each(function(i){Z(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)};var we=/%20/g,Se=/\[\]$/,ke=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;Z.param=function(t,e){var i,n=[],r=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){r(this.name,this.value)});else for(i in t)B(i,t[i],e,r);return n.join("&").replace(we,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Z.prop(this,"elements");return t?Z.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Z(this).is(":disabled")&&Te.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!kt.test(t))}).map(function(t,e){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(t){return{name:e.name,value:t.replace(ke,"\r\n")}}):{name:e.name,value:i.replace(ke,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Ae=0,_e={},Me={0:200,1223:204},Ee=Z.ajaxSettings.xhr();t.ActiveXObject&&Z(t).on("unload",function(){for(var t in _e)_e[t]()}),K.cors=!!Ee&&"withCredentials"in Ee,K.ajax=Ee=!!Ee,Z.ajaxTransport(function(t){var e;return K.cors||Ee&&!t.crossDomain?{send:function(i,n){var r,o=t.xhr(),s=++Ae;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)o.setRequestHeader(r,i[r]);e=function(t){return function(){e&&(delete _e[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?n(o.status,o.statusText):n(Me[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=_e[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=Z("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),Q.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Pe=[],Le=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Pe.pop()||Z.expando+"_"+ae++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=!1!==e.jsonp&&(Le.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Le.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=Z.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Le,"$1"+r):!1!==e.jsonp&&(e.url+=(le.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||Z.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,Pe.push(r)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Z.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Q;var n=st.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=Z.buildFragment([t],e,r),r&&r.length&&Z(r).remove(),Z.merge([],n.childNodes))};var Re=Z.fn.load;Z.fn.load=function(t,e,i){if("string"!=typeof t&&Re)return Re.apply(this,arguments);var n,r,o,s=this,a=t.indexOf(" ");return a>=0&&(n=Z.trim(t.slice(a)),t=t.slice(0,a)),Z.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&Z.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?Z("<div>").append(Z.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){s.each(i,o||[t.responseText,e,t])}),this},Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length};var je=t.document.documentElement;Z.offset={setOffset:function(t,e,i){var n,r,o,s,a,l,u,c=Z.css(t,"position"),h=Z(t),d={};"static"===c&&(t.style.position="relative"),a=h.offset(),o=Z.css(t,"top"),l=Z.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(n=h.position(),s=n.top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),Z.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(d.top=e.top-a.top+s),null!=e.left&&(d.left=e.left-a.left+r),"using"in e?e.using.call(t,d):h.css(d)}},Z.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Z.offset.setOffset(this,t,e)});var e,i,n=this[0],r={top:0,left:0},o=n&&n.ownerDocument;return o?(e=o.documentElement,Z.contains(e,n)?(typeof n.getBoundingClientRect!==Ct&&(r=n.getBoundingClientRect()),i=F(o),{top:r.top+i.pageYOffset-e.clientTop,left:r.left+i.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===Z.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Z.nodeName(t[0],"html")||(n=t.offset()),n.top+=Z.css(t[0],"borderTopWidth",!0),n.left+=Z.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-Z.css(i,"marginTop",!0),left:e.left-n.left-Z.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||je;t&&!Z.nodeName(t,"html")&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||je})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i;Z.fn[e]=function(r){return gt(this,function(e,r,o){var s=F(e);return void 0===o?s?s[i]:e[r]:void(s?s.scrollTo(n?t.pageXOffset:o,n?o:t.pageYOffset):e[r]=o)},e,r,arguments.length,null)}}),Z.each(["top","left"],function(t,e){Z.cssHooks[e]=S(K.pixelPosition,function(t,i){return i?(i=w(t,e),Ft.test(i)?Z(t).position()[e]+"px":i):void 0})}),Z.each({Height:"height",Width:"width"},function(t,e){Z.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){Z.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),s=i||(!0===n||!0===r?"margin":"border");return gt(this,function(e,i,n){var r;return Z.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?Z.css(e,i,s):Z.style(e,i,n,s)},e,o?n:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Ie=t.jQuery,De=t.$;return Z.noConflict=function(e){return t.$===Z&&(t.$=De),e&&t.jQuery===Z&&(t.jQuery=Ie),Z},typeof e===Ct&&(t.jQuery=t.$=Z),Z}),define("lib-shim/jquery",["jquery"],function(t){"use strict";return t.noConflict()}),define("tracking/tealium-utag-data",["require","jquery"],function(t){"use strict";var e=t("jquery");return{read:function(){var t=e("body"),i=t.find("#initial-tealium-data");return t.find("#tlmdata").data("tealium-data")||i.data("tealium-data")||{}}}}),function(t){define("ba-debug",[],function(){return function(){return window.debug=function(){function t(t){!i||!n&&s&&s.log||i.apply(r,t)}function e(t){return l>0?l>t:u.length+l<=t}for(var i,n,r=this,o=Array.prototype.slice,s=r.console,a={},l=9,u=["error","warn","info","debug","log"],c="assert clear count dir dirxml exception group groupCollapsed groupEnd profile profileEnd table time timeEnd trace".split(" "),h=c.length,d=[];--h>=0;)!function(t){a[t]=function(){0!==l&&s&&s[t]&&s[t].apply(s,arguments)}}(c[h]);for(h=u.length;--h>=0;)!function(i,n){a[n]=function(){var a=o.call(arguments),l=[n].concat(a);d.push(l),t(l),s&&e(i)&&(s.firebug?s[n].apply(r,a):s[n]?s[n](a):s.log(a))}}(h,u[h]);return a.setLevel=function(t){l="number"==typeof t?t:9},a.setCallback=function(){var e=o.call(arguments),r=d.length,s=r;for(i=e.shift()||null,n="boolean"==typeof e[0]&&e.shift(),s-="number"==typeof e[0]?e.shift():r;s<r;)t(d[s++])},a}(),t.debug=debug}.apply(t,arguments)})}(this),define("debug",["require","ba-debug"],function(t){"use strict";var e=t("ba-debug");return["error","warn","info","debug","log"].forEach(function(t){var i=e[t];e[t]=function(){var t=[].slice.call(arguments);t.unshift(new Date),i.apply(e,t)}}),e}),function(t){"function"==typeof define&&define.amd?define("jquery-cookie",["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){function e(t){return a.raw?t:encodeURIComponent(t)}function i(t){return a.raw?t:decodeURIComponent(t)}function n(t){return e(a.json?JSON.stringify(t):String(t))}function r(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),a.json?JSON.parse(t):t}catch(t){}}function o(e,i){var n=a.raw?e:r(e);return t.isFunction(i)?i(n):n}var s=/\+/g,a=t.cookie=function(r,s,l){if(void 0!==s&&!t.isFunction(s)){if(l=t.extend({},a.defaults,l),"number"==typeof l.expires){var u=l.expires,c=l.expires=new Date;c.setTime(+c+864e5*u)}return document.cookie=[e(r),"=",n(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var h=r?void 0:{},d=document.cookie?document.cookie.split("; "):[],p=0,f=d.length;p<f;p++){var g=d[p].split("="),m=i(g.shift()),v=g.join("=");if(r&&r===m){h=o(v,s);break}r||void 0===(v=o(v))||(h[m]=v)}return h};a.defaults={},t.removeCookie=function(e,i){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},i,{expires:-1})),!t.cookie(e))}}),define("core/jqueryajax",["require","jquery","jquery-cookie"],function(t){function e(t,e){void 0===e.async&&(e.async=!0);var i=r.ajax(t,{cache:e.cache,headers:e.headers,type:e.type,dataType:e.dataType,traditional:e.traditional,data:e.data,xhr:"json"==e.dataType&&window.IEXMLHttpRequest?window.IEXMLHttpRequest:r.ajaxSettings.xhr,async:e.async}),n=new Promise(function(t,e){i.done(t),i.fail(function(t,i,n){e(t.responseJSON)})});return n.abort=i.abort,n}function i(t){var e=r.cookie("csrftoken");return e&&(t=n(t,"csrfmiddlewaretoken",e)),t}function n(t,e,i){if(t.push){for(var n=0;n<t.length;n++)if(t[n].name===e)return t;t.push({name:e,value:i})}else"string"==typeof t?t+="&"+encodeURIComponent(e)+"="+encodeURIComponent(i):t[e]=t[e]||i;return t}var r=t("jquery");t("jquery-cookie");var o=function(){};return o.prototype.get=function(t,e,i,n){return this.request("GET",t,e,i,n)},o.prototype.post=function(t,e,i,n){return this.request("POST",t,e,i,n)},o.prototype.request=function(t,r,o,s,a){o=o||{},s=s||{};var l="http"===r.substr(0,4);l||(s=n(s,"ajax",1)),l||"POST"!==t||(s=i(s));var u={type:t,cache:o.cache,headers:o.headers,dataType:o.dataType,traditional:o.traditional,data:s},c=e(r,u);return c.then(function(t){var e=null;t&&t.error&&(e=new Error(t.error.message)),a&&a(e,t)}),c.catch(function(t){a&&a(new Error(t))}),c},o}),define("core/ajax",["core/jqueryajax"],function(t){return new t}),define("player/playlink-handler",["require","jquery","lodash","core/ajax"],function(t){"use strict";function e(t,e){var i=n(e),r={playlink:i,startedBy:t};return n.extend(r,i.data())}function i(t,e){var i=t.length?t[t.length-1]:null;return i&&e.trackUrl===i.trackUrl||t.push(e),t}var n=t("jquery"),r=t("lodash"),o=t("core/ajax"),s=function(t,e){this.$el=t,this.app=e};return s.prototype.STARTED_BY_PLAYLINK="playlink",s.prototype.STARTED_BY_SINGLE_PLAYLINK="single-playlink",s.prototype.STARTED_BY_STATION_BUTTON="station-playlink",s.prototype.STARTED_BY_VIDEO_PREVIEW_PLAYLINK="video-preview-playlink",s.prototype.start=function(){this.app.player&&(this.$el.on("click",".js-playlink",function(t){t.preventDefault();var e,i=n(t.currentTarget),r=s.prototype.STARTED_BY_PLAYLINK;i.parents(".video-preview-playlink").length&&(r=s.prototype.STARTED_BY_VIDEO_PREVIEW_PLAYLINK),void 0!==i.attr("data-single-track")?(e=[i],r=s.prototype.STARTED_BY_SINGLE_PLAYLINK):e=this.findAllFollowingPlaylinks(i);var o=this.tracksFromPlaylinks(e,r);this.play(o)}.bind(this)),this.$el.on("click",".js-playlink-station",function(t){var e=n(t.currentTarget),i=e.data("stationUrl");o.get(i,null,null,function(t,e){var i=e&&e.playlist,n=this.tracksFromPlaylist(i);this.play(n)}.bind(this))}.bind(this)),this.app.eventMediator.subscribe("player.track.tuning",this.setCurrentTrackStatus.bind(this)),this.app.eventMediator.subscribe("player.track.stopped",this.removeCurrentTrackStatus.bind(this)),this.app.eventMediator.subscribe("player.track.finished",this.removeCurrentTrackStatus.bind(this)))},s.prototype.stop=function(){this.$el.off("click",".js-playlink")},s.prototype.play=function(t){if(0==t.length)return void this.app.eventMediator.publish("player.playlist.request.error");this.app.player.queue(t),this.app.player.play()},s.prototype.findAllFollowingPlaylinks=function(t){var e=this.$el.find(".js-playlink");return r.tail(e,function(e){return!n(e).is(t)})},s.prototype.tracksFromPlaylist=function(t){if(!t)return[];var e=function(t){return t.playlinks&&t.playlinks.length};return t.filter(e).map(function(t){var e={trackName:t.name,artistName:t.artists[0].name,artistUrl:t.artists[0].url,trackUrl:t.url,startedBy:s.prototype.STARTED_BY_STATION_BUTTON};return t.playlinks.forEach(function(t){e[t.affiliate+"Id"]=t.id,e[t.affiliate+"Url"]=t.url}),e})},s.prototype.tracksFromPlaylinks=function(t,n){return t.map(e.bind(this,n)).reduce(i,[])},s.prototype.setCurrentTrackStatus=function(t){this.removeCurrentTrackStatus(),t.playlink&&t.playlink.attr("data-player-now-playing","")},s.prototype.removeCurrentTrackStatus=function(){this.$el.find("[data-player-now-playing]").removeAttr("data-player-now-playing")},s}),
define("tracking/event-tracking",["require","debug","jquery","player/playlink-handler"],function(t){"use strict";var e=t("debug"),i=t("jquery"),n=t("player/playlink-handler"),r=function(t){t.subscribe("player.track.playing",this.playerEventHandler.bind(this,"PlayTrack")),t.subscribe("player.track.paused",this.playerEventHandler.bind(this,"PauseTrack")),t.subscribe("player.track.finished",this.playerEventHandler.bind(this,"PlayTrackFinished")),t.subscribe("player.track.playing",this.trackPlayHandler.bind(this)),t.subscribe("player.track.positionChanged",this.positionChangedHandler.bind(this)),t.subscribe("autoplay-video.ad-start",this.trackEvent.bind(this,"VideoAdStart")),t.subscribe("autoplay-video.ad-end",this.trackEvent.bind(this,"VideoAdComplete")),t.subscribe("autoplay-video.video-start",this.trackEvent.bind(this,"VideoStart")),t.subscribe("autoplay-video.video-end",this.trackEvent.bind(this,"VideoComplete")),t.subscribe("seatgeek.search",this.trackEvent.bind(this,"SeatGeekCheck")),t.subscribe("seatgeek.match",this.trackEvent.bind(this,"SeatGeekMatch")),t.subscribe("seatgeek.nomatch",this.trackEvent.bind(this,"SeatGeekNoMatch")),i("body").on("click.event-tracking","[data-analytics-social]",this.socialHandler),i("body").on("click.event-tracking","[data-analytics-action]",this.analyticsHandler.bind(this)),t.subscribe("gallery.visit",this.trackEvent.bind(this,"galleryVisited"))};return r.prototype={trackEvent:function(t,i,n){if(window.om&&void 0!==t){var r={gaEventAction:t};void 0!==i&&(r.gaEventLabel=i),void 0!==n&&(r.gaEventValue=n),window.om.trackEvent(r),e.info("Event tracked",r)}},playerEventHandler:function(t,e){var i=t;e&&e.startedBy===n.prototype.STARTED_BY_VIDEO_PREVIEW_PLAYLINK&&(i+="Video"),this.trackEvent(i,e&&e.affiliate)},socialHandler:function(t){if(window.om){var n={id:i(t.currentTarget).data("analyticsSocial")};window.om.trackSocialClick(n),e.info("Social event tracked",n)}},analyticsHandler:function(t){this.trackEvent(i(t.currentTarget).data("analyticsAction")||"",i(t.currentTarget).data("analyticsLabel")||"",i(t.currentTarget).data("analyticsValue")||"")},trackPlayHandler:function(t){this.durationTracking&&t===this.durationTracking.track||(this.durationTracking={track:t})},positionChangedHandler:function(t){this.durationTracking&&(t>this.durationTracking.track.duration&&!this.durationTracking.TrackDurationExceeded&&(this.trackEvent("TrackDurationExceeded",this.durationTracking.track.affiliate),this.durationTracking.TrackDurationExceeded=!0),t-this.durationTracking.track.duration>=5&&!this.durationTracking.TrackDurationExceededBy5Seconds&&(this.trackEvent("TrackDurationExceededBy5Seconds",this.durationTracking.track.affiliate),this.durationTracking.TrackDurationExceededBy5Seconds=!0))}},r}),define("tracking/tealium",["require","tracking/tealium-utag-data","tracking/event-tracking"],function(t){"use strict";var e=t("tracking/tealium-utag-data"),i=t("tracking/event-tracking"),n=function(t){this.app=t};return n.prototype={start:function(){this.eventTracking=new i(this.app.eventMediator),this.app.eventMediator.subscribe("page.transitionComplete",this.recordAsyncPageView.bind(this))},recordAsyncPageView:function(){var t=e.read();t.pageViewGuid=this.app.viewGuid,window.utag&&window.utag.view(t)}},n}),define("shim/youtube",["require"],function(t){"use strict";var e;return function(){return e||(e=new Promise(function(e){window.onYouTubeIframeAPIReady=function(){e(window.YT)},t(["youtube-iframe-api"])}))}}),function(t){define("modernizr",[],function(){return function(){return function(t,e,i){function n(t,e){return typeof t===e}function r(t){return t.replace(/([a-z])-([a-z])/g,function(t,e,i){return e+i.toUpperCase()}).replace(/^-/,"")}function o(){return"function"!=typeof e.createElement?e.createElement(arguments[0]):x?e.createElementNS.call(e,"http://www.w3.org/2000/svg",arguments[0]):e.createElement.apply(e,arguments)}function s(t,e){return!!~(""+t).indexOf(e)}function a(t,e){return function(){return t.apply(e,arguments)}}function l(t,e,i){var r;for(var o in t)if(t[o]in e)return!1===i?t[o]:(r=e[t[o]],n(r,"function")?a(r,i||e):r);return!1}function u(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()}).replace(/^ms-/,"-ms-")}function c(){var t=e.body;return t||(t=o(x?"svg":"body"),t.fake=!0),t}function h(t,i,n,r){var s,a,l,u,h="modernizr",d=o("div"),p=c();if(parseInt(n,10))for(;n--;)l=o("div"),l.id=r?r[n]:h+(n+1),d.appendChild(l);return s=o("style"),s.type="text/css",s.id="s"+h,(p.fake?p:d).appendChild(s),p.appendChild(d),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(e.createTextNode(t)),d.id=h,p.fake&&(p.style.background="",p.style.overflow="hidden",u=b.style.overflow,b.style.overflow="hidden",b.appendChild(p)),a=i(d,t),p.fake?(p.parentNode.removeChild(p),b.style.overflow=u,b.offsetHeight):d.parentNode.removeChild(d),!!a}function d(e,n){var r=e.length;if("CSS"in t&&"supports"in t.CSS){for(;r--;)if(t.CSS.supports(u(e[r]),n))return!0;return!1}if("CSSSupportsRule"in t){for(var o=[];r--;)o.push("("+u(e[r])+":"+n+")");return o=o.join(" or "),h("@supports ("+o+") { #modernizr { position: absolute; } }",function(t){return"absolute"==getComputedStyle(t,null).position})}return i}function p(t,e,a,l){function u(){h&&(delete _.style,delete _.modElem)}if(l=!n(l,"undefined")&&l,!n(a,"undefined")){var c=d(t,a);if(!n(c,"undefined"))return c}for(var h,p,f,g,m,v=["modernizr","tspan","samp"];!_.style&&v.length;)h=!0,_.modElem=o(v.shift()),_.style=_.modElem.style;for(f=t.length,p=0;f>p;p++)if(g=t[p],m=_.style[g],s(g,"-")&&(g=r(g)),_.style[g]!==i){if(l||n(a,"undefined"))return u(),"pfx"!=e||g;try{_.style[g]=a}catch(t){}if(_.style[g]!=m)return u(),"pfx"!=e||g}return u(),!1}function f(t,e,i,r,o){var s=t.charAt(0).toUpperCase()+t.slice(1),a=(t+" "+k.join(s+" ")+s).split(" ");return n(e,"string")||n(e,"undefined")?p(a,e,r,o):(a=(t+" "+T.join(s+" ")+s).split(" "),l(a,e,i))}var g=[],m=[],v={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(t,e){var i=this;setTimeout(function(){e(i[t])},0)},addTest:function(t,e,i){m.push({name:t,fn:e,options:i})},addAsyncTest:function(t){m.push({name:null,fn:t})}},y=function(){};y.prototype=v,y=new y;var b=e.documentElement,x="svg"===b.nodeName.toLowerCase();y.addTest("video",function(){var t=o("video"),e=!1;try{(e=!!t.canPlayType)&&(e=new Boolean(e),e.ogg=t.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),e.h264=t.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),e.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),e.vp9=t.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),e.hls=t.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(t){}return e});var w={}.toString;y.addTest("svgforeignobject",function(){return!!e.createElementNS&&/SVGForeignObject/.test(w.call(e.createElementNS("http://www.w3.org/2000/svg","foreignObject")))});var S="Moz O ms Webkit",k=v._config.usePrefixes?S.split(" "):[];v._cssomPrefixes=k;var C=function(e){var n,r=prefixes.length,o=t.CSSRule;if(void 0===o)return i;if(!e)return!1;if(e=e.replace(/^@/,""),(n=e.replace(/-/g,"_").toUpperCase()+"_RULE")in o)return"@"+e;for(var s=0;r>s;s++){var a=prefixes[s];if(a.toUpperCase()+"_"+n in o)return"@-"+a.toLowerCase()+"-"+e}return!1};v.atRule=C;var T=v._config.usePrefixes?S.toLowerCase().split(" "):[];v._domPrefixes=T;var A={elem:o("modernizr")};y._q.push(function(){delete A.elem});var _={style:A.elem.style};y._q.unshift(function(){delete _.style}),v.testAllProps=f,v.prefixed=function(t,e,i){return 0===t.indexOf("@")?C(t):(-1!=t.indexOf("-")&&(t=r(t)),e?f(t,e,i):f(t,"pfx"))},function(){var t,e,i,r,o,s,a;for(var l in m)if(m.hasOwnProperty(l)){if(t=[],e=m[l],e.name&&(t.push(e.name.toLowerCase()),e.options&&e.options.aliases&&e.options.aliases.length))for(i=0;i<e.options.aliases.length;i++)t.push(e.options.aliases[i].toLowerCase());for(r=n(e.fn,"function")?e.fn():e.fn,o=0;o<t.length;o++)s=t[o],a=s.split("."),1===a.length?y[a[0]]=r:(!y[a[0]]||y[a[0]]instanceof Boolean||(y[a[0]]=new Boolean(y[a[0]])),y[a[0]][a[1]]=r),g.push((r?"":"no-")+a.join("-"))}}(),function(t){var e=b.className,i=y._config.classPrefix||"";if(x&&(e=e.baseVal),y._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");e=e.replace(n,"$1"+i+"js$2")}y._config.enableClasses&&(e+=" "+i+t.join(" "+i),x?b.className.baseVal=e:b.className=e)}(g),delete v.addTest,delete v.addAsyncTest;for(var M=0;M<y._q.length;M++)y._q[M]();t.Modernizr=y}(window,document),t.Modernizr=Modernizr}.apply(t,arguments)})}(this),define("components/cbsi-player",["require","jquery","lodash","shim/youtube","modernizr"],function(t){"use strict";var e,i=t("jquery"),n=t("lodash"),r=t("shim/youtube"),o=t("modernizr"),s=0,a=0,l=function(t,e){this.app=t,this.sessionOptions={partner:"lastfm",nativeControls:!0,autoHide:!1,usesIMA:!0,usesTealium:!0,uvpc:e}};return l.prototype.playVideo=function(t,e,r){var o=t.attr("id")||"cbsiplayer-"+s++;t.attr("id",o),this.createVideoPlayer(o,r.previewImage,r.autoplay).then(function(t){var s={type:uvpjs.mediaCapabilities.RP_PLATFORM,vidContId:o,pid:e};if(!r.disableAds){var a={iu:"/8264/vaw-lastfm/desktop",sz:"640x480",impl:"s",gdfp_req:"1",env:"vp",output:"xml_vmap1",pp:"vpaid_js",unviewed_position_start:"1",url:"[referrer_url]",correlator:"[timestamp]",cust_params:i.param(this.app.adTargeting()||{})};s.type=uvpjs.mediaCapabilities.RP_IMA,s.adCall="https://pubads.g.doubleclick.net/gampad/ads?"+i.param(a)}r.mute&&t.mute(),om.getHbParams&&t.setPageContextMetadata(om.getHbParams()),t.loadAndPlayResource(s),r.events&&n.forOwn(r.events,function(e,i){this.addEventListener(t,i,e)}.bind(this))}.bind(this))},l.prototype.destroyPlayer=function(t){this.videoManager().then(function(e){e.destroyVideoPlayer(t.attr("id"))})},l.prototype.isSupported=function(){return!(void 0!==document.documentMode)&&o.video},l.prototype.addEventListener=function(t,e,i){e+="."+a++,t.addEventListener(e,i)},l.prototype.createVideoPlayer=function(t,e,i){return this.videoManager().then(function(n){var r={skin:!0,previewImage:e,autoPlay:i};return new Promise(function(e){n.createVideoPlayer(t,e,r)})}.bind(this))},l.prototype.videoManager=function(){return this.loadingVideoManager||(this.loadingVideoManager=this.api().then(this.loadVideoManager.bind(this))),this.loadingVideoManager},l.prototype.loadVideoManager=function(){return new Promise(function(t,e){var i=new uvpjs.VideoManager;i.initialize(this.sessionOptions,t.bind(this,i),e)}.bind(this))},l.prototype.api=function(){return e||(e=r().then(function(){return new Promise(function(e){t(["ima","cbsi-player-html5"],e)}.bind(this))}.bind(this)))},l}),define("core/dom-require/module-finder",["jquery"],function(t){"use strict";return new function(){var e=this;e.find=function(i){var n=[],i=i||t("html"),r=t("[data-require]",i);return i.is("[data-require]")&&(n=n.concat(e.generateModuleObjects(i))),r.each(function(){n=n.concat(e.generateModuleObjects(t(this)))}),n},e.generateModuleObjects=function(t){return t.data("require").split(",").map(function(e){return{location:e.trim(),element:t}})}}}),define("core/dom-require/module-loader",["require","jquery","core/dom-require/module-finder","lodash"],function(t){"use strict";var e=t("jquery"),i=t("core/dom-require/module-finder"),n=t("lodash");return function(r){var o=this;o.domReady=!1,o.elementCount=0,o.require=t,o._activeModules=[],o.start=function(){o.domReady||(o.preDomReadySearchTimer=setTimeout(o.startPreDomModules,150))},o.startPreDomModules=function(){if(!o.domReady&&document.body){var t=o.getElementCount();o.elementCount<t&&(o.elementCount=t,o.startAllModules())}o.domReady||(o.preDomReadySearchTimer=setTimeout(o.startPreDomModules,150))},o.getElementCount=function(){return e("*").length},o.handleDomReady=function(){o.domReady=!0,clearTimeout(o.preDomReadySearchTimer),delete o.preDomReadySearchTimer,delete o.elementCount,o.startAllModules()},o.startAllModules=function(t){i.find(t).forEach(function(t){o.startModule(t.location,t.element)})},o.stopAllModules=function(t){o._activeModules.forEach(function(i){i.stopped||t&&e.contains(document,i.element[0])&&!e.contains(t[0],i.element[0])||(i.stopped=!0,n.isFunction(i.module.stop)&&i.module.stop())}),o._activeModules=o._activeModules.filter(function(t){return!t.stopped})},o.startModule=function(t,e){var i=e.data("starting")||{},r=e.data("started")||{};n(r).has(t)||n(i).has(t)||!o.isElementContentLoaded(e)||(i[t]=!0,e.data("starting",i),o.require([t],function(i){s(i,e,t)}))};var s=function(t,e,i){var s=e.data("started")||{};if(t){var a=new t(e,r);n.isFunction(a.start)&&(a.start(),s[i]=!0,e.data("started",s),o._activeModules.push({module:a,element:e}))}};o.isElementContentLoaded=function(t){if(o.domReady)return!0;for(;0===t.next().length&&!t.is("html");)if(t=t.parent(),0===t.length)return!0;return!t.is("html")},r.eventMediator.subscribe("domReady",o.handleDomReady)}}),function(t){define("jquery-pjax",["jquery"],function(){return function(){!function(t){function e(e,n,r){var o=this;return this.on("click.pjax",e,function(e){var s=t.extend({},g(n,r));s.container||(s.container=t(this).attr("data-pjax")||o),i(e,s)})}function i(e,i,n){n=g(i,n);var o=e.currentTarget;if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)){var s=o;if(s.href instanceof SVGAnimatedString&&(s=p(s.getAttribute("href"))),location.protocol===s.protocol&&location.hostname===s.hostname&&!(s.href.indexOf("#")>-1&&f(s)==f(location)||e.isDefaultPrevented())){var a={url:s.href,container:t(o).attr("data-pjax"),target:o},l=t.extend({},a,n),u=t.Event("pjax:click");t(o).trigger(u,[l]),u.isDefaultPrevented()||(r(l),e.preventDefault(),t(o).trigger("pjax:clicked",[l]))}}}function n(e,i,n){n=g(i,n);var o=e.currentTarget,s=t(o);if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var a={type:(s.attr("method")||"GET").toUpperCase(),url:s.attr("action"),container:s.attr("data-pjax"),target:o};if("GET"!==a.type&&void 0!==window.FormData)a.data=new FormData(o),a.processData=!1,a.contentType=!1;else{if(t(o).find(":file").length)return;a.data=t(o).serializeArray()}r(t.extend({},a,n)),e.preventDefault()}function r(e){function i(e,i,r){r||(r={}),r.relatedTarget=n;var o=t.Event(e,r);return a.trigger(o,i),!o.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,r.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var n=e.target,o=p(e.url).hash,a=e.context=m(e.container);e.data||(e.data={}),t.isArray(e.data)?e.data.push({name:"_pjax",value:a.selector}):e.data._pjax=a.selector;var l;e.beforeSend=function(t,n){if("GET"!==n.type&&(n.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",a.selector),!i("pjax:beforeSend",[t,n]))return!1;n.timeout>0&&(l=setTimeout(function(){i("pjax:timeout",[t,e])&&t.abort("timeout")},n.timeout),n.timeout=0);var r=p(n.url);o&&(r.hash=o),e.requestUrl=d(r)},e.complete=function(t,n){l&&clearTimeout(l),i("pjax:complete",[t,n,e]),i("pjax:end",[t,e])},e.error=function(t,n,r){var o=b("",t,e),a=i("pjax:error",[t,n,r,e]);"GET"==e.type&&"abort"!==n&&a&&s(o.url)},e.success=function(n,l,u){var h=r.state,d="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,f=u.getResponseHeader("X-PJAX-Version"),g=b(n,u,e),m=p(g.url);if(o&&(m.hash=o,g.url=m.href),d&&f&&d!==f)return void s(g.url);if(!g.contents)return void s(g.url);if(r.state={id:e.id||c(),url:g.url,title:g.title,container:a.selector,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(r.state,g.title,g.url),t.contains(e.container,document.activeElement))try{document.activeElement.blur()}catch(t){}g.title&&(document.title=g.title),i("pjax:beforeReplace",[g.contents,e],{state:r.state,previousState:h}),a.html(g.contents);var v=a.find("input[autofocus], textarea[autofocus]").last()[0];v&&document.activeElement!==v&&v.focus(),x(g.scripts);var y=e.scrollTo;if(o){var w=decodeURIComponent(o.slice(1)),S=document.getElementById(w)||document.getElementsByName(w)[0];S&&(y=t(S).offset().top)}"number"==typeof y&&t(window).scrollTop(y),i("pjax:success",[n,l,u,e])},r.state||(r.state={id:c(),url:window.location.href,title:document.title,container:a.selector,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(r.state,document.title)),u(r.xhr),r.options=e;var f=r.xhr=t.ajax(e);return f.readyState>0&&(e.push&&!e.replace&&(w(r.state.id,h(a)),window.history.pushState(null,"",e.requestUrl)),i("pjax:start",[f,e]),i("pjax:send",[f,e])),r.xhr}function o(e,i){var n={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(t.extend(n,g(e,i)))}function s(t){window.history.replaceState(null,"",r.state.url),window.location.replace(t)}function a(e){_||u(r.xhr);var i,n=r.state,o=e.state;if(o&&o.container){if(_&&M==o.url)return;if(n){if(n.id===o.id)return;i=n.id<o.id?"forward":"back"}var a=P[o.id]||[],l=t(a[0]||o.container),c=a[1];if(l.length){n&&S(i,n.id,h(l));var d=t.Event("pjax:popstate",{state:o,direction:i});l.trigger(d);var p={id:o.id,url:o.url,container:l,push:!1,fragment:o.fragment,timeout:o.timeout,scrollTo:!1};if(c){l.trigger("pjax:start",[null,p]),r.state=o,o.title&&(document.title=o.title);var f=t.Event("pjax:beforeReplace",{state:o,previousState:n});l.trigger(f,[c,p]),l.html(c),l.trigger("pjax:end",[null,p])}else r(p);l[0].offsetHeight}else s(location.href)}_=!1}function l(e){var i=t.isFunction(e.url)?e.url():e.url,n=e.type?e.type.toUpperCase():"GET",r=t("<form>",{method:"GET"===n?"GET":"POST",action:i,style:"display:none"});"GET"!==n&&"POST"!==n&&r.append(t("<input>",{type:"hidden",name:"_method",value:n.toLowerCase()}));var o=e.data;if("string"==typeof o)t.each(o.split("&"),function(e,i){var n=i.split("=");r.append(t("<input>",{type:"hidden",name:n[0],value:n[1]}))});else if(t.isArray(o))t.each(o,function(e,i){r.append(t("<input>",{type:"hidden",name:i.name,value:i.value}))});else if("object"==typeof o){var s;for(s in o)r.append(t("<input>",{type:"hidden",name:s,value:o[s]}))}t(document.body).append(r),r.submit()}function u(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function c(){return(new Date).getTime()}function h(t){var e=t.clone();return e.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[t.selector,e.contents()]}function d(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),t.href.replace(/\?($|#)/,"$1")}function p(t){var e=document.createElement("a");return e.href=t,e}function f(t){return t.href.replace(/#.*/,"")}function g(e,i){return e&&i?i.container=e:i=t.isPlainObject(e)?e:{container:e},i.container&&(i.container=m(i.container)),i}function m(e){if(e=t(e),e.length){if(""!==e.selector&&e.context===document)return e;if(e.attr("id"))return t("#"+e.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e.selector}function v(t,e){return t.filter(e).add(t.find(e))}function y(e){return t.parseHTML(e,document,!0)}function b(e,i,n){var r={},o=/<html/i.test(e),s=i.getResponseHeader("X-PJAX-URL");if(r.url=s?d(p(s)):n.requestUrl,o)var a=t(y(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),l=t(y(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var a=l=t(y(e));if(0===l.length)return r;if(r.title=v(a,"title").last().text(),n.fragment){if("body"===n.fragment)var u=l;else var u=v(l,n.fragment).first();u.length&&(r.contents="body"===n.fragment?u:u.contents(),r.title||(r.title=u.attr("title")||u.data("title")))}else o||(r.contents=l);return r.contents&&(r.contents=r.contents.not(function(){return t(this).is("title")}),r.contents.find("title").remove(),r.scripts=v(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=t.trim(r.title)),r}function x(e){if(e){var i=t("script[src]");e.each(function(){var e=this.src;if(!i.filter(function(){return this.src===e}).length){var n=document.createElement("script"),r=t(this).attr("type");r&&(n.type=r),n.src=t(this).attr("src"),document.head.appendChild(n)}})}}function w(t,e){P[t]=e,R.push(t),k(L,0),k(R,r.defaults.maxCacheLength)}function S(t,e,i){var n,o;P[e]=i,"forward"===t?(n=R,o=L):(n=L,o=R),n.push(e),(e=o.pop())&&delete P[e],k(n,r.defaults.maxCacheLength)}function k(t,e){for(;t.length>e;)delete P[t.shift()]}function C(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function T(){t.fn.pjax=e,t.pjax=r,t.pjax.enable=t.noop,t.pjax.disable=A,t.pjax.click=i,t.pjax.submit=n,t.pjax.reload=o,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:C},t(window).on("popstate.pjax",a)}function A(){t.fn.pjax=function(){return this},t.pjax=l,t.pjax.enable=T,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",a)}var _=!0,M=window.location.href,E=window.history.state;E&&E.container&&(r.state=E),"state"in window.history&&(_=!1);var P={},L=[],R=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?T():A()}(jQuery)}.apply(t,arguments)})}(this),define("core/browser-api",[],function(){"use strict";return{navigator:navigator,WebSocket:WebSocket,window:window,document:document,download:function(t,e){var i=document.createElement("a");i.download=e,i.href=t,document.body.appendChild(i),i.click(),document.body.removeChild(i)}}}),define("core/sensitive-paths",["require","jquery"],function(t){"use strict";var e=t("jquery");return{isSensitivePath:function(t){var i=e("body").data("sensitive-path-regex"),n=new RegExp(i),r=document.createElement("a");r.href=t;var o=r.pathname;return n.test(o)}}}),define("core/partial-refresh",["require","jquery","lodash","jquery-pjax","core/browser-api","core/sensitive-paths"],function(t){"use strict";var e=t("jquery"),i=t("lodash");t("jquery-pjax");var n=t("core/browser-api"),r=t("core/sensitive-paths");return function(t,o){var s=this;e.pjax.defaults.timeout=1e4,e.pjax.defaults.maxCacheLength=0,s.start=function(){t.subscribe("player.track.playing",s.setPlayerActive),t.subscribe("player.track.paused",s.setPlayerInactive),t.subscribe("player.track.stopped",s.setPlayerInactive),t.subscribe("ads.requested",s.setUntrusted),s.$container=e("#content"),this.$container.on("click.partial-refresh","a",function(t){var n=e(t.currentTarget).attr("href"),r=s.isSensitiveUrl(n),a=-1!==i.indexOf(o,n),l=r&&s.untrusted&&s.playerActive,u=r&&s.untrusted||a;if(l){var c=-1!==n.indexOf("?")?"&":"?";s.openInNewWindow(n+c+"playerActive=1"),t.preventDefault()}else u&&(s.loadUrl(n),t.preventDefault())});var n=e(document);n.pjax('a:not(a[target="_blank"])',"#content"),n.on("pjax:beforeSend.partial-refresh",function(t,e){s.untrusted&&e.setRequestHeader("PJAX-CONTEXT-HAS-ADS","true"),s.beforeSend()}),n.on("click.partial-refresh","form:not([data-no-partial-refresh]) [type=submit][name][value]",function(t){var i=e(t.target);i=i.is("[type=submit][name][value]")?i:i.parents("[type=submit][name][value]");var n=i.parents("form"),r=e('<input type="hidden" data-partial-refresh-submit-value />');r.attr({name:i.attr("name"),value:i.attr("value")}),n.append(r)}),n.on("submit.partial-refresh",function(t){t.currentTarget=t.target,e(t.target).is("[data-no-partial-refresh]")||t.isDefaultPrevented()||(e.pjax.submit(t,"#content"),e("[data-partial-refresh-submit-value]").remove())}),n.on("pjax:beforeReplace.partial-refresh",function(t,e){s.beforeReplace(e)}),n.on("pjax:end.partial-refresh",function(t,e,i){e||s.afterReplace()}),n.on("pjax:success.partial-refresh",function(){s.afterReplace()}),n.on("pjax:error.partial-refresh",function(t,e,i,n,r){t.preventDefault(),r.success(e.responseText,e.status,e)})},s.isSensitiveUrl=function(t){return r.isSensitivePath(t)},s.setPlayerActive=function(){s.playerActive=!0},s.setPlayerInactive=function(){s.playerActive=!1},s.setUntrusted=function(){s.untrusted=!0},s.openInNewWindow=function(t){window.open(t)},s.loadUrl=function(t){n.window.location.replace(t)},s.beforeSend=function(){t.publish("partialRefresh.beforeSend",s.$container)},s.beforeReplace=function(e){s.replaceStylesheets(e),t.publish("partialRefresh.beforeReplace",s.$container)},s.afterReplace=function(){t.publish("partialRefresh.afterReplace",s.$container),s.updateBodyClass(),s.updateHtmlLang(),s.updateCanonicalUrl(),s.updateAlternateLanguageUrls()},s.updateBodyClass=function(){var t=e("[data-body-class]",s.$container).data("body-class");t=t||"",e(document.body).attr("class",t)},s.updateHtmlLang=function(){var t=e("[data-html-lang]",s.$container).data("html-lang");t&&e("html").attr("lang",t)},s.updateCanonicalUrl=function(){var t=e("[data-rel-canonical]",s.$container).data("rel-canonical");e('link[rel="canonical"]').attr("href",t)},s.updateAlternateLanguageUrls=function(){e("[data-rel-alternate]",s.$container).each(function(){var t=e(this),i=t.data("rel-alternate"),n=t.data("rel-alternate-hreflang");e('link[rel="alternate"][hreflang="'+n+'"]').attr("href",i)})},s.stop=function(){e(document).off(".partial-refresh"),s.$container.off(".partial-refresh")},s.replaceContent=function(t){e.pjax({url:t,container:"#content"})},s.replaceStylesheets=function(t){function i(t){t.each(function(r,o){if(o&&"LINK"===o.tagName&&e(o).is("[data-stylesheet-name]")){return n(t.splice(r,1)[0]),i(t),!1}})}function n(t){var i=e(t),n=e(t).data("stylesheetName"),r=e("[data-stylesheet-name="+n+"]");r.length&&r.attr("href")!==i.attr("href")&&(i.on("load",function(){r.remove()}),i.insertAfter(r))}t&&i(t)}}}),define("components/loading-indicator",["require","jquery"],function(t){"use strict";var e=t("jquery"),i=function(t,i){this.eventMediator=i.eventMediator,this.$el=t,this.$body=e("body"),this.$indicator=e('<span class="loading-indicator" role="alert"></span>'),this.DELAY=200};return i.prototype={start:function(){this.$indicator.text(this.$el.data("loading-indicator-copy")),this.eventMediator.subscribe("partialRefresh.beforeSend",this.onStart.bind(this)),this.eventMediator.subscribe("partialRefresh.afterReplace",this.onEnd.bind(this)),this.eventMediator.subscribe("modal.loading",this.onStart.bind(this)),this.eventMediator.subscribe("modal.loadingComplete",this.onEnd.bind(this))},onStart:function(){this.timeout=setTimeout(e.proxy(function(){this.$el.append(this.$indicator),this.$body.addClass("loading-indicator-loading")},this),this.DELAY)},onEnd:function(){clearTimeout(this.timeout),this.$indicator.remove(),this.$body.removeClass("loading-indicator-loading")}},i}),function(t,e){"use strict";function i(t){return l[a]=n.apply(e,t),a++}function n(t){var i=[].slice.call(arguments,1);return function(){"function"==typeof t?t.apply(e,i):new Function(""+t)()}}function r(t){if(u)setTimeout(n(r,t),0);else{var e=l[t];if(e){u=!0;try{e()}finally{o(t),u=!1}}}}function o(t){delete l[t]}if(!t.setImmediate){var s,a=1,l={},u=!1,c=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(){var t=i(arguments);return process.nextTick(n(r,t)),t}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(e)&&r(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(){var n=i(arguments);return t.postMessage(e+n,"*"),n}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){r(t.data)},s=function(){var e=i(arguments);return t.port2.postMessage(e),e}}():c&&"onreadystatechange"in c.createElement("script")?function(){var t=c.documentElement;s=function(){var e=i(arguments),n=c.createElement("script");return n.onreadystatechange=function(){r(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n),e}}():function(){s=function(){var t=i(arguments);return setTimeout(n(r,t),0),t}}(),h.setImmediate=s,h.clearImmediate=o}}("undefined"==typeof self?"undefined"==typeof global?this:global:self),define("set-immediate",function(){}),define("core/event-mediator",["jquery","set-immediate"],function(t){"use strict";var e=function(){this.subscribers={},this.mostRecentMessage={},this.DOM_READY_EVENT="domReady",this.domReady=!1,this.nextSubscriptionId=0,this.PROCESS_NONE="none",this.PROCESS_HEAD="head";var e=function(){this.domReady=!0,this.publish(this.DOM_READY_EVENT,!0)};window.lfmDomReadyCallback=e.bind(this),window.lfmDomReady&&window.lfmDomReadyCallback(),t(document).on("keyup",function(t){this.publish("keyup",t)}.bind(this))};return e.prototype.subscribe=function(t,e,i){if(void 0===i&&(i=this.PROCESS_HEAD),"function"!=typeof e)throw new Error("Invalid Argument - callback must be a function");var n=this.nextSubscriptionId++;if(this.subscribers[t]||(this.subscribers[t]={}),this.subscribers[t][n]=e,i===this.PROCESS_HEAD&&void 0!==this.mostRecentMessage[t]){var r=this.mostRecentMessage[t];this.triggerSubscription(e,r)}return{id:n,event:t}},e.prototype.triggerSubscription=function(t,e){setImmediate(function(t,e){t(e)}.bind(this,t,e))},e.prototype.publish=function(t,e){if(this.mostRecentMessage[t]=void 0===e?null:e,this.subscribers[t])for(var i in this.subscribers[t])if(this.subscribers[t].hasOwnProperty(i)){var n=this.subscribers[t][i];this.triggerSubscription(n,e)}},e.prototype.unsubscribe=function(t){t&&"object"==typeof t&&"object"==typeof this.subscribers[t.event]&&delete this.subscribers[t.event][t.id]},e.prototype.reset=function(){this.mostRecentMessage={}},e}),function(t,e){"object"==typeof module&&module.exports?module.exports=function(t){return t=t||require("lodash"),e(t)}:"function"==typeof define&&define.amd?define("machina",["lodash"],function(i){return e(i,t)}):t.machina=e(t._,t)}(this,function(t,e,i){var n=[].slice,r="transition",o="handler",s="deferred",a={makeFsmNamespace:function(){var t=0;return function(){return"fsm."+t++}}(),getDefaultOptions:function(){return{initialState:"uninitialized",eventListeners:{"*":[]},states:{},eventQueue:[],namespace:a.makeFsmNamespace(),targetReplayState:"",state:i,priorState:i,_priorAction:"",_currentAction:""}}};if(!t.deepExtend){var l={"*":function(t,e,i){t[e]=i},object:function(t,e,i){t[e]=h({},t[e]||{},i)},array:function(e,i,n){e[i]=[],t.each(n,function(t,n){l[c(t)](e[i],n,t)},this)}},u=function(e){return t.isArray(e)?"array":t.isDate(e)?"date":t.isRegExp(e)?"regex":typeof e},c=function(t){var e=u(t);return l[e]?e:"*"},h=function(e){return t.each(n.call(arguments,1),function(i){t.each(i,function(t,i){l[c(t)](e,i,t)})}),e};t.mixin({deepExtend:h})}var d=function(e){t.extend(this,e),t.defaults(this,a.getDefaultOptions()),this.initialize.apply(this,arguments),g.emit("newfsm",this),this.initialState&&this.transition(this.initialState)};t.extend(d.prototype,{initialize:function(){},emit:function(e){var i=arguments;this.eventListeners["*"]&&t.each(this.eventListeners["*"],function(t){try{t.apply(this,n.call(i,0))}catch(t){console&&void 0!==console.log&&console.log(t.toString())}},this),this.eventListeners[e]&&t.each(this.eventListeners[e],function(t){try{t.apply(this,n.call(i,1))}catch(t){console&&void 0!==console.log&&console.log(t.toString())}},this)},handle:function(e){if(!this.inExitHandler){var r,s,a,l,u=this.states,c=this.state,h=n.call(arguments,0);this.currentActionArgs=h,u[c][e]||u[c]["*"]||this["*"]?(r=u[c][e]?e:"*",a="*"===r,u[c][r]?(s=u[c][r],l=c+"."+r):(s=this["*"],l="*"),this._currentAction||(this._currentAction=l),this.emit.call(this,"handling",{inputType:e,args:h.slice(1)}),t.isFunction(s)&&(s=s.apply(this,a?h:h.slice(1))),t.isString(s)&&this.transition(s),this.emit.call(this,"handled",{
inputType:e,args:h.slice(1)}),this._priorAction=this._currentAction,this._currentAction="",this.processQueue(o)):this.emit.call(this,"nohandler",{inputType:e,args:h.slice(1)}),this.currentActionArgs=i}},transition:function(t){if(!this.inExitHandler&&t!==this.state){var e=this.state;if(this.states[t])return e&&this.states[e]&&this.states[e]._onExit&&(this.inExitHandler=!0,this.states[e]._onExit.call(this),this.inExitHandler=!1),this.targetReplayState=t,this.priorState=e,this.state=t,this.emit.call(this,"transition",{fromState:this.priorState,action:this._currentAction,toState:t}),this.states[t]._onEnter&&this.states[t]._onEnter.call(this),void(this.targetReplayState===t&&this.processQueue(r));this.emit.call(this,"invalidstate",{state:this.state,attemptedState:t})}},processQueue:function(e){var i=e===r?function(t){return t.type===r&&(!t.untilState||t.untilState===this.state)}:function(t){return t.type===o},n=t.filter(this.eventQueue,i,this);this.eventQueue=t.difference(this.eventQueue,n),t.each(n,function(t){this.handle.apply(this,t.args)},this)},clearQueue:function(e,i){if(e){var n;e===r?n=function(t){return t.type===r&&(!i||t.untilState===i)}:e===o&&(n=function(t){return t.type===o}),this.eventQueue=t.filter(this.eventQueue,n)}else this.eventQueue=[]},deferUntilTransition:function(t){if(this.currentActionArgs){var e={type:r,untilState:t,args:this.currentActionArgs};this.eventQueue.push(e),this.emit.call(this,s,{state:this.state,queuedArgs:e})}},deferUntilNextHandler:function(){if(this.currentActionArgs){var t={type:o,args:this.currentActionArgs};this.eventQueue.push(t),this.emit.call(this,s,{state:this.state,queuedArgs:t})}},on:function(t,e){var i=this;return i.eventListeners[t]||(i.eventListeners[t]=[]),i.eventListeners[t].push(e),{eventName:t,callback:e,off:function(){i.off(t,e)}}},off:function(e,i){e?this.eventListeners[e]&&(this.eventListeners[e]=i?t.without(this.eventListeners[e],i):[]):this.eventListeners={}}}),d.prototype.trigger=d.prototype.emit;var p=["states","initialState"],f=function(e,i,r){var o,s={},a=function(){};return o=i&&i.hasOwnProperty("constructor")?i.constructor:function(){var i=n.call(arguments,0);i[0]=i[0]||{};var r,o=i[0].states||{};r=t.deepExtend(t.cloneDeep(s),{states:o}),r.initialState=i[0].initialState||this.initialState,t.extend(i[0],r),e.apply(this,i)},t.deepExtend(o,e),a.prototype=e.prototype,o.prototype=new a,i&&(t.extend(o.prototype,i),t.deepExtend(s,t.transform(i,function(t,e,i){-1!==p.indexOf(i)&&(t[i]=e)}))),r&&t.deepExtend(o,r),o.prototype.constructor=o,o.__super__=e.prototype,o};d.extend=function(t,e){var i=f(this,t,e);return i.extend=this.extend,i};var g={Fsm:d,utils:a,on:function(t,e){return this.eventListeners[t]||(this.eventListeners[t]=[]),this.eventListeners[t].push(e),e},off:function(e,i){this.eventListeners[e]&&(this.eventListeners[e]=t.without(this.eventListeners[e],i))},trigger:function(e){var i=arguments,r=this.eventListeners[e]||[];r&&r.length&&t.each(r,function(t){t.apply(null,n.call(i,1))})},eventListeners:{newFsm:[]}};return g.emit=g.trigger,g}),define("player/provider-player",["require","machina","lodash","debug"],function(t){"use strict";var e=t("machina"),i=t("lodash"),n=t("debug"),r=e.Fsm.extend({eventListeners:{transition:[function(t){n.info(this.providerName+" player provider transition:",t.fromState,"->",t.toState)}]},initialState:"PlayerUninitialised",states:{PlayerUninitialised:{playerReady:function(t){this.player=t,this.transition("PlayerInitialised")},trackRequested:function(){this.clearQueue(),this.deferUntilTransition("PlayerInitialised")},stopTrack:function(){this.clearQueue(),this.publish("player.provider.stopped")},error:"PlayerError"},PlayerInitialised:{trackRequested:"PlayerTuning",error:"PlayerError"},PlayerStopped:{_onEnter:function(){"PlayerUnavailable"!=this.priorState&&this.publish("player.provider.stopped")},trackRequested:"PlayerTuning",error:"PlayerError"},PlayerFinished:{_onEnter:function(){this.publish("player.provider.finished",this.currentTrack)},trackRequested:"PlayerTuning",error:"PlayerError"},PlayerTuning:{_onEnter:function(){this.currentTrack=this.currentActionArgs[1],this.player.play(this.currentTrack),this.publish("player.provider.tuning")},trackPlaying:"PlayerPlaying",stopTrack:function(){this.player.stop(),this.transition("PlayerStopped")},trackUnavailable:"PlayerUnavailable",error:"PlayerError"},PlayerUnavailable:{_onEnter:function(){this.transition("PlayerStopped"),this.publish("player.provider.unavailable")}},PlayerPlaying:{_onEnter:function(){this.player.resume(),this.publish("player.provider.playing",i.extend(this.currentTrack,{duration:this.player.getDuration()}))},trackRequested:function(){this.deferUntilTransition(),this.transition("PlayerPaused")},stopTrack:function(){this.player.stop()},trackPaused:"PlayerPaused",trackStopped:"PlayerStopped",trackFinished:"PlayerFinished",error:"PlayerError"},PlayerPaused:{_onEnter:function(){this.player.pause(),this.publish("player.provider.paused")},trackRequested:function(){this.deferUntilTransition(),this.transition("PlayerStopped")},stopTrack:function(){this.player.stop()},trackPlaying:"PlayerPlaying",trackStopped:"PlayerStopped",trackFinished:"PlayerFinished",error:"PlayerError"},PlayerError:{_onEnter:function(){var t=this.currentActionArgs[1];n.error("Player error:",t.toString()),alert(t),this.transition("PlayerStopped")}}}}),o=function(t,e){var i=this;this.providerName=t,this.eventMediator=e,this.stateManager=new(r.extend({providerName:t,publish:this.publish.bind(this)}));var n=function(e){return function(n){n.provider===t&&e.call(i,n.message)}};e.subscribe("player.provider.proxy.ready",n(this.onPlayerReady)),e.subscribe("player.provider.proxy.stopped",n(this.onPlayerStopped)),e.subscribe("player.provider.proxy.finished",n(this.onPlayerFinished)),e.subscribe("player.provider.proxy.playing",n(this.onPlayerPlaying)),e.subscribe("player.provider.proxy.paused",n(this.onPlayerPaused)),e.subscribe("player.provider.proxy.error",n(this.onPlayerError)),e.subscribe("player.provider.proxy.unavailable",n(this.onPlayerUnavailable)),e.subscribe("player.provider.proxy.positionChanged",n(this.onPlayerPositionChanged))};return o.prototype={constructor:o,publish:function(t,e){var i={provider:this.providerName};void 0!==e&&(i.message=e),this.eventMediator.publish(t,i)},playTrack:function(t){this.stateManager.handle("trackRequested",t)},resumeTrack:function(){this.stateManager.handle("trackPlaying")},pauseTrack:function(){this.stateManager.handle("trackPaused")},stopTrack:function(){this.stateManager.handle("stopTrack")},switchDevice:function(){this.stateManager.player.switchDevice()},onPlayerReady:function(t){this.stateManager.handle("playerReady",t)},onPlayerStopped:function(){this.stateManager.handle("trackStopped")},onPlayerFinished:function(){this.stateManager.handle("trackFinished")},onPlayerPlaying:function(){this.stateManager.handle("trackPlaying")},onPlayerPaused:function(){this.stateManager.handle("trackPaused")},onPlayerError:function(t){this.stateManager.handle("error",t)},onPlayerUnavailable:function(){this.stateManager.handle("trackUnavailable")},onPlayerPositionChanged:function(t){this.publish("player.provider.positionChanged",t)}},o}),define("player/media-player",["require","lodash","machina","debug"],function(t){"use strict";var e=t("lodash"),i=t("machina"),n=t("debug"),r=i.Fsm.extend({eventListeners:{transition:[function(t){n.info("Player transition:",t.fromState,"->",t.toState)}]},initialState:"Ready",states:{Ready:{_onEnter:function(){this.queued&&this.transition("Tuning")},playQueued:"Tuning"},Tuning:{_onEnter:function(){var t=this.queued;delete this.queued,this.currentPlayer=this.findBestAvailablePlayer(t,this.preferredProvider),t=this.augmentWithAffiliate(t),this.eventMediator.publish("player.track.tuning",t),this.currentPlayer.playTrack(t)},playQueued:"Stopping",playing:"Playing",stopped:"Stopped",unavailable:"Unavailable"},Stopping:{_onEnter:function(){this.currentPlayer.stopTrack()},stopped:"Stopped"},Playing:{_onEnter:function(){this.eventMediator.publish("player.track.playing",this.currentActionArgs[1])},pause:function(){this.currentPlayer.pauseTrack()},playQueued:"Stopping",paused:"Paused",stopped:"Stopped",finished:"Finished"},Paused:{_onEnter:function(){this.eventMediator.publish("player.track.paused")},resume:function(){this.currentPlayer.resumeTrack()},playQueued:"Stopping",playing:"Playing",stopped:"Stopped",finished:"Finished"},Stopped:{_onEnter:function(){this.eventMediator.publish("player.track.stopped"),this.transition("Ready")}},Unavailable:{_onEnter:function(){this.eventMediator.publish("player.track.unavailable"),this.transition("Ready")}},Finished:{_onEnter:function(){this.eventMediator.publish("player.track.finished",this.currentActionArgs[1]),this.transition("Ready")}}},findAvailablePlayers:function(t){return e.filter(this.players,function(e){return t[e.providerName+"Id"]})},findBestAvailablePlayer:function(t,i){var n=this.findAvailablePlayers(t);return i?e.find(n,function(t){return t.providerName==i})||n[0]:n[0]},augmentWithAffiliate:function(t){t=e.clone(t),t.affiliate=this.currentPlayer.providerName;var i=this.findAvailablePlayers(t);return t.availableAffiliates=e.map(i,"providerName"),t}}),o=function(t,e){var i=this;this.players=t,this.eventMediator=e,this.stateManager=new(r.extend({eventMediator:e,players:this.players}));var n=function(t){return function(e){i.stateManager.currentPlayer&&e.provider===i.stateManager.currentPlayer.providerName&&t.call(i,e.message)}};e.subscribe("player.provider.playing",n(this.onPlaying)),e.subscribe("player.provider.paused",n(this.onPaused)),e.subscribe("player.provider.stopped",n(this.onStopped)),e.subscribe("player.provider.finished",n(this.onFinished)),e.subscribe("player.provider.unavailable",n(this.onUnavailable)),e.subscribe("player.provider.positionChanged",n(this.onPositionChanged))};return o.prototype={playTrack:function(t,e){this.stateManager.queued=t,e&&(this.stateManager.preferredProvider=e),this.stateManager.handle("playQueued")},pauseTrack:function(){this.stateManager.handle("pause")},resumeTrack:function(){this.stateManager.handle("resume")},switchDevice:function(){this.stateManager.currentPlayer.switchDevice()},onPlaying:function(t){this.stateManager.handle("playing",t)},onPaused:function(){this.stateManager.handle("paused")},onStopped:function(){this.stateManager.handle("stopped")},onFinished:function(t){this.stateManager.handle("finished",t)},onUnavailable:function(){this.stateManager.handle("unavailable")},onPositionChanged:function(t){this.eventMediator.publish("player.track.positionChanged",t)}},o}),define("player/queue",[],function(){"use strict";var t=function(){this.items=[],this.pointer=0};return t.prototype={add:function(t){this.items.push(t)},replaceRemaining:function(t){this.clearRemaining(),this.items=this.items.concat(t)},current:function(){return this.items[this.pointer]},next:function(){if(!this.isLast())return this.items.length&&(this.pointer=Math.min(this.items.length-1,this.pointer+1)),this.current()},previous:function(){return this.pointer=Math.max(0,this.pointer-1),this.current()},removeCurrent:function(){this.items.splice(this.pointer,1)},isLast:function(){return!this.items.length||this.pointer===this.items.length-1},isEmpty:function(){return 0===this.items.length},clearRemaining:function(){var t=this.pointer+1;this.items.splice(t,this.items.length-t)}},t}),define("player/player",["require","player/queue"],function(t){"use strict";var e=t("player/queue"),i=function(t,i){this.mediaPlayer=t,this.playQueue=new e,this.eventMediator=i,this.eventMediator.subscribe("player.track.finished",this.onFinished.bind(this)),this.eventMediator.subscribe("player.track.unavailable",this.onUnavailable.bind(this)),this.eventMediator.subscribe("player.track.positionChanged",this.onPositionChanged.bind(this))};return i.prototype={RESTART_TIME_LIMIT:5,queue:function(t){var e=this.playQueue.isEmpty();this.playQueue.replaceRemaining(t),e||this.playQueue.next()},play:function(t){this.mediaPlayer.playTrack(this.playQueue.current(),t)},pause:function(){this.mediaPlayer.pauseTrack()},resume:function(){this.mediaPlayer.resumeTrack()},next:function(){var t=this.playQueue.next();t&&this.mediaPlayer.playTrack(t)},previous:function(){var t;(t=this.position<this.RESTART_TIME_LIMIT?this.playQueue.previous():this.playQueue.current())&&this.mediaPlayer.playTrack(t)},hasNext:function(){return this.playQueue.isLast()},switchDevice:function(){this.mediaPlayer.switchDevice()},onPositionChanged:function(t){this.position=t},onUnavailable:function(){this.playQueue.removeCurrent();var t=this.playQueue.current();t&&this.mediaPlayer.playTrack(t)},onFinished:function(){this.next()}},i}),function(t){define("jquery-popup-overlay",["jquery"],function(){return function(){!function(t){var e,i,n=t(window),r={},o=[],s=[],a=null,l=[],u=null,c=/(iPad|iPhone|iPod)/g.test(navigator.userAgent),h={_init:function(e){var i=t(e),n=i.data("popupoptions");s[e.id]=!1,o[e.id]=0,i.data("popup-initialized")||(i.attr("data-popup-initialized","true"),h._initonce(e)),n.autoopen&&setTimeout(function(){h.show(e,0)},0)},_initonce:function(i){var n=t(i),r=t("body"),o=n.data("popupoptions");if(a=parseInt(r.css("margin-right"),10),u=void 0!==document.body.style.webkitTransition||void 0!==document.body.style.MozTransition||void 0!==document.body.style.msTransition||void 0!==document.body.style.OTransition||void 0!==document.body.style.transition,"tooltip"==o.type&&(o.background=!1,o.scrolllock=!1),o.backgroundactive&&(o.background=!1,o.blur=!1,o.scrolllock=!1),o.scrolllock){var s,l;void 0===e&&(s=t('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),l=s.children(),e=l.innerWidth()-l.height(99).innerWidth(),s.remove())}n.attr("id")||n.attr("id","j-popup-"+parseInt(1e8*Math.random(),10)),n.addClass("popup_content"),n.css({opacity:0,visibility:"hidden",display:"inline-block"}),o.outline||n.css("outline","none"),o.transition&&n.css("transition",o.transition),n.attr("aria-hidden",!0),"overlay"==o.type&&n.css({textAlign:"left",position:"relative",verticalAlign:"middle"}),n.attr("role","dialog");var c=o.openelement?o.openelement:"."+i.id+"_open";t(c).each(function(e,i){t(i).attr("data-popup-ordinal",e),i.id||t(i).attr("id","open_"+parseInt(1e8*Math.random(),10))}),n.attr("aria-labelledby")||n.attr("aria-label")||n.attr("aria-labelledby",t(c).attr("id")),"hover"==o.action?(o.keepfocus=!1,t(c).on("mouseenter",function(e){h.show(i,t(this).data("popup-ordinal"))}),t(c).on("mouseleave",function(t){h.hide(i,t)})):t(document).on("click",c,function(e){e.preventDefault();var n=t(this).data("popup-ordinal");setTimeout(function(){h.show(i,n)},0)}),o.closebutton&&h.addclosebutton(i),o.detach?n.detach():$wrapper.hide()},show:function(r,p){var f=t(r);if(!f.data("popup-visible")){f.data("popup-initialized")||h._init(r),f.attr("data-popup-initialized","true");var g=t("body"),m=f.data("popupoptions"),v=t("#"+r.id+"_background");if(g.prepend(r),f.wrap('<div id="'+r.id+'_wrapper" class="popup_wrapper" />'),$wrapper=t("#"+r.id+"_wrapper"),$wrapper.css({opacity:0,visibility:"hidden",position:"absolute"}),c&&$wrapper.css("cursor","pointer"),m.setzindex&&!m.autozindex&&$wrapper.css("z-index","100001"),m.transition&&$wrapper.css("transition",m.transition),"overlay"==m.type&&$wrapper.css("overflow","auto"),"overlay"==m.type&&(css={position:"fixed",width:"100%",height:"100%",top:0,left:0,textAlign:"center"},m.backgroundactive&&(css.position="relative",css.height="0",css.overflow="visible"),$wrapper.css(css),$wrapper.append('<div class="popup_align" />'),t(".popup_align").css({display:"inline-block",verticalAlign:"middle",height:"100%"})),m.background&&!t("#"+r.id+"_background").length){g.prepend('<div id="'+r.id+'_background" class="popup_background"></div>');var v=t("#"+r.id+"_background");v.css({opacity:0,visibility:"hidden",backgroundColor:m.color,position:"fixed",top:0,right:0,bottom:0,left:0}),m.setzindex&&!m.autozindex&&v.css("z-index","100000"),m.transition&&v.css("transition",m.transition)}if(d(r,p,m.beforeopen),s[r.id]=p,setTimeout(function(){l.push(r.id)},0),m.autozindex){for(var y=document.getElementsByTagName("*"),b=y.length,x=0,w=0;w<b;w++){var S=t(y[w]).css("z-index");"auto"!==S&&(S=parseInt(S,10),x<S&&(x=S))}o[r.id]=x,m.background&&o[r.id]>0&&t("#"+r.id+"_background").css({zIndex:o[r.id]+1}),o[r.id]>0&&$wrapper.css({zIndex:o[r.id]+2})}m.detach?($wrapper.prepend(r),f.show()):$wrapper.show(),i=setTimeout(function(){$wrapper.css({visibility:"visible",opacity:1}),t("html").addClass("popup_visible").addClass("popup_visible_"+r.id),$wrapper.addClass("popup_wrapper_visible")},20),m.scrolllock&&(g.css("overflow","hidden"),g.height()>n.height()&&g.css("margin-right",a+e)),m.backgroundactive&&f.css({top:(n.height()-(f.get(0).offsetHeight+parseInt(f.css("margin-top"),10)+parseInt(f.css("margin-bottom"),10)))/2+"px"}),f.css({visibility:"visible",opacity:1}),m.background&&(v.css({visibility:"visible",opacity:m.opacity}),setTimeout(function(){v.css({opacity:m.opacity})},0)),f.data("popup-visible",!0),h.reposition(r,p),f.data("focusedelementbeforepopup",document.activeElement),m.keepfocus&&(f.attr("tabindex",-1),setTimeout(function(){"closebutton"===m.focuselement?t("#"+r.id+" ."+r.id+"_close:first").focus():m.focuselement?t(m.focuselement).focus():f.focus()},m.focusdelay)),t(m.pagecontainer).attr("aria-hidden",!0),f.attr("aria-hidden",!1),d(r,p,m.onopen),u?$wrapper.one("transitionend",function(){d(r,p,m.opentransitionend)}):d(r,p,m.opentransitionend)}},hide:function(e,n){i&&clearTimeout(i);var r=t("body"),o=t(e),c=o.data("popupoptions"),h=t("#"+e.id+"_wrapper"),p=t("#"+e.id+"_background");o.data("popup-visible",!1),1===l.length?t("html").removeClass("popup_visible").removeClass("popup_visible_"+e.id):t("html").hasClass("popup_visible_"+e.id)&&t("html").removeClass("popup_visible_"+e.id),l.pop(),h.hasClass("popup_wrapper_visible")&&h.removeClass("popup_wrapper_visible"),c.keepfocus&&setTimeout(function(){t(o.data("focusedelementbeforepopup")).is(":visible")&&o.data("focusedelementbeforepopup").focus()},0),h.css({visibility:"hidden",opacity:0}),o.css({visibility:"hidden",opacity:0}),c.background&&p.css({visibility:"hidden",opacity:0}),t(c.pagecontainer).attr("aria-hidden",!1),o.attr("aria-hidden",!0),d(e,s[e.id],c.onclose,n),u&&"0s"!==o.css("transition-duration")?o.one("transitionend",function(t){o.data("popup-visible")||(c.detach?(h.detach(),p.detach()):h.hide()),c.scrolllock&&setTimeout(function(){r.css({overflow:"visible","margin-right":a})},10),d(e,s[e.id],c.closetransitionend)}):(c.detach?(h.detach(),p.detach()):h.hide(),c.scrolllock&&setTimeout(function(){r.css({overflow:"visible","margin-right":a})},10),d(e,s[e.id],c.closetransitionend))},toggle:function(e,i){t(e).data("popup-visible")?h.hide(e):setTimeout(function(){h.show(e,i)},0)},reposition:function(e,i){var r=t(e),o=r.data("popupoptions"),s=t("#"+e.id+"_wrapper");t("#"+e.id+"_background");if(i=i||0,"tooltip"==o.type){s.css({position:"absolute"});var a;a=o.tooltipanchor?t(o.tooltipanchor):o.openelement?t(o.openelement).filter('[data-popup-ordinal="'+i+'"]'):t("."+e.id+'_open[data-popup-ordinal="'+i+'"]');var l=a.offset();"right"==o.horizontal?s.css("left",l.left+a.outerWidth()+o.offsetleft):"leftedge"==o.horizontal?s.css("left",l.left+a.outerWidth()-a.outerWidth()+o.offsetleft):"left"==o.horizontal?s.css("right",n.width()-l.left-o.offsetleft):"rightedge"==o.horizontal?s.css("right",n.width()-l.left-a.outerWidth()-o.offsetleft):s.css("left",l.left+a.outerWidth()/2-r.outerWidth()/2-parseFloat(r.css("marginLeft"))+o.offsetleft),"bottom"==o.vertical?s.css("top",l.top+a.outerHeight()+o.offsettop):"bottomedge"==o.vertical?s.css("top",l.top+a.outerHeight()-r.outerHeight()+o.offsettop):"top"==o.vertical?s.css("bottom",n.height()-l.top-o.offsettop):"topedge"==o.vertical?s.css("bottom",n.height()-l.top-r.outerHeight()-o.offsettop):s.css("top",l.top+a.outerHeight()/2-r.outerHeight()/2-parseFloat(r.css("marginTop"))+o.offsettop)}else"overlay"==o.type&&(o.horizontal?s.css("text-align",o.horizontal):s.css("text-align","center"),o.vertical?r.css("vertical-align",o.vertical):r.css("vertical-align","middle"))},addclosebutton:function(e){var i,n;i=t(e),n=i.data("popupoptions").closebuttonmarkup?t(r.closebuttonmarkup).addClass(e.id+"_close"):'<button class="popup_close '+e.id+'_close" title="Close" aria-label="Close"><span aria-hidden="true">×</span></button>',i.data("popup-initialized")&&i.append(n)}},d=function(e,i,n){var r=t(e).data("popupoptions"),o=r.openelement?r.openelement:"."+e.id+"_open",s=t(o+'[data-popup-ordinal="'+i+'"]');if("function"==typeof n){var a=[].slice.call(arguments,3),l=[e,s].concat(a);n.apply(t(e),l)}};t(document).on("keydown",function(e){if(l.length){var i=l[l.length-1],n=document.getElementById(i);t(n).data("popupoptions").escape&&27==e.keyCode&&h.hide(n,e)}}),t(document).on("click",function(e){if(l.length){var i=l[l.length-1],n=document.getElementById(i),r=t(n).data("popupoptions").closeelement?t(n).data("popupoptions").closeelement:"."+n.id+"_close";t(e.target).closest(r).length&&(e.preventDefault(),h.hide(n,e)),t(n).data("popupoptions").blur&&!t(e.target).closest("#"+i).length&&2!==e.which&&t(e.target).is(":visible")&&(h.hide(n,e),"overlay"===t(n).data("popupoptions").type&&e.preventDefault())}}),t(document).on("focusin",function(e){if(l.length){var i=l[l.length-1],n=document.getElementById(i);t(n).data("popupoptions").keepfocus&&(n.contains(e.target)||(e.stopPropagation(),n.focus()))}}),t.fn.popup=function(e){return this.each(function(){if($el=t(this),"object"==typeof e){var i=t.extend({},t.fn.popup.defaults,e);$el.data("popupoptions",i),r=$el.data("popupoptions"),h._init(this)}else"string"==typeof e?($el.data("popupoptions")||($el.data("popupoptions",t.fn.popup.defaults),r=$el.data("popupoptions")),h[e].call(this,this)):($el.data("popupoptions")||($el.data("popupoptions",t.fn.popup.defaults),r=$el.data("popupoptions")),h._init(this))})},t.fn.popup.destroyall=function(){t(".popup_wrapper").remove(),t(".popup_background").remove(),l=[]},t.fn.popup.defaults={type:"overlay",autoopen:!1,background:!0,backgroundactive:!1,color:"black",opacity:"0.5",horizontal:"center",vertical:"middle",offsettop:0,offsetleft:0,escape:!0,blur:!0,setzindex:!0,autozindex:!1,scrolllock:!1,closebutton:!1,closebuttonmarkup:null,keepfocus:!0,focuselement:null,focusdelay:50,outline:!1,pagecontainer:null,detach:!0,openelement:null,closeelement:null,transition:null,tooltipanchor:null,beforeopen:null,onclose:null,onopen:null,opentransitionend:null,closetransitionend:null}}(jQuery)}.apply(t,arguments)})}(this),define("components/modal",["require","jquery","core/ajax","jquery-popup-overlay","jquery-cookie"],function(t){"use strict";var e=t("jquery"),i=t("core/ajax");t("jquery-popup-overlay"),t("jquery-cookie");var n=function(t){this.app=t,this.closeTimeout};return n.prototype.open=function(t,e){this.close(),this.request&&this.request.abort();var n=e&&e.actions,r=e&&e.onclose,o=e&&e.onopen,s=e&&e.post,a=e&&e.get,l=this.onLoadContent.bind(this,n,r,o);this.request=s?i.post(t,null,s,l):i.get(t,null,a,l),this.app.eventMediator.publish("modal.loading")},n.prototype.onLoadContent=function(t,i,n,r,o){this.close();var s=e(o);this.show(s.filter(".js-modal-title").html(),s.filter(".js-modal-body").html(),t,i,n),this.app.eventMediator.publish("modal.loadingComplete")},n.prototype.close=function(){clearTimeout(this.closeTimeout);var t=e(".popup_content");t.popup("hide"),t.length&&this.app.moduleLoader.stopAllModules(t)},n.prototype.show=function(t,i,n,r,o){var s=e(".js-modal-template").html(),a=e(s);a.appendTo("body"),a.find(".js-modal-title").html(t),a.find(".js-modal-body").html(i);var l=a.find("[data-modal-type]").data("modal-type");l&&a.addClass("modal-dialog--"+l),n&&a.on("click submit",function(t){var i=e(t.target),r=i.data("modal-action"),o=n[r];o&&(t.preventDefault(),o(t))}),a.on("submit","form[data-modal-form]",this.onModalFormSubmit.bind(this,n,r)),a.popup({autoopen:!0,closeelement:".js-close",setzindex:!1,pagecontainer:"#content",onclose:this.redirectOnClose.bind(this,r),onopen:o}),this.app.moduleLoader.startAllModules(a),a.find("[data-modal-autoclose]").length&&this.autoClose(4e3)},n.prototype.onModalFormSubmit=function(t,n,r){r.preventDefault();var o=e(r.target),s=o.attr("action"),a=this.serializeForm(o);this.app.eventMediator.publish("modal.loading"),i.post(s,null,a,this.onLoadContent.bind(this,t,n,null))},n.prototype.autoClose=function(t){this.closeTimeout=setTimeout(function(){this.close()}.bind(this),t)},n.prototype.redirectOnClose=function(t,i,n,r){t&&t(i,n,r);var o=e(i),s=r&&e(r.target).closest("a");if(!s||!s.attr("href")){var a=o.find("[data-modal-redirect-on-close]").data("modalRedirectOnClose");a&&this.app.loadUrl(a)}},n.prototype.serializeForm=function(t){var e=t.serializeArray(),i={};return e.forEach(function(t){i[t.name]=t.value}),i},n}),function(){function t(t,e,i){var n=e&&i||0,r=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){r<16&&(e[n+r++]=h[t])});r<16;)e[n+r++]=0;return e}function e(t,e){var i=e||0,n=c;return n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]}function i(t,i,n){var r=i&&n||0,o=i||[];t=t||{};var s=null!=t.clockseq?t.clockseq:g,a=null!=t.msecs?t.msecs:(new Date).getTime(),l=null!=t.nsecs?t.nsecs:v+1,u=a-m+(l-v)/1e4;if(u<0&&null==t.clockseq&&(s=s+1&16383),(u<0||a>m)&&null==t.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");m=a,v=l,g=s,a+=122192928e5;var c=(1e4*(268435455&a)+l)%4294967296;o[r++]=c>>>24&255,o[r++]=c>>>16&255,o[r++]=c>>>8&255,o[r++]=255&c;var h=a/4294967296*1e4&268435455;o[r++]=h>>>8&255,o[r++]=255&h,o[r++]=h>>>24&15|16,o[r++]=h>>>16&255,o[r++]=s>>>8|128,o[r++]=255&s;for(var d=t.node||f,p=0;p<6;p++)o[r+p]=d[p];return i||e(o)}function n(t,i,n){var o=i&&n||0;"string"==typeof t&&(i="binary"==t?new u(16):null,t=null),t=t||{};var s=t.random||(t.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,i)for(var a=0;a<16;a++)i[o+a]=s[a];return i||e(s)}var r,o=this;if("function"==typeof require)try{var s=require("crypto").randomBytes;r=s&&function(){return s(16)}}catch(t){}if(!r&&o.crypto&&crypto.getRandomValues){var a=new Uint8Array(16);r=function(){return crypto.getRandomValues(a),a}}if(!r){var l=new Array(16);r=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),l[e]=t>>>((3&e)<<3)&255;return l}}for(var u="function"==typeof Buffer?Buffer:Array,c=[],h={},d=0;d<256;d++)c[d]=(d+256).toString(16).substr(1),h[c[d]]=d;var p=r(),f=[1|p[0],p[1],p[2],p[3],p[4],p[5]],g=16383&(p[6]<<8|p[7]),m=0,v=0,y=n;if(y.v1=i,y.v4=n,y.parse=t,y.unparse=e,y.BufferClass=u,"function"==typeof define&&define.amd)define("uuid",[],function(){return y});else if("undefined"!=typeof module&&module.exports)module.exports=y;else{var b=o.uuid;y.noConflict=function(){return o.uuid=b,y},o.uuid=y}}.call(this),define("app-config",[],function(){"use strict";return{"partial-refresh":{"non-pjax-urls":[]}}}),window.addEventListener("hashchange",function(t){var e=document.getElementById(location.hash.substring(1));e&&(/^(?:a|select|input|button|textarea)$/i.test(e.tagName)||(e.tabIndex=-1,e.className+=" skiplink-polyfill-target"),e.focus())},!1),define("skiplink-polyfill",function(){}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("whatInput",[],e):"object"==typeof exports?exports.whatInput=e():t.whatInput=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e){t.exports=function(){"use strict";function t(t){i(),n(t),p=!0,b=window.setTimeout(function(){p=!1},650)}function e(t){p||n(t)}function i(){window.clearTimeout(b)}function n(t){var e=o(t),i=y[t.type];if("pointer"===i&&(i=s(t)),f!==i){var n=document.activeElement.nodeName.toLowerCase();!h.hasAttribute("data-whatinput-formswitching")&&!h.hasAttribute("data-whatinput-formtyping")&&f&&g.indexOf(n)>-1||v.indexOf(e)>-1||r(i)}"keyboard"===i&&a(e)}function r(t){f=t,h.setAttribute("data-whatinput",f),-1===x.indexOf(f)&&x.push(f)}function o(t){return t.keyCode?t.keyCode:t.which}function s(t){return"number"==typeof t.pointerType?S[t.pointerType]:"pen"===t.pointerType?"touch":t.pointerType}function a(t){-1===d.indexOf(w[t])&&w[t]&&d.push(w[t])}function l(t){var e=o(t),i=d.indexOf(w[e]);-1!==i&&d.splice(i,1)}function u(){h=document.body,window.PointerEvent?(h.addEventListener("pointerdown",e),h.addEventListener("pointermove",e)):window.MSPointerEvent?(h.addEventListener("MSPointerDown",e),h.addEventListener("MSPointerMove",e)):(h.addEventListener("mousedown",e),h.addEventListener("mousemove",e),"ontouchstart"in window&&h.addEventListener("touchstart",t)),h.addEventListener(m,e),h.addEventListener("keydown",t),h.addEventListener("keyup",t),document.addEventListener("keyup",l)}function c(){return m="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}var h,d=[],p=!1,f=null,g=["button","input","select","textarea"],m=c(),v=[16,17,18,91,93],y={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch"};y[c()]="mouse";var b,x=[],w={9:"tab",13:"enter",16:"shift",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down"},S={2:"touch",3:"touch",4:"mouse"};return"addEventListener"in window&&Array.prototype.indexOf&&(document.body?u():document.addEventListener("DOMContentLoaded",u)),{ask:function(){return f},keys:function(){return d},types:function(){return x},set:r}}()}])}),define("core/app",["require","tracking/tealium","components/cbsi-player","core/dom-require/module-loader","core/partial-refresh","components/loading-indicator","core/event-mediator","player/provider-player","player/media-player","player/player","components/modal","uuid","app-config","jquery","skiplink-polyfill","whatInput"],function(t){"use strict";var e=t("tracking/tealium"),i=t("components/cbsi-player"),n=t("core/dom-require/module-loader"),r=t("core/partial-refresh"),o=(t("components/loading-indicator"),t("core/event-mediator")),s=t("player/provider-player"),a=t("player/media-player"),l=t("player/player"),u=t("components/modal"),c=t("uuid"),h=t("app-config"),d=t("jquery");t("skiplink-polyfill"),t("whatInput");var p={start:function(){var t=d("body");if(p.eventMediator=new o,p.viewGuid=t.data("initial-view-guid"),new e(p).start(),p.cbsiplayer=new i(p,t.data("cbsi-player-config")),p.isPlayerSupported()){var c=[new s("spotify",p.eventMediator),new s("youtube",p.eventMediator)],f=new a(c,p.eventMediator);p.player=new l(f,p.eventMediator)}p.modal=new u(this),p.moduleLoader=new n(p),p.moduleLoader.start(),document.addEventListener("visibilitychange",function(){p.eventMediator.publish("app.visibilityChanged")}),p.player&&(p.partialRefresh=new r(p.eventMediator,h["partial-refresh"]["non-pjax-urls"]),p.eventMediator.subscribe("partialRefresh.beforeReplace",function(t){p.moduleLoader.stopAllModules(t)}),p.eventMediator.subscribe("partialRefresh.afterReplace",function(t){p.eventMediator.reset(),p.moduleLoader.startAllModules(t),p.pageTransitionComplete(!0)}),p.partialRefresh.start()),p.eventMediator.subscribe("page.updated",function(){p.pageTransitionComplete(!1)})},pageTransitionComplete:function(t){p.viewGuid=c(),p.eventMediator.publish("page.transitionComplete",{fullPage:t})},isVisible:function(){return!0!==document.hidden},isPlayerSupported:function(){return d("body").data("player-supported")},countryCode:function(){return d("body").data("country-code")},lang:function(){return d("html").attr("lang")},loadUrl:function(t){
p.partialRefresh?p.partialRefresh.replaceContent(t):window.location.href=t},adTargeting:function(){return d("[data-ads-targeting]").eq(0).data("ads-targeting")},adsEnabled:function(){return d("body").find("[data-ads-beacon]").length>0},lazyRecsBarEnabled:function(){return this.adsEnabled()},facebookAppId:function(){return d("body").data("facebook-app-id")}};return p}),require(["require-config"],function(){"use strict";require(["lodash"],function(t){Function.prototype.bind=Function.prototype.bind||function(){var e=Array.prototype.slice.call(arguments,0);return t.bind.apply(null,[this].concat(e))}}),require(["es6-promise"],function(t){t.polyfill(),require(["core/app"],function(t){t.start()})})}),define("init",function(){}),define("shim/remove-focus",["jquery"],function(t){"use strict";var e=function(){this.$el=t(document.body)};return e.prototype={start:function(){this.$el.on("mousedown.remove-focus","button, select, a",this.mousedownHandler),this.$el.on("focusout.remove-focus","button, select, a",this.focusoutHandler)},stop:function(){this.$el.off(".remove-focus")},mousedownHandler:function(e){t(e.currentTarget).addClass("remove-focus")},focusoutHandler:function(e){t(e.currentTarget).removeClass("remove-focus")}},e}),define("dev/grid-overlay",["jquery"],function(t){"use strict";return function(e,i){this.start=function(){window.lfmGridOverlay=function(){var i=t(".dev-grid-overlay",e);i.length&&i.is(".dev-grid-overlay--baseline")?i.remove():i.length?i.addClass("dev-grid-overlay--baseline"):e.append('<div class="dev-grid-overlay"></div>')}}}}),define("dev/debug-log",["jquery"],function(t){"use strict";return function(e,i){this.start=function(){window.lfmDebugLog=function(){t(".debug-log",e).toggleClass("debug-log--show")}}}}),define("dev/debug-image-analysis",["jquery"],function(t){"use strict";return function(e){this.start=function(){window.lfmImageAnalysis=function(){t(".debug-image-analysis",e).toggleClass("debug-image-analysis--show")}}}}),define("dev/js-log",[],function(){"use strict";return function(){this.start=function(){window.lfmJsLog=function(){var t=[];window.debug.setCallback(function(){t.push([].slice.call(arguments))},!0),console.log(JSON.stringify(t,null,2))}}}}),define("core/media-size-v2",["require","jquery"],function(t){"use strict";var e=t("jquery"),i=e("<span>",{id:"media-test"}),n=e("<span>",{class:"visible-xs-inline"}),r=e("<span>",{class:"visible-sm-inline"}),o=e("<span>",{class:"visible-md-inline"}),s=e("<span>",{class:"visible-lg-inline"});return n.appendTo(i),r.appendTo(i),o.appendTo(i),s.appendTo(i),i.appendTo("body"),{getMediaSize:function(){return"none"!==n.css("display")?"xs":"none"!==r.css("display")?"sm":"none"!==o.css("display")?"md":"none"!==s.css("display")?"lg":null},isMobile:function(){return"xs"===this.getMediaSize()},breakpoints:["xs","sm","md","lg"]}}),define("ads/page-view-counter",[],function(){"use strict";window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var t=window.googletag;t.CBSigetCookieValue=function(t){for(var e=t+"=",i=decodeURIComponent(document.cookie),n=i.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""},t.CBSiisEDT=function(t){var e=new Date(t.getFullYear(),2,1);e=Date.UTC(e.getUTCFullYear(),2,14-(e.getUTCDay()+13)%7,5);var i=new Date(t.getFullYear(),10,1);return i=Date.UTC(i.getUTCFullYear(),10,7-(i.getUTCDay()+6)%7,4),t.getTime()>=e&&t.getTime()<i},t.CBSiaddPageView=function(){var e=1;-1!=document.cookie.indexOf("pv")&&(e=parseInt(t.CBSigetCookieValue("pv")),isNaN(e)?e=1:e+=1);var i=new Date,n=Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),t.CBSiisEDT(i)?4:5);n+=n>i.getTime()?0:864e5,n=new Date(n).toUTCString();var r=document.domain.split(".").reverse(),o=document.domain;null!=r[1]&&(o=r[1]+"."+r[0]),document.cookie="pv="+e+";path=/;domain="+o+";expires="+n,t.pubads().setTargeting("pv",""+e)}}),define("ads/gpt-helper",["require","jquery","core/media-size-v2","lodash","ads/page-view-counter"],function(t){"use strict";var e=[11,11],i=t("jquery"),n=t("core/media-size-v2"),r=t("lodash");t("ads/page-view-counter");var o=function(t){this.app=t,this.targetingKeys=[],this.slots=[],this.idCount=0,this.isSharethroughLoaded=!1};return o.prototype.start=function(){window.googletag=window.googletag||{},googletag.cmd=window.googletag.cmd||[],googletag.cmd.push(function(){googletag.pubads().collapseEmptyDivs(),screen.width>=1280&&googletag.pubads().setTargeting("inskin","yes"),googletag.pubads().addEventListener("slotRenderEnded",this.handleSlotRender.bind(this))}.bind(this)),this.loadLibrary()},o.prototype.loadLibrary=function(){!function(){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src="https://www.googletagservices.com/tag/js/gpt.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()},o.prototype.setTargeting=function(t){var e=this;googletag.cmd.push(function(){for(var i in t)t.hasOwnProperty(i)&&(googletag.pubads().setTargeting(i,String(t[i])),e.targetingKeys.push(i));googletag.pubads().setTargeting("vguid",e.app.viewGuid),e.targetingKeys.push("vguid")})},o.prototype.clearTargeting=function(){var t=this;googletag.cmd.push(function(){t.targetingKeys.forEach(function(t){googletag.pubads().clearTargeting(t)}),t.targetingKeys=[]})},o.prototype.newId=function(){return"gpt-slot-"+this.idCount++},o.prototype.handleSlotRender=function(t){(!t||t.isEmpty||33550002489==t.creativeId)&&this.slots.forEach(function(e){e.slot==t&&this.handleBlank(e)}.bind(this))},o.prototype.handleBlank=function(t){t.element.parents("[data-ad-container]").removeClass("open-ad-container")},o.prototype.createSlot=function(t){"native_top"==t.id&&this.enableSharethroughSupport(),googletag.cmd.push(function(t){if(!!n.isMobile()==!!t.is_mobile){i(t.element).parents("[data-ad-container]").addClass("open-ad-container");var e=this.newId(),r=i("<div></div>").attr("id",e);r.appendTo(t.element);var o=this.configureSlot(e,t);this.slots.push({element:r,slot:o}),this.displaySlot(e)}}.bind(this,t))},o.prototype.configureSlot=function(t,e){var i;i=e.out_of_page?googletag.defineOutOfPageSlot(e.unitname,t):googletag.defineSlot(e.unitname,e.sizes,t),i.addService(googletag.pubads());for(var n in e.targeting)e.targeting.hasOwnProperty(n)&&i.setTargeting(n,e.targeting[n]);return e.collapse_before_load&&i.setCollapseEmptyDiv(!0,!0),googletag.enableServices(),i},o.prototype.displaySlot=function(t){googletag.display(t)},o.prototype.clearSlots=function(){var t=this;googletag.cmd.push(function(){googletag.destroySlots(r.pluck(t.slots,"slot")),t.slots.forEach(function(t){t.element.remove()}),t.slots=[]})},o.prototype.incrementPageView=function(){googletag.cmd.push(function(){googletag.CBSiaddPageView()})},o.prototype.refresh=function(){googletag.cmd.push(function(){this.refreshSlots()}.bind(this))},o.prototype.refreshSlots=function(){googletag.pubads().refresh()},o.prototype.enableSharethroughSupport=function(){this.isSharethroughLoaded||(this.loadSharethroughLibrary(),this.listenToSharethroughEvents(),this.isSharethroughLoaded=!0)},o.prototype.loadSharethroughLibrary=function(){!function(){var t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src="https://native.sharethrough.com/assets/tag.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()},o.prototype.listenToSharethroughEvents=function(){window.addEventListener("message",function(t){t.origin===window.location.protocol+"//"+window.location.host&&t.data&&t.data.indexOf&&0===t.data.indexOf("nativeAdBlankServed_")&&this.handleSharethroughBlank()}.bind(this))},o.prototype.handleSharethroughBlank=function(){var t=this.findSharethroughSlot();t&&this.handleBlank(t)},o.prototype.findSharethroughSlot=function(){return r.find(this.slots,this.isSharethroughSlot)},o.prototype.isSharethroughSlot=function(t){return t.slot.size&&t.slot.size[0]==e[0]&&t.slot.size[1]==e[1]},o}),define("ads/index-exchange-helper",["require","ads/gpt-helper"],function(t){"use strict";var e=t("ads/gpt-helper"),i=function(){e.apply(this,arguments)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i;var n=e.prototype;return i.prototype.start=function(){n.start.call(this),this.loadIndexExchangeLibrary()},i.prototype.loadIndexExchangeLibrary=function(){t(["index-exchange"])},i.prototype.displaySlot=function(t){this.deferToIndexExchange(n.displaySlot.bind(this,t))},i.prototype.refreshSlots=function(){this.deferToIndexExchange(n.refreshSlots.bind(this))},i.prototype.deferToIndexExchange=function(t){if(void 0===window.index_headertag_lightspeed)t();else{var e=function(){return function(){var e=window.googletag.pubads().getSlots();window.index_headertag_lightspeed.set_slot_targeting(e),t()}}();window.index_headertag_lightspeed.add_session_end_hook(e,!0),window.index_headertag_lightspeed.refresh()}},i}),define("ads/page-ads",["jquery","lodash","ads/index-exchange-helper"],function(t,e,i){"use strict";return function(n,r){var o=this;o.start=function(){if(!r.adsEnabled())return void(o.initSubscription=r.eventMediator.subscribe("page.transitionComplete",o.pageUpdated));o.init()},o.pageUpdated=function(){r.adsEnabled()&&(r.eventMediator.unsubscribe(o.initSubscription),o.init())},o.init=function(){r.eventMediator.publish("ads.requested"),o.adsHelper=new i(r),o.adsHelper.start(),r.eventMediator.subscribe("partialRefresh.beforeReplace",o.beforeReplace,"none"),r.eventMediator.subscribe("page.transitionComplete",o.transitionCompleteHandler,"none"),o.setTargeting(),o.createPlacements()},o.getTargetingParams=function(){return r.adTargeting()},o.getUnitName=function(){return t("[data-ads-unitname]",n).eq(0).data("ads-unitname")},o.getMobileUnitName=function(){return t("[data-ads-unitname-mobile]",n).eq(0).data("ads-unitname-mobile")},o.getPlacementsConfig=function(){var e,i=t("[data-ads-placement]",n);return i.map(function(i,n){return e=t(n).data("ads-placement"),e.element=n,e})},o.setTargeting=function(){var t=o.getTargetingParams();o.adsHelper.setTargeting(t),o.adsHelper.incrementPageView()},o.createPlacements=function(){var e=o.getPlacementsConfig(),i=o.getUnitName(),n=o.getMobileUnitName();t(e).each(function(t,e){e.unitname=e.is_mobile?n:i,o.adsHelper.createSlot(e)})},o.beforeReplace=function(){o.adsHelper.clearTargeting(),o.adsHelper.clearSlots()},o.afterReplace=function(){o.setTargeting(),o.createPlacements()},o.afterUpdate=function(){o.adsHelper.incrementPageView(),o.adsHelper.refresh()},o.debounced=e.debounce(o.afterUpdate,2500,{leading:!1,trailing:!0}),o.transitionCompleteHandler=function(t){t.fullPage?o.afterReplace():o.debounced()}}}),define("ads/searchlinks",["require"],function(t){"use strict";var e=function(t,e){this.app=e};return e.prototype.start=function(){t(["searchlinks-library"]),this.refreshSubsription=this.app.eventMediator.subscribe("partialRefresh.afterReplace",this.pageUpdated.bind(this))},e.prototype.stop=function(){this.app.eventMediator.unsubscribe(this.refreshSubsription)},e.prototype.pageUpdated=function(){window.sl_8109&&window.sl_8109.reloadSL()},e}),define("tracking/vertical-mass",["require","tracking/tealium-utag-data","core/sensitive-paths"],function(t){"use strict";var e=t("tracking/tealium-utag-data"),i=t("core/sensitive-paths"),n=function(t,e){this.$el=t,this.app=e};return n.prototype.start=function(){this.isInSupportedTerritory()&&(this.loadLibrary(),this.initialise(),this.trackPageView())},n.prototype.isInSupportedTerritory=function(){var t=this.app.countryCode()||"NU";return"US"==(t=t.toUpperCase())||"CA"==t},n.prototype.loadLibrary=function(){!function(t,e,i,n,r){t[i]=t[i]||function(){(t[i].q=t[i].q||[]).push(arguments)};var o=e.createElement(n),s=e.getElementsByTagName(n)[0];o.async=!0,o.src="https://lib.vmweb.net/identity.min.js",s.parentNode.insertBefore(o,s)}(window,document,"IDENTITY","script")},n.prototype.initialise=function(){window.IDENTITY("init",this.$el.data("verticalMassApiKey"),this.$el.data("verticalMassPlacement")),this.app.eventMediator.subscribe("page.transitionComplete",this.trackPageView.bind(this))},n.prototype.trackPageView=function(){if(!i.isSensitivePath(window.location)){window.IDENTITY("trackPageview");var t=e.read();if(t&&t.musicArtistName){var n={id:t.musicArtistName};t.tag&&(n.genre=t.tag),window.IDENTITY("track","Viewed Artist",n)}}},n}),function(t){define("highcharts",["jquery"],function(){return function(){return function(t,e){"object"==typeof module&&module.exports?module.exports=t.document?e(t):e:t.Highcharts=e(t)}("undefined"!=typeof window?window:this,function(t){var e=function(){"use strict";var t=window,e=t.document,i="http://www.w3.org/2000/svg",n=t.navigator&&t.navigator.userAgent||"",r=e&&e.createElementNS&&!!e.createElementNS(i,"svg").createSVGRect,o=/(edge|msie|trident)/i.test(n)&&!window.opera,s=!r,a=/Firefox/.test(n),l=a&&parseInt(n.split("Firefox/")[1],10)<4;return t.Highcharts?t.Highcharts.error(16,!0):{product:"Highcharts",version:"5.0.6",deg2rad:2*Math.PI/360,doc:e,hasBidiBug:l,hasTouch:e&&void 0!==e.documentElement.ontouchstart,isMS:o,isWebKit:/AppleWebKit/.test(n),isFirefox:a,isTouchDevice:/(Mobile|Android|Windows Phone)/.test(n),SVG_NS:i,chartCount:0,seriesTypes:{},symbolSizes:{},svg:r,vml:s,win:t,charts:[],marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){}}}();return function(t){"use strict";var e=[],i=t.charts,n=t.doc,r=t.win;t.error=function(e,i){var n=t.isNumber(e)?"Highcharts error #"+e+": www.highcharts.com/errors/"+e:e;if(i)throw new Error(n);r.console&&console.log(n)},t.Fx=function(t,e,i){this.options=e,this.elem=t,this.prop=i},t.Fx.prototype={dSetter:function(){var t,e=this.paths[0],i=this.paths[1],n=[],r=this.now,o=e.length;if(1===r)n=this.toD;else if(o===i.length&&r<1)for(;o--;)t=parseFloat(e[o]),n[o]=isNaN(t)?e[o]:r*parseFloat(i[o]-t)+t;else n=i;this.elem.attr("d",n,null,!0)},update:function(){var t=this.elem,e=this.prop,i=this.now,n=this.options.step;this[e+"Setter"]?this[e+"Setter"]():t.attr?t.element&&t.attr(e,i,null,!0):t.style[e]=i+this.unit,n&&n.call(t,i,this)},run:function(t,i,n){var r,o=this,s=function(t){return!s.stopped&&o.step(t)};this.startTime=+new Date,this.start=t,this.end=i,this.unit=n,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===e.push(s)&&(s.timerId=setInterval(function(){for(r=0;r<e.length;r++)e[r]()||e.splice(r--,1);e.length||clearInterval(s.timerId)},13))},step:function(t){var e,i,n,r=+new Date,o=this.options,s=this.elem,a=o.complete,l=o.duration,u=o.curAnim;if(s.attr&&!s.element)e=!1;else if(t||r>=l+this.startTime){this.now=this.end,this.pos=1,this.update(),u[this.prop]=!0,i=!0;for(n in u)!0!==u[n]&&(i=!1);i&&a&&a.call(s),e=!1}else this.pos=o.easing((r-this.startTime)/l),this.now=this.start+(this.end-this.start)*this.pos,this.update(),e=!0;return e},initPath:function(e,i,n){function r(t){var e,i;for(h=t.length;h--;)e="M"===t[h]||"L"===t[h],i=/[a-zA-Z]/.test(t[h+3]),e&&i&&t.splice(h+1,0,t[h+1],t[h+2],t[h+1],t[h+2])}function o(t,e,i){[].splice.apply(t,[i,0].concat(e))}function s(t,e){for(;t.length<u;)t[0]=e[u-t.length],o(t,t.slice(0,m),0),b&&(o(t,t.slice(t.length-m),t.length),h--);t[0]="M"}function a(t,e){for(var i=(u-t.length)/m;i>0&&i--;)c=t.slice().splice(t.length/x-m,m*x),c[0]=e[u-m-i*m],g&&(c[m-6]=c[m-2],c[m-5]=c[m-1]),o(t,c,t.length/x),b&&i--}i=i||"";var l,u,c,h,d,p=e.startX,f=e.endX,g=i.indexOf("C")>-1,m=g?7:3,v=i.split(" "),y=n.slice(),b=e.isArea,x=b?2:1;if(g&&(r(v),r(y)),p&&f){for(h=0;h<p.length;h++){if(p[h]===f[0]){l=h;break}if(p[0]===f[f.length-p.length+h]){l=h,d=!0;break}}void 0===l&&(v=[])}return v.length&&t.isNumber(l)&&(u=y.length+l*x*m,d?(s(v,y),a(y,v)):(s(y,v),a(v,y))),[v,y]}},t.extend=function(t,e){var i;t||(t={});for(i in e)t[i]=e[i];return t},t.merge=function(){var e,i,n=arguments,r={},o=function(e,i){var n,r;"object"!=typeof e&&(e={});for(r in i)i.hasOwnProperty(r)&&(n=i[r],t.isObject(n,!0)&&"renderTo"!==r&&"number"!=typeof n.nodeType?e[r]=o(e[r]||{},n):e[r]=i[r]);return e};for(!0===n[0]&&(r=n[1],n=Array.prototype.slice.call(n,2)),i=n.length,e=0;e<i;e++)r=o(r,n[e]);return r},t.pInt=function(t,e){return parseInt(t,e||10)},t.isString=function(t){return"string"==typeof t},t.isArray=function(t){var e=Object.prototype.toString.call(t);return"[object Array]"===e||"[object Array Iterator]"===e},t.isObject=function(e,i){return e&&"object"==typeof e&&(!i||!t.isArray(e))},t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.erase=function(t,e){for(var i=t.length;i--;)if(t[i]===e){t.splice(i,1);break}},t.defined=function(t){return void 0!==t&&null!==t},t.attr=function(e,i,n){var r,o;if(t.isString(i))t.defined(n)?e.setAttribute(i,n):e&&e.getAttribute&&(o=e.getAttribute(i));else if(t.defined(i)&&t.isObject(i))for(r in i)e.setAttribute(r,i[r]);return o},t.splat=function(e){return t.isArray(e)?e:[e]},t.syncTimeout=function(t,e,i){if(e)return setTimeout(t,e,i);t.call(0,i)},t.pick=function(){var t,e,i=arguments,n=i.length;for(t=0;t<n;t++)if(void 0!==(e=i[t])&&null!==e)return e},t.css=function(e,i){t.isMS&&!t.svg&&i&&void 0!==i.opacity&&(i.filter="alpha(opacity="+100*i.opacity+")"),t.extend(e.style,i)},t.createElement=function(e,i,r,o,s){var a=n.createElement(e),l=t.css;return i&&t.extend(a,i),s&&l(a,{padding:0,border:"none",margin:0}),r&&l(a,r),o&&o.appendChild(a),a},t.extendClass=function(e,i){var n=function(){};return n.prototype=new e,t.extend(n.prototype,i),n},t.pad=function(t,e,i){return new Array((e||2)+1-String(t).length).join(i||0)+t},t.relativeLength=function(t,e){return/%$/.test(t)?e*parseFloat(t)/100:parseFloat(t)},t.wrap=function(t,e,i){var n=t[e];t[e]=function(){var t,e=Array.prototype.slice.call(arguments),r=arguments,o=this;return o.proceed=function(){n.apply(o,arguments.length?arguments:r)},e.unshift(n),t=i.apply(this,e),o.proceed=null,t}},t.getTZOffset=function(e){var i=t.Date;return 6e4*(i.hcGetTimezoneOffset&&i.hcGetTimezoneOffset(e)||i.hcTimezoneOffset||0)},t.dateFormat=function(e,i,n){if(!t.defined(i)||isNaN(i))return t.defaultOptions.lang.invalidDate||"";e=t.pick(e,"%Y-%m-%d %H:%M:%S");var r,o=t.Date,s=new o(i-t.getTZOffset(i)),a=s[o.hcGetHours](),l=s[o.hcGetDay](),u=s[o.hcGetDate](),c=s[o.hcGetMonth](),h=s[o.hcGetFullYear](),d=t.defaultOptions.lang,p=d.weekdays,f=d.shortWeekdays,g=t.pad,m=t.extend({a:f?f[l]:p[l].substr(0,3),A:p[l],d:g(u),e:g(u,2," "),w:l,b:d.shortMonths[c],B:d.months[c],m:g(c+1),y:h.toString().substr(2,2),Y:h,H:g(a),k:a,I:g(a%12||12),l:a%12||12,M:g(s[o.hcGetMinutes]()),p:a<12?"AM":"PM",P:a<12?"am":"pm",S:g(s.getSeconds()),L:g(Math.round(i%1e3),3)},t.dateFormats);for(r in m)for(;-1!==e.indexOf("%"+r);)e=e.replace("%"+r,"function"==typeof m[r]?m[r](i):m[r]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},t.formatSingle=function(e,i){var n,r=/f$/,o=/\.([0-9])/,s=t.defaultOptions.lang;return r.test(e)?(n=e.match(o),n=n?n[1]:-1,null!==i&&(i=t.numberFormat(i,n,s.decimalPoint,e.indexOf(",")>-1?s.thousandsSep:""))):i=t.dateFormat(e,i),i},t.format=function(e,i){for(var n,r,o,s,a,l,u,c="{",h=!1,d=[];e&&-1!==(u=e.indexOf(c));){if(n=e.slice(0,u),h){for(r=n.split(":"),o=r.shift().split("."),a=o.length,l=i,s=0;s<a;s++)l=l[o[s]];r.length&&(l=t.formatSingle(r.join(":"),l)),d.push(l)}else d.push(n);e=e.slice(u+1),h=!h,c=h?"}":"{"}return d.push(e),d.join("")},t.getMagnitude=function(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))},t.normalizeTickInterval=function(e,i,n,r,o){var s,a,l=e;for(n=t.pick(n,1),s=e/n,i||(i=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===r&&(1===n?i=t.grep(i,function(t){return t%1==0}):n<=.1&&(i=[1/n]))),a=0;a<i.length&&(l=i[a],!(o&&l*n>=e||!o&&s<=(i[a]+(i[a+1]||i[a]))/2));a++);return l*=n},t.stableSort=function(t,e){var i,n,r=t.length;for(n=0;n<r;n++)t[n].safeI=n;for(t.sort(function(t,n){return i=e(t,n),0===i?t.safeI-n.safeI:i}),n=0;n<r;n++)delete t[n].safeI},t.arrayMin=function(t){for(var e=t.length,i=t[0];e--;)t[e]<i&&(i=t[e]);return i},t.arrayMax=function(t){for(var e=t.length,i=t[0];e--;)t[e]>i&&(i=t[e]);return i},t.destroyObjectProperties=function(t,e){var i;for(i in t)t[i]&&t[i]!==e&&t[i].destroy&&t[i].destroy(),delete t[i]},t.discardElement=function(e){var i=t.garbageBin;i||(i=t.createElement("div")),e&&i.appendChild(e),i.innerHTML=""},t.correctFloat=function(t,e){return parseFloat(t.toPrecision(e||14))},t.setAnimation=function(e,i){i.renderer.globalAnimation=t.pick(e,i.options.chart.animation,!0)},t.animObject=function(e){return t.isObject(e)?t.merge(e):{duration:e?500:0}},t.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},t.numberFormat=function(e,i,n,r){e=+e||0,i=+i;var o,s,a,l,u=t.defaultOptions.lang,c=(e.toString().split(".")[1]||"").length,h=Math.abs(e);return-1===i?i=Math.min(c,20):t.isNumber(i)||(i=2),s=String(t.pInt(h.toFixed(i))),a=s.length>3?s.length%3:0,n=t.pick(n,u.decimalPoint),r=t.pick(r,u.thousandsSep),l=e<0?"-":"",l+=a?s.substr(0,a)+r:"",l+=s.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+r),i&&(o=Math.abs(h-s+Math.pow(10,-Math.max(i,c)-1)),l+=n+o.toFixed(i).slice(2)),l},Math.easeInOutSine=function(t){return-.5*(Math.cos(Math.PI*t)-1)},t.getStyle=function(e,i){var n;return"width"===i?Math.min(e.offsetWidth,e.scrollWidth)-t.getStyle(e,"padding-left")-t.getStyle(e,"padding-right"):"height"===i?Math.min(e.offsetHeight,e.scrollHeight)-t.getStyle(e,"padding-top")-t.getStyle(e,"padding-bottom"):(n=r.getComputedStyle(e,void 0))&&t.pInt(n.getPropertyValue(i))},t.inArray=function(t,e){return e.indexOf?e.indexOf(t):[].indexOf.call(e,t)},t.grep=function(t,e){return[].filter.call(t,e)},t.find=function(t,e){return[].find.call(t,e)},t.map=function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)i[n]=e.call(t[n],t[n],n,t);return i},t.offset=function(t){var e=n.documentElement,i=t.getBoundingClientRect();return{top:i.top+(r.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(r.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}},t.stop=function(t,i){for(var n=e.length;n--;)e[n].elem!==t||i&&i!==e[n].prop||(e[n].stopped=!0)},t.each=function(t,e,i){return Array.prototype.forEach.call(t,e,i)},t.addEvent=function(e,i,n){function o(t){t.target=t.srcElement||r,n.call(e,t)}var s=e.hcEvents=e.hcEvents||{};return e.addEventListener?e.addEventListener(i,n,!1):e.attachEvent&&(e.hcEventsIE||(e.hcEventsIE={}),e.hcEventsIE[n.toString()]=o,e.attachEvent("on"+i,o)),s[i]||(s[i]=[]),s[i].push(n),function(){t.removeEvent(e,i,n)}},t.removeEvent=function(e,i,n){function r(t,i){e.removeEventListener?e.removeEventListener(t,i,!1):e.attachEvent&&(i=e.hcEventsIE[i.toString()],e.detachEvent("on"+t,i))}function o(){var t,n,o;if(e.nodeName){i?(t={},t[i]=!0):t=l;for(o in t)if(l[o])for(n=l[o].length;n--;)r(o,l[o][n])}}var s,a,l=e.hcEvents;l&&(i?(s=l[i]||[],n?(a=t.inArray(n,s),a>-1&&(s.splice(a,1),l[i]=s),r(i,n)):(o(),l[i]=[])):(o(),e.hcEvents={}))},t.fireEvent=function(e,i,r,o){var s,a,l,u,c,h=e.hcEvents;if(r=r||{},n.createEvent&&(e.dispatchEvent||e.fireEvent))s=n.createEvent("Events"),s.initEvent(i,!0,!0),t.extend(s,r),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(i,s);else if(h)for(a=h[i]||[],l=a.length,r.target||t.extend(r,{preventDefault:function(){r.defaultPrevented=!0},target:e,type:i}),u=0;u<l;u++)(c=a[u])&&!1===c.call(e,r)&&r.preventDefault();o&&!r.defaultPrevented&&o(r)},t.animate=function(e,i,n){var r,o,s,a,l,u="";t.isObject(n)||(a=arguments,n={duration:a[2],easing:a[3],complete:a[4]}),t.isNumber(n.duration)||(n.duration=400),n.easing="function"==typeof n.easing?n.easing:Math[n.easing]||Math.easeInOutSine,n.curAnim=t.merge(i);for(l in i)t.stop(e,l),s=new t.Fx(e,n,l),o=null,"d"===l?(s.paths=s.initPath(e,e.d,i.d),s.toD=i.d,r=0,o=1):e.attr?r=e.attr(l):(r=parseFloat(t.getStyle(e,l))||0,"opacity"!==l&&(u="px")),o||(o=i[l]),o.match&&o.match("px")&&(o=o.replace(/px/g,"")),s.run(r,o,u)},t.seriesType=function(e,i,n,r,o){var s=t.getOptions(),a=t.seriesTypes;return s.plotOptions[e]=t.merge(s.plotOptions[i],n),a[e]=t.extendClass(a[i]||function(){},r),a[e].prototype.type=e,o&&(a[e].prototype.pointClass=t.extendClass(t.Point,o)),a[e]},t.uniqueKey=function(){var t=Math.random().toString(36).substring(2,9),e=0;return function(){return"highcharts-"+t+"-"+e++}}(),r.jQuery&&(r.jQuery.fn.highcharts=function(){var e=[].slice.call(arguments);if(this[0])return e[0]?(new(t[t.isString(e[0])?e.shift():"Chart"])(this[0],e[0],e[1]),this):i[t.attr(this[0],"data-highcharts-chart")]}),n&&!n.defaultView&&(t.getStyle=function(e,i){var n,r={width:"clientWidth",height:"clientHeight"}[i];return e.style[i]?t.pInt(e.style[i]):("opacity"===i&&(i="filter"),r?(e.style.zoom=1,Math.max(e[r]-2*t.getStyle(e,"padding"),0)):(n=e.currentStyle[i.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()})],"filter"===i&&(n=n.replace(/alpha\(opacity=([0-9]+)\)/,function(t,e){return e/100})),""===n?1:t.pInt(n)))}),Array.prototype.forEach||(t.each=function(t,e,i){for(var n=0,r=t.length;n<r;n++)if(!1===e.call(i,t[n],n,t))return n}),Array.prototype.indexOf||(t.inArray=function(t,e){var i,n=0;if(e)for(i=e.length;n<i;n++)if(e[n]===t)return n;return-1}),Array.prototype.filter||(t.grep=function(t,e){for(var i=[],n=0,r=t.length;n<r;n++)e(t[n],n)&&i.push(t[n]);return i}),Array.prototype.find||(t.find=function(t,e){var i,n=t.length;for(i=0;i<n;i++)if(e(t[i],i))return t[i]})}(e),function(t){"use strict";var e=t.each,i=t.isNumber,n=t.map,r=t.merge,o=t.pInt;t.Color=function(e){if(!(this instanceof t.Color))return new t.Color(e);this.init(e)},t.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),parseFloat(t[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(t){return[o(t[1],16),o(t[2],16),o(t[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(t){return[o(t[1]),o(t[2]),o(t[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(e){var i,r,o,s;if(this.input=e=this.names[e]||e,e&&e.stops)this.stops=n(e.stops,function(e){return new t.Color(e[1])});else for(o=this.parsers.length;o--&&!r;)s=this.parsers[o],(i=s.regex.exec(e))&&(r=s.parse(i));this.rgba=r||[]},get:function(t){var n,o=this.input,s=this.rgba;return this.stops?(n=r(o),n.stops=[].concat(n.stops),e(this.stops,function(e,i){n.stops[i]=[n.stops[i][0],e.get(t)]})):n=s&&i(s[0])?"rgb"===t||!t&&1===s[3]?"rgb("+s[0]+","+s[1]+","+s[2]+")":"a"===t?s[3]:"rgba("+s.join(",")+")":o,n},brighten:function(t){var n,r=this.rgba;if(this.stops)e(this.stops,function(e){e.brighten(t)});else if(i(t)&&0!==t)for(n=0;n<3;n++)r[n]+=o(255*t),r[n]<0&&(r[n]=0),r[n]>255&&(r[n]=255);return this},setOpacity:function(t){return this.rgba[3]=t,this}},t.color=function(e){return new t.Color(e)}}(e),function(t){"use strict";var e,i,n=t.addEvent,r=t.animate,o=t.attr,s=t.charts,a=t.color,l=t.css,u=t.createElement,c=t.defined,h=t.deg2rad,d=t.destroyObjectProperties,p=t.doc,f=t.each,g=t.extend,m=t.erase,v=t.grep,y=t.hasTouch,b=t.isArray,x=t.isFirefox,w=t.isMS,S=t.isObject,k=t.isString,C=t.isWebKit,T=t.merge,A=t.noop,_=t.pick,M=t.pInt,E=t.removeEvent,P=(t.splat,t.stop),L=t.svg,R=t.SVG_NS,j=t.symbolSizes,I=t.win;e=t.SVGElement=function(){return this},e.prototype={opacity:1,SVG_NS:R,textProps:["direction","fontSize","fontWeight","fontFamily","fontStyle","color","lineHeight","width","textDecoration","textOverflow","textOutline"],init:function(t,e){this.element="span"===e?u(e):p.createElementNS(this.SVG_NS,e),this.renderer=t},animate:function(e,i,n){var o=t.animObject(_(i,this.renderer.globalAnimation,!0));return 0!==o.duration?(n&&(o.complete=n),r(this,e,o)):this.attr(e,null,n),this},colorGradient:function(e,i,n){var r,o,s,a,l,u,h,d,p,g,m,v,y,x=this.renderer,w=[];if(e.linearGradient?o="linearGradient":e.radialGradient&&(o="radialGradient"),o){s=e[o],l=x.gradients,h=e.stops,g=n.radialReference,b(s)&&(e[o]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===o&&g&&!c(s.gradientUnits)&&(a=s,s=T(s,x.getRadialAttr(g,a),{gradientUnits:"userSpaceOnUse"}));for(m in s)"id"!==m&&w.push(m,s[m]);for(m in h)w.push(h[m]);w=w.join(","),l[w]?v=l[w].attr("id"):(s.id=v=t.uniqueKey(),l[w]=u=x.createElement(o).attr(s).add(x.defs),u.radAttr=a,u.stops=[],f(h,function(e){var i;0===e[1].indexOf("rgba")?(r=t.color(e[1]),d=r.get("rgb"),p=r.get("a")):(d=e[1],p=1),i=x.createElement("stop").attr({offset:e[0],"stop-color":d,"stop-opacity":p}).add(u),u.stops.push(i)})),y="url("+x.url+"#"+v+")",n.setAttribute(i,y),n.gradient=w,e.toString=function(){return y}}},applyTextOutline:function(t){var e,i,n,r,s=this.element,a=-1!==t.indexOf("contrast"),l={};a&&(l.textOutline=t=t.replace(/contrast/g,this.renderer.getContrast(s.style.fill))),this.fakeTS=!0,this.ySetter=this.xSetter,e=[].slice.call(s.getElementsByTagName("tspan")),t=t.split(" "),i=t[t.length-1],(n=t[0])&&"none"!==n&&(n=n.replace(/(^[\d\.]+)(.*?)$/g,function(t,e,i){return 2*e+i}),f(e,function(t){"highcharts-text-outline"===t.getAttribute("class")&&m(e,s.removeChild(t))}),r=s.firstChild,f(e,function(t,e){var a;0===e&&(t.setAttribute("x",s.getAttribute("x")),e=s.getAttribute("y"),t.setAttribute("y",e||0),null===e&&s.setAttribute("y",0)),a=t.cloneNode(1),o(a,{class:"highcharts-text-outline",fill:i,stroke:i,"stroke-width":n,"stroke-linejoin":"round"}),s.insertBefore(a,r)}))},attr:function(t,e,i,n){var r,o,s,a,l,u=this.element,c=this;if("string"==typeof t&&void 0!==e&&(r=t,t={},t[r]=e),"string"==typeof t)c=(this[t+"Getter"]||this._defaultGetter).call(this,t,u);else{for(r in t)o=t[r],a=!1,n||P(this,r),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(s||(this.symbolAttr(t),s=!0),a=!0),!this.rotation||"x"!==r&&"y"!==r||(this.doTransform=!0),a||(l=this[r+"Setter"]||this._defaultSetter,l.call(this,o,r,u),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,o,l));this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return i&&i(),c},updateShadows:function(t,e,i){for(var n=this.shadows,r=n.length;r--;)i.call(n[r],"height"===t?Math.max(e-(n[r].cutHeight||0),0):"d"===t?this.d:e,t,n[r])},addClass:function(t,e){var i=this.attr("class")||"";return-1===i.indexOf(t)&&(e||(t=(i+(i?" ":"")+t).replace("  "," ")),this.attr("class",t)),this},hasClass:function(t){return-1!==o(this.element,"class").indexOf(t)},removeClass:function(t){return o(this.element,"class",(o(this.element,"class")||"").replace(t,"")),this},symbolAttr:function(t){var e=this;f(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(i){e[i]=_(t[i],e[i])}),e.attr({d:e.renderer.symbols[e.symbolName](e.x,e.y,e.width,e.height,e)})},clip:function(t){return this.attr("clip-path",t?"url("+this.renderer.url+"#"+t.id+")":"none")},crisp:function(t,e){var i,n,r=this,o={};e=e||t.strokeWidth||0,n=Math.round(e)%2/2,t.x=Math.floor(t.x||r.x||0)+n,t.y=Math.floor(t.y||r.y||0)+n,t.width=Math.floor((t.width||r.width||0)-2*n),t.height=Math.floor((t.height||r.height||0)-2*n),c(t.strokeWidth)&&(t.strokeWidth=e);for(i in t)r[i]!==t[i]&&(r[i]=o[i]=t[i]);return o},css:function(t){var e,i,n,r=this,s=r.styles,a={},u=r.element,c="",h=!s;if(t&&t.color&&(t.fill=t.color),s)for(i in t)t[i]!==s[i]&&(a[i]=t[i],h=!0);if(h){if(e=r.textWidth=t&&t.width&&"text"===u.nodeName.toLowerCase()&&M(t.width)||r.textWidth,s&&(t=g(s,a)),r.styles=t,e&&!L&&r.renderer.forExport&&delete t.width,w&&!L)l(r.element,t);else{n=function(t,e){return"-"+e.toLowerCase()};for(i in t)c+=i.replace(/([A-Z])/g,n)+":"+t[i]+";";o(u,"style",c)}r.added&&(e&&r.renderer.buildText(r),t&&t.textOutline&&r.applyTextOutline(t.textOutline))}return r},strokeWidth:function(){return this["stroke-width"]||0},on:function(t,e){var i=this,n=i.element;return y&&"click"===t?(n.ontouchstart=function(t){i.touchEventFired=Date.now(),t.preventDefault(),e.call(n,t)},n.onclick=function(t){(-1===I.navigator.userAgent.indexOf("Android")||Date.now()-(i.touchEventFired||0)>1100)&&e.call(n,t)}):n["on"+t]=e,this},setRadialReference:function(t){
var e=this.renderer.gradients[this.element.gradient];return this.element.radialReference=t,e&&e.radAttr&&e.animate(this.renderer.getRadialAttr(t,e.radAttr)),this},translate:function(t,e){return this.attr({translateX:t,translateY:e})},invert:function(t){var e=this;return e.inverted=t,e.updateTransform(),e},updateTransform:function(){var t,e=this,i=e.translateX||0,n=e.translateY||0,r=e.scaleX,o=e.scaleY,s=e.inverted,a=e.rotation,l=e.element;s&&(i+=e.attr("width"),n+=e.attr("height")),t=["translate("+i+","+n+")"],s?t.push("rotate(90) scale(-1,1)"):a&&t.push("rotate("+a+" "+(l.getAttribute("x")||0)+" "+(l.getAttribute("y")||0)+")"),(c(r)||c(o))&&t.push("scale("+_(r,1)+" "+_(o,1)+")"),t.length&&l.setAttribute("transform",t.join(" "))},toFront:function(){var t=this.element;return t.parentNode.appendChild(t),this},align:function(t,e,i){var n,r,o,s,a,l,u,c={},h=this.renderer,d=h.alignedObjects;return t?(this.alignOptions=t,this.alignByTranslate=e,i&&!k(i)||(this.alignTo=a=i||"renderer",m(d,this),d.push(this),i=null)):(t=this.alignOptions,e=this.alignByTranslate,a=this.alignTo),i=_(i,h[a],h),n=t.align,r=t.verticalAlign,o=(i.x||0)+(t.x||0),s=(i.y||0)+(t.y||0),"right"===n?l=1:"center"===n&&(l=2),l&&(o+=(i.width-(t.width||0))/l),c[e?"translateX":"x"]=Math.round(o),"bottom"===r?u=1:"middle"===r&&(u=2),u&&(s+=(i.height-(t.height||0))/u),c[e?"translateY":"y"]=Math.round(s),this[this.placed?"animate":"attr"](c),this.placed=!0,this.alignAttr=c,this},getBBox:function(t,e){var i,n,r,o,s,a,l,u,c=this,d=c.renderer,p=c.element,m=c.styles,v=c.textStr,y=d.cache,b=d.cacheKeys;if(o=_(e,c.rotation),s=o*h,a=m&&m.fontSize,void 0!==v&&(u=v.toString(),-1===u.indexOf("<")&&(u=u.replace(/[0-9]/g,"0")),u+=["",o||0,a,p.style.width,p.style["text-overflow"]].join(",")),u&&!t&&(i=y[u]),!i){if(p.namespaceURI===c.SVG_NS||d.forExport){try{l=this.fakeTS&&function(t){f(p.querySelectorAll(".highcharts-text-outline"),function(e){e.style.display=t})},l&&l("none"),i=p.getBBox?g({},p.getBBox()):{width:p.offsetWidth,height:p.offsetHeight},l&&l("")}catch(t){}(!i||i.width<0)&&(i={width:0,height:0})}else i=c.htmlGetBBox();if(d.isSVG&&(n=i.width,r=i.height,w&&m&&"11px"===m.fontSize&&"16.9"===r.toPrecision(3)&&(i.height=r=14),o&&(i.width=Math.abs(r*Math.sin(s))+Math.abs(n*Math.cos(s)),i.height=Math.abs(r*Math.cos(s))+Math.abs(n*Math.sin(s)))),u&&i.height>0){for(;b.length>250;)delete y[b.shift()];y[u]||b.push(u),y[u]=i}}return i},show:function(t){return this.attr({visibility:t?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(t){var e=this;e.animate({opacity:0},{duration:t||150,complete:function(){e.attr({y:-9999})}})},add:function(t){var e,i=this.renderer,n=this.element;return t&&(this.parentGroup=t),this.parentInverted=t&&t.inverted,void 0!==this.textStr&&i.buildText(this),this.added=!0,(!t||t.handleZ||this.zIndex)&&(e=this.zIndexSetter()),e||(t?t.element:i.box).appendChild(n),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(t){var e=t.parentNode;e&&e.removeChild(t)},destroy:function(){var t,e,i,n=this,r=n.element||{},o=n.renderer.isSVG&&"SPAN"===r.nodeName&&n.parentGroup;if(r.onclick=r.onmouseout=r.onmouseover=r.onmousemove=r.point=null,P(n),n.clipPath&&(n.clipPath=n.clipPath.destroy()),n.stops){for(i=0;i<n.stops.length;i++)n.stops[i]=n.stops[i].destroy();n.stops=null}for(n.safeRemoveChild(r),n.destroyShadows();o&&o.div&&0===o.div.childNodes.length;)t=o.parentGroup,n.safeRemoveChild(o.div),delete o.div,o=t;n.alignTo&&m(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(t,e,i){var n,r,s,a,l,u,c=[],h=this.element;if(t){if(!this.shadows){for(a=_(t.width,3),l=(t.opacity||.15)/a,u=this.parentInverted?"(-1,-1)":"("+_(t.offsetX,1)+", "+_(t.offsetY,1)+")",n=1;n<=a;n++)r=h.cloneNode(0),s=2*a+1-2*n,o(r,{isShadow:"true",stroke:t.color||"#000000","stroke-opacity":l*n,"stroke-width":s,transform:"translate"+u,fill:"none"}),i&&(o(r,"height",Math.max(o(r,"height")-s,0)),r.cutHeight=s),e?e.element.appendChild(r):h.parentNode.insertBefore(r,h),c.push(r);this.shadows=c}}else this.destroyShadows();return this},destroyShadows:function(){f(this.shadows||[],function(t){this.safeRemoveChild(t)},this),this.shadows=void 0},xGetter:function(t){return"circle"===this.element.nodeName&&("x"===t?t="cx":"y"===t&&(t="cy")),this._defaultGetter(t)},_defaultGetter:function(t){var e=_(this[t],this.element?this.element.getAttribute(t):null,0);return/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(t,e,i){t&&t.join&&(t=t.join(" ")),/(NaN| {2}|^$)/.test(t)&&(t="M 0 0"),i.setAttribute(e,t),this[e]=t},dashstyleSetter:function(t){var e,i=this["stroke-width"];if("inherit"===i&&(i=1),t=t&&t.toLowerCase()){for(t=t.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),e=t.length;e--;)t[e]=M(t[e])*i;t=t.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",t)}},alignSetter:function(t){var e={left:"start",center:"middle",right:"end"};this.element.setAttribute("text-anchor",e[t])},opacitySetter:function(t,e,i){this[e]=t,i.setAttribute(e,t)},titleSetter:function(t){var e=this.element.getElementsByTagName("title")[0];e||(e=p.createElementNS(this.SVG_NS,"title"),this.element.appendChild(e)),e.firstChild&&e.removeChild(e.firstChild),e.appendChild(p.createTextNode(String(_(t),"").replace(/<[^>]*>/g,"")))},textSetter:function(t){t!==this.textStr&&(delete this.bBox,this.textStr=t,this.added&&this.renderer.buildText(this))},fillSetter:function(t,e,i){"string"==typeof t?i.setAttribute(e,t):t&&this.colorGradient(t,e,i)},visibilitySetter:function(t,e,i){"inherit"===t?i.removeAttribute(e):i.setAttribute(e,t)},zIndexSetter:function(t,e){var i,n,r,o,s,a=this.renderer,l=this.parentGroup,u=l||a,h=u.element||a.box,d=this.element,p=this.added;if(c(t)&&(d.zIndex=t,t=+t,this[e]===t&&(p=!1),this[e]=t),p){for(t=this.zIndex,t&&l&&(l.handleZ=!0),i=h.childNodes,s=0;s<i.length&&!o;s++)n=i[s],r=n.zIndex,n!==d&&(M(r)>t||!c(t)&&c(r)||t<0&&!c(r)&&h!==a.box)&&(h.insertBefore(d,n),o=!0);o||h.appendChild(d)}return o},_defaultSetter:function(t,e,i){i.setAttribute(e,t)}},e.prototype.yGetter=e.prototype.xGetter,e.prototype.translateXSetter=e.prototype.translateYSetter=e.prototype.rotationSetter=e.prototype.verticalAlignSetter=e.prototype.scaleXSetter=e.prototype.scaleYSetter=function(t,e){this[e]=t,this.doTransform=!0},e.prototype["stroke-widthSetter"]=e.prototype.strokeSetter=function(t,i,n){this[i]=t,this.stroke&&this["stroke-width"]?(e.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===i&&0===t&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)},i=t.SVGRenderer=function(){this.init.apply(this,arguments)},i.prototype={Element:e,SVG_NS:R,init:function(t,e,i,r,s,a){var u,c,h,d=this;u=d.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(r)),c=u.element,t.appendChild(c),-1===t.innerHTML.indexOf("xmlns")&&o(c,"xmlns",this.SVG_NS),d.isSVG=!0,this.box=c,this.boxWrapper=u,d.alignedObjects=[],this.url=(x||C)&&p.getElementsByTagName("base").length?I.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",h=this.createElement("desc").add(),h.element.appendChild(p.createTextNode("Created with Highcharts 5.0.6")),d.defs=this.createElement("defs").add(),d.allowHTML=a,d.forExport=s,d.gradients={},d.cache={},d.cacheKeys=[],d.imgCount=0,d.setSize(e,i,!1);var f,g;x&&t.getBoundingClientRect&&(f=function(){l(t,{left:0,top:0}),g=t.getBoundingClientRect(),l(t,{left:Math.ceil(g.left)-g.left+"px",top:Math.ceil(g.top)-g.top+"px"})},f(),d.unSubPixelFix=n(I,"resize",f))},getStyle:function(t){return this.style=g({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t),this.style},setStyle:function(t){this.boxWrapper.css(this.getStyle(t))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var t=this,e=t.defs;return t.box=null,t.boxWrapper=t.boxWrapper.destroy(),d(t.gradients||{}),t.gradients=null,e&&(t.defs=e.destroy()),t.unSubPixelFix&&t.unSubPixelFix(),t.alignedObjects=null,null},createElement:function(t){var e=new this.Element;return e.init(this,t),e},draw:A,getRadialAttr:function(t,e){return{cx:t[0]-t[2]/2+e.cx*t[2],cy:t[1]-t[2]/2+e.cy*t[2],r:e.r*t[2]}},buildText:function(t){for(var e,i,n,r,s,a=t.element,u=this,c=u.forExport,h=_(t.textStr,"").toString(),d=-1!==h.indexOf("<"),g=a.childNodes,m=o(a,"x"),y=t.styles,b=t.textWidth,x=y&&y.lineHeight,w=y&&y.textOutline,S=y&&"ellipsis"===y.textOverflow,k=g.length,C=b&&!t.added&&this.box,T=function(t){var e;return e=/(px|em)$/.test(t&&t.style.fontSize)?t.style.fontSize:y&&y.fontSize||u.style.fontSize||12,x?M(x):u.fontMetrics(e,t.getAttribute("style")?t:a).h},A=function(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">")};k--;)a.removeChild(g[k]);d||w||S||b||-1!==h.indexOf(" ")?(i=/<.*class="([^"]+)".*>/,n=/<.*style="([^"]+)".*>/,r=/<.*href="(http[^"]+)".*>/,C&&C.appendChild(a),e=d?h.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[h],e=v(e,function(t){return""!==t}),f(e,function(e,h){var d,g=0;e=e.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),d=e.split("|||"),f(d,function(e){if(""!==e||1===d.length){var f,v,x={},w=p.createElementNS(u.SVG_NS,"tspan");if(i.test(e)&&(f=e.match(i)[1],o(w,"class",f)),n.test(e)&&(v=e.match(n)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),o(w,"style",v)),r.test(e)&&!c&&(o(w,"onclick",'location.href="'+e.match(r)[1]+'"'),l(w,{cursor:"pointer"}))," "!==(e=A(e.replace(/<(.|\n)*?>/g,"")||" "))){if(w.appendChild(p.createTextNode(e)),g?x.dx=0:h&&null!==m&&(x.x=m),o(w,x),a.appendChild(w),!g&&h&&(!L&&c&&l(w,{display:"block"}),o(w,"dy",T(w))),b){for(var k,C,_,M=e.replace(/([^\^])-/g,"$1- ").split(" "),E="nowrap"===y.whiteSpace,P=d.length>1||h||M.length>1&&!E,j=[],I=T(w),D=t.rotation,O=e,N=O.length;(P||S)&&(M.length||j.length);)t.rotation=0,_=t.getBBox(!0),C=_.width,!L&&u.forExport&&(C=u.measureSpanWidth(w.firstChild.data,t.styles)),k=C>b,void 0===s&&(s=k),S&&s?(N/=2,""===O||!k&&N<.5?M=[]:(O=e.substring(0,O.length+(k?-1:1)*Math.ceil(N)),M=[O+(b>3?"…":"")],w.removeChild(w.firstChild))):k&&1!==M.length?(w.removeChild(w.firstChild),j.unshift(M.pop())):(M=j,j=[],M.length&&!E&&(w=p.createElementNS(R,"tspan"),o(w,{dy:I,x:m}),v&&o(w,"style",v),a.appendChild(w)),C>b&&(b=C)),M.length&&w.appendChild(p.createTextNode(M.join(" ").replace(/- /g,"-")));t.rotation=D}g++}}})}),s&&t.attr("title",t.textStr),C&&C.removeChild(a),w&&t.applyTextOutline&&t.applyTextOutline(w)):a.appendChild(p.createTextNode(A(h)))},getContrast:function(t){return t=a(t).rgba,t[0]+t[1]+t[2]>510?"#000000":"#FFFFFF"},button:function(t,e,i,r,o,s,a,l,u){var c=this.label(t,e,i,u,null,null,null,null,"button"),h=0;c.attr(T({padding:8,r:2},o));var d,p,f,m;return o=T({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},o),d=o.style,delete o.style,s=T(o,{fill:"#e6e6e6"},s),p=s.style,delete s.style,a=T(o,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},a),f=a.style,delete a.style,l=T(o,{style:{color:"#cccccc"}},l),m=l.style,delete l.style,n(c.element,w?"mouseover":"mouseenter",function(){3!==h&&c.setState(1)}),n(c.element,w?"mouseout":"mouseleave",function(){3!==h&&c.setState(h)}),c.setState=function(t){1!==t&&(c.state=h=t),c.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][t||0]),c.attr([o,s,a,l][t||0]).css([d,p,f,m][t||0])},c.attr(o).css(g({cursor:"default"},d)),c.on("click",function(t){3!==h&&r.call(c,t)})},crispLine:function(t,e){return t[1]===t[4]&&(t[1]=t[4]=Math.round(t[1])-e%2/2),t[2]===t[5]&&(t[2]=t[5]=Math.round(t[2])+e%2/2),t},path:function(t){var e={fill:"none"};return b(t)?e.d=t:S(t)&&g(e,t),this.createElement("path").attr(e)},circle:function(t,e,i){var n=S(t)?t:{x:t,y:e,r:i},r=this.createElement("circle");return r.xSetter=r.ySetter=function(t,e,i){i.setAttribute("c"+e,t)},r.attr(n)},arc:function(t,e,i,n,r,o){var s;return S(t)&&(e=t.y,i=t.r,n=t.innerR,r=t.start,o=t.end,t=t.x),s=this.symbol("arc",t||0,e||0,i||0,i||0,{innerR:n||0,start:r||0,end:o||0}),s.r=i,s},rect:function(t,e,i,n,r,s){r=S(t)?t.r:r;var a=this.createElement("rect"),l=S(t)?t:void 0===t?{}:{x:t,y:e,width:Math.max(i,0),height:Math.max(n,0)};return void 0!==s&&(l.strokeWidth=s,l=a.crisp(l)),l.fill="none",r&&(l.r=r),a.rSetter=function(t,e,i){o(i,{rx:t,ry:t})},a.attr(l)},setSize:function(t,e,i){var n=this,r=n.alignedObjects,o=r.length;for(n.width=t,n.height=e,n.boxWrapper.animate({width:t,height:e},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:_(i,!0)?void 0:0});o--;)r[o].align()},g:function(t){var e=this.createElement("g");return t?e.attr({class:"highcharts-"+t}):e},image:function(t,e,i,n,r){var o,s={preserveAspectRatio:"none"};return arguments.length>1&&g(s,{x:e,y:i,width:n,height:r}),o=this.createElement("image").attr(s),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t),o},symbol:function(t,e,i,n,r,o){var a,h,d,m=this,v=this.symbols[t],y=c(e)&&v&&v(Math.round(e),Math.round(i),n,r,o),b=/^url\((.*?)\)$/;return v?(a=this.path(y),a.attr("fill","none"),g(a,{symbolName:t,x:e,y:i,width:n,height:r}),o&&g(a,o)):b.test(t)&&(h=t.match(b)[1],a=this.image(h),a.imgwidth=_(j[h]&&j[h].width,o&&o.width),a.imgheight=_(j[h]&&j[h].height,o&&o.height),d=function(){a.attr({width:a.width,height:a.height})},f(["width","height"],function(t){a[t+"Setter"]=function(t,e){var i={},n=this["img"+e],r="width"===e?"translateX":"translateY";this[e]=t,c(n)&&(this.element&&this.element.setAttribute(e,n),this.alignByTranslate||(i[r]=((this[e]||0)-n)/2,this.attr(i)))}}),c(e)&&a.attr({x:e,y:i}),a.isImg=!0,c(a.imgwidth)&&c(a.imgheight)?d():(a.attr({width:0,height:0}),u("img",{onload:function(){var t=s[m.chartIndex];0===this.width&&(l(this,{position:"absolute",top:"-999em"}),p.body.appendChild(this)),j[h]={width:this.width,height:this.height},a.imgwidth=this.width,a.imgheight=this.height,a.element&&d(),this.parentNode&&this.parentNode.removeChild(this),!--m.imgCount&&t&&t.onload&&t.onload()},src:h}),this.imgCount++)),a},symbols:{circle:function(t,e,i,n){var r=.166*i;return["M",t+i/2,e,"C",t+i+r,e,t+i+r,e+n,t+i/2,e+n,"C",t-r,e+n,t-r,e,t+i/2,e,"Z"]},square:function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i,e+n,t,e+n,"Z"]},triangle:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n,t,e+n,"Z"]},"triangle-down":function(t,e,i,n){return["M",t,e,"L",t+i,e,t+i/2,e+n,"Z"]},diamond:function(t,e,i,n){return["M",t+i/2,e,"L",t+i,e+n/2,t+i/2,e+n,t,e+n/2,"Z"]},arc:function(t,e,i,n,r){var o=r.start,s=r.r||i||n,a=r.end-.001,l=r.innerR,u=r.open,c=Math.cos(o),h=Math.sin(o),d=Math.cos(a),p=Math.sin(a),f=r.end-o<Math.PI?0:1;return["M",t+s*c,e+s*h,"A",s,s,0,f,1,t+s*d,e+s*p,u?"M":"L",t+l*d,e+l*p,"A",l,l,0,f,0,t+l*c,e+l*h,u?"":"Z"]},callout:function(t,e,i,n,r){var o,s=Math.min(r&&r.r||0,i,n),a=s+6,l=r&&r.anchorX,u=r&&r.anchorY;return o=["M",t+s,e,"L",t+i-s,e,"C",t+i,e,t+i,e,t+i,e+s,"L",t+i,e+n-s,"C",t+i,e+n,t+i,e+n,t+i-s,e+n,"L",t+s,e+n,"C",t,e+n,t,e+n,t,e+n-s,"L",t,e+s,"C",t,e,t,e,t+s,e],l&&l>i?u>e+a&&u<e+n-a?o.splice(13,3,"L",t+i,u-6,t+i+6,u,t+i,u+6,t+i,e+n-s):o.splice(13,3,"L",t+i,n/2,l,u,t+i,n/2,t+i,e+n-s):l&&l<0?u>e+a&&u<e+n-a?o.splice(33,3,"L",t,u+6,t-6,u,t,u-6,t,e+s):o.splice(33,3,"L",t,n/2,l,u,t,n/2,t,e+s):u&&u>n&&l>t+a&&l<t+i-a?o.splice(23,3,"L",l+6,e+n,l,e+n+6,l-6,e+n,t+s,e+n):u&&u<0&&l>t+a&&l<t+i-a&&o.splice(3,3,"L",l-6,e,l,e-6,l+6,e,i-s,e),o}},clipRect:function(e,i,n,r){var o,s=t.uniqueKey(),a=this.createElement("clipPath").attr({id:s}).add(this.defs);return o=this.rect(e,i,n,r,0).add(a),o.id=s,o.clipPath=a,o.count=0,o},text:function(t,e,i,n){var r,o=this,s=!L&&o.forExport,a={};return!n||!o.allowHTML&&o.forExport?(a.x=Math.round(e||0),i&&(a.y=Math.round(i)),(t||0===t)&&(a.text=t),r=o.createElement("text").attr(a),s&&r.css({position:"absolute"}),n||(r.xSetter=function(t,e,i){var n,r,o=i.getElementsByTagName("tspan"),s=i.getAttribute(e);for(r=0;r<o.length;r++)n=o[r],n.getAttribute(e)===s&&n.setAttribute(e,t);i.setAttribute(e,t)}),r):o.html(t,e,i)},fontMetrics:function(t,e){var i,n;return t=t||e&&e.style&&e.style.fontSize||this.style&&this.style.fontSize,t=/px/.test(t)?M(t):/em/.test(t)?parseFloat(t)*(e?this.fontMetrics(null,e.parentNode).f:16):12,i=t<24?t+3:Math.round(1.2*t),n=Math.round(.8*i),{h:i,b:n,f:t}},rotCorr:function(t,e,i){var n=t;return e&&i&&(n=Math.max(n*Math.cos(e*h),4)),{x:-t/3*Math.sin(e*h),y:n}},label:function(t,i,n,r,o,s,a,l,u){var h,d,p,m,v,y,b,x,w,S,k,C,A,_=this,M=_.g("button"!==u&&"label"),P=M.text=_.text("",0,0,a).attr({zIndex:1}),L=0,R=3,j=0,I={},D=/^url\((.*?)\)$/.test(r),O=D;u&&M.addClass("highcharts-"+u),O=D,S=function(){return(x||0)%2/2},k=function(){var t,e=P.element.style,i={};d=(void 0===p||void 0===m||b)&&c(P.textStr)&&P.getBBox(),M.width=(p||d.width||0)+2*R+j,M.height=(m||d.height||0)+2*R,w=R+_.fontMetrics(e&&e.fontSize,P).b,O&&(h||(M.box=h=_.symbols[r]||D?_.symbol(r):_.rect(),h.addClass(("button"===u?"":"highcharts-label-box")+(u?" highcharts-"+u+"-box":"")),h.add(M),t=S(),i.x=t,i.y=(l?-w:0)+t),i.width=Math.round(M.width),i.height=Math.round(M.height),h.attr(g(i,I)),I={})},C=function(){var t,e=j+R;t=l?0:w,c(p)&&d&&("center"===b||"right"===b)&&(e+={center:.5,right:1}[b]*(p-d.width)),e===P.x&&t===P.y||(P.attr("x",e),void 0!==t&&P.attr("y",t)),P.x=e,P.y=t},A=function(t,e){h?h.attr(t,e):I[t]=e},M.onAdd=function(){P.add(M),M.attr({text:t||0===t?t:"",x:i,y:n}),h&&c(o)&&M.attr({anchorX:o,anchorY:s})},M.widthSetter=function(t){p=t},M.heightSetter=function(t){m=t},M["text-alignSetter"]=function(t){b=t},M.paddingSetter=function(t){c(t)&&t!==R&&(R=M.padding=t,C())},M.paddingLeftSetter=function(t){c(t)&&t!==j&&(j=t,C())},M.alignSetter=function(t){(t={left:0,center:.5,right:1}[t])!==L&&(L=t,d&&M.attr({x:v}))},M.textSetter=function(t){void 0!==t&&P.textSetter(t),k(),C()},M["stroke-widthSetter"]=function(t,e){t&&(O=!0),x=this["stroke-width"]=t,A(e,t)},M.strokeSetter=M.fillSetter=M.rSetter=function(t,e){"fill"===e&&t&&(O=!0),A(e,t)},M.anchorXSetter=function(t,e){o=t,A(e,Math.round(t)-S()-v)},M.anchorYSetter=function(t,e){s=t,A(e,t-y)},M.xSetter=function(t){M.x=t,L&&(t-=L*((p||d.width)+2*R)),v=Math.round(t),M.attr("translateX",v)},M.ySetter=function(t){y=M.y=Math.round(t),M.attr("translateY",y)};var N=M.css;return g(M,{css:function(t){if(t){var e={};t=T(t),f(M.textProps,function(i){void 0!==t[i]&&(e[i]=t[i],delete t[i])}),P.css(e)}return N.call(M,t)},getBBox:function(){return{width:d.width+2*R,height:d.height+2*R,x:d.x-R,y:d.y-R}},shadow:function(t){return t&&(k(),h&&h.shadow(t)),M},destroy:function(){E(M.element,"mouseenter"),E(M.element,"mouseleave"),P&&(P=P.destroy()),h&&(h=h.destroy()),e.prototype.destroy.call(M),M=_=k=C=A=null}})}},t.Renderer=i}(e),function(t){"use strict";var e=t.attr,i=t.createElement,n=t.css,r=t.defined,o=t.each,s=t.extend,a=t.isFirefox,l=t.isMS,u=t.isWebKit,c=t.pInt,h=t.SVGElement,d=t.SVGRenderer,p=t.win,f=t.wrap;s(h.prototype,{htmlCss:function(t){var e=this,i=e.element,r=t&&"SPAN"===i.tagName&&t.width;return r&&(delete t.width,e.textWidth=r,e.updateTransform()),t&&"ellipsis"===t.textOverflow&&(t.whiteSpace="nowrap",t.overflow="hidden"),e.styles=s(e.styles,t),n(e.element,t),e},htmlGetBBox:function(){var t=this,e=t.element;return"text"===e.nodeName&&(e.style.position="absolute"),{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(!this.added)return void(this.alignOnAdd=!0);var t=this,e=t.renderer,i=t.element,s=t.translateX||0,a=t.translateY||0,l=t.x||0,h=t.y||0,d=t.textAlign||"left",p={left:0,center:.5,right:1}[d],f=t.styles;if(n(i,{marginLeft:s,marginTop:a}),t.shadows&&o(t.shadows,function(t){n(t,{marginLeft:s+1,marginTop:a+1})}),t.inverted&&o(i.childNodes,function(t){e.invertChild(t,i)}),"SPAN"===i.tagName){var g,m=t.rotation,v=c(t.textWidth),y=f&&f.whiteSpace,b=[m,d,i.innerHTML,t.textWidth,t.textAlign].join(",");b!==t.cTT&&(g=e.fontMetrics(i.style.fontSize).b,r(m)&&t.setSpanRotation(m,p,g),n(i,{width:"",whiteSpace:y||"nowrap"}),i.offsetWidth>v&&/[ \-]/.test(i.textContent||i.innerText)&&n(i,{width:v+"px",display:"block",whiteSpace:y||"normal"}),t.getSpanCorrection(i.offsetWidth,g,p,m,d)),n(i,{left:l+(t.xCorr||0)+"px",top:h+(t.yCorr||0)+"px"}),u&&(g=i.offsetHeight),t.cTT=b}},setSpanRotation:function(t,e,i){var r={},o=l?"-ms-transform":u?"-webkit-transform":a?"MozTransform":p.opera?"-o-transform":"";r[o]=r.transform="rotate("+t+"deg)",r[o+(a?"Origin":"-origin")]=r.transformOrigin=100*e+"% "+i+"px",n(this.element,r)},getSpanCorrection:function(t,e,i){this.xCorr=-t*i,this.yCorr=-e}}),s(d.prototype,{html:function(t,n,r){var a=this.createElement("span"),l=a.element,u=a.renderer,c=u.isSVG,h=function(t,e){o(["opacity","visibility"],function(i){f(t,i+"Setter",function(t,i,n,r){t.call(this,i,n,r),e[n]=i})})};return a.textSetter=function(t){t!==l.innerHTML&&delete this.bBox,l.innerHTML=this.textStr=t,a.htmlUpdateTransform()},c&&h(a,a.element.style),a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(t,e){"align"===e&&(e="textAlign"),a[e]=t,a.htmlUpdateTransform()},a.attr({text:t,x:Math.round(n),y:Math.round(r)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),l.style.whiteSpace="nowrap",a.css=a.htmlCss,c&&(a.add=function(t){var n,r,c=u.box.parentNode,d=[];if(this.parentGroup=t,t){if(!(n=t.div)){for(r=t;r;)d.push(r),r=r.parentGroup;o(d.reverse(),function(t){var r,o=e(t.element,"class");o&&(o={className:o}),n=t.div=t.div||i("div",o,{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px",display:t.display,opacity:t.opacity,pointerEvents:t.styles&&t.styles.pointerEvents},n||c),r=n.style,s(t,{on:function(){return a.on.apply({element:d[0].div},arguments),t},translateXSetter:function(e,i){r.left=e+"px",t[i]=e,t.doTransform=!0},translateYSetter:function(e,i){r.top=e+"px",t[i]=e,t.doTransform=!0}}),h(t,r)})}}else n=c;return n.appendChild(l),a.added=!0,a.alignOnAdd&&a.htmlUpdateTransform(),a}),a}})}(e),function(t){"use strict";var e,i,n,r=t.createElement,o=t.css,s=t.defined,a=t.deg2rad,l=t.discardElement,u=t.doc,c=t.each,h=t.erase,d=t.extend,p=t.extendClass,f=t.isArray,g=t.isNumber,m=t.isObject,v=t.merge,y=t.noop,b=t.pick,x=t.pInt,w=t.svg,S=t.SVGElement,k=t.SVGRenderer,C=t.win;w||(n={docMode8:u&&8===u.documentMode,init:function(t,e){var i=this,n=["<",e,' filled="f" stroked="f"'],o=["position: ","absolute",";"],s="div"===e;("shape"===e||s)&&o.push("left:0;top:0;width:1px;height:1px;"),o.push("visibility: ",s?"hidden":"visible"),n.push(' style="',o.join(""),'"/>'),e&&(n=s||"span"===e||"img"===e?n.join(""):t.prepVML(n),i.element=r(n)),i.renderer=t},add:function(t){var e=this,i=e.renderer,n=e.element,r=i.box,o=t&&t.inverted,s=t?t.element||t:r;return t&&(this.parentGroup=t),o&&i.invertChild(n,s),s.appendChild(n),e.added=!0,e.alignOnAdd&&!e.deferUpdateTransform&&e.updateTransform(),e.onAdd&&e.onAdd(),this.className&&this.attr("class",this.className),e},updateTransform:S.prototype.htmlUpdateTransform,setSpanRotation:function(){var t=this.rotation,e=Math.cos(t*a),i=Math.sin(t*a);o(this.element,{filter:t?["progid:DXImageTransform.Microsoft.Matrix(M11=",e,", M12=",-i,", M21=",i,", M22=",e,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(t,e,i,n,r){var s,l=n?Math.cos(n*a):1,u=n?Math.sin(n*a):0,c=b(this.elemHeight,this.element.offsetHeight),h=r&&"left"!==r;this.xCorr=l<0&&-t,this.yCorr=u<0&&-c,s=l*u<0,this.xCorr+=u*e*(s?1-i:i),this.yCorr-=l*e*(n?s?i:1-i:1),h&&(this.xCorr-=t*i*(l<0?-1:1),n&&(this.yCorr-=c*i*(u<0?-1:1)),o(this.element,{textAlign:r}))},pathToVML:function(t){for(var e=t.length,i=[];e--;)g(t[e])?i[e]=Math.round(10*t[e])-5:"Z"===t[e]?i[e]="x":(i[e]=t[e],!t.isArc||"wa"!==t[e]&&"at"!==t[e]||(i[e+5]===i[e+7]&&(i[e+7]+=t[e+7]>t[e+5]?1:-1),i[e+6]===i[e+8]&&(i[e+8]+=t[e+8]>t[e+6]?1:-1)));return i.join(" ")||"x"},clip:function(t){var e,i,n=this;return t?(e=t.members,h(e,n),e.push(n),n.destroyClip=function(){h(e,n)},i=t.getCSS(n)):(n.destroyClip&&n.destroyClip(),i={clip:n.docMode8?"inherit":"rect(auto)"}),n.css(i)},css:S.prototype.htmlCss,safeRemoveChild:function(t){t.parentNode&&l(t)},destroy:function(){return this.destroyClip&&this.destroyClip(),S.prototype.destroy.apply(this)},on:function(t,e){return this.element["on"+t]=function(){var t=C.event;t.target=t.srcElement,e(t)},this},cutOffPath:function(t,e){var i;return t=t.split(/[ ,]/),i=t.length,9!==i&&11!==i||(t[i-4]=t[i-2]=x(t[i-2])-10*e),t.join(" ")},shadow:function(t,e,i){var n,o,s,a,l,u,c,h=[],d=this.element,p=this.renderer,f=d.style,g=d.path;if(g&&"string"!=typeof g.value&&(g="x"),l=g,t){for(u=b(t.width,3),c=(t.opacity||.15)/u,n=1;n<=3;n++)a=2*u+1-2*n,i&&(l=this.cutOffPath(g.value,a+.5)),s=['<shape isShadow="true" strokeweight="',a,'" filled="false" path="',l,'" coordsize="10 10" style="',d.style.cssText,'" />'],o=r(p.prepVML(s),null,{left:x(f.left)+b(t.offsetX,1),top:x(f.top)+b(t.offsetY,1)}),i&&(o.cutOff=a+1),s=['<stroke color="',t.color||"#000000",'" opacity="',c*n,'"/>'],r(p.prepVML(s),null,null,o),e?e.element.appendChild(o):d.parentNode.insertBefore(o,d),h.push(o);this.shadows=h}return this},updateShadows:y,setAttr:function(t,e){this.docMode8?this.element[t]=e:this.element.setAttribute(t,e)},classSetter:function(t){(this.added?this.element:this).className=t},dashstyleSetter:function(t,e,i){(i.getElementsByTagName("stroke")[0]||r(this.renderer.prepVML(["<stroke/>"]),null,null,i))[e]=t||"solid",this[e]=t},dSetter:function(t,e,i){var n,r=this.shadows;if(t=t||[],this.d=t.join&&t.join(" "),i.path=t=this.pathToVML(t),r)for(n=r.length;n--;)r[n].path=r[n].cutOff?this.cutOffPath(t,r[n].cutOff):t;this.setAttr(e,t)},fillSetter:function(t,e,i){var n=i.nodeName;"SPAN"===n?i.style.color=t:"IMG"!==n&&(i.filled="none"!==t,this.setAttr("fillcolor",this.renderer.color(t,i,e,this)))},"fill-opacitySetter":function(t,e,i){r(this.renderer.prepVML(["<",e.split("-")[0],' opacity="',t,'"/>']),null,null,i)},opacitySetter:y,rotationSetter:function(t,e,i){var n=i.style;this[e]=n[e]=t,n.left=-Math.round(Math.sin(t*a)+1)+"px",n.top=Math.round(Math.cos(t*a))+"px"},strokeSetter:function(t,e,i){this.setAttr("strokecolor",this.renderer.color(t,i,e,this))},"stroke-widthSetter":function(t,e,i){i.stroked=!!t,this[e]=t,g(t)&&(t+="px"),this.setAttr("strokeweight",t)},titleSetter:function(t,e){this.setAttr(e,t)},visibilitySetter:function(t,e,i){"inherit"===t&&(t="visible"),this.shadows&&c(this.shadows,function(i){i.style[e]=t}),"DIV"===i.nodeName&&(t="hidden"===t?"-999em":0,this.docMode8||(i.style[e]=t?"visible":"hidden"),e="top"),i.style[e]=t},xSetter:function(t,e,i){this[e]=t,"x"===e?e="left":"y"===e&&(e="top"),this.updateClipping?(this[e]=t,this.updateClipping()):i.style[e]=t},zIndexSetter:function(t,e,i){i.style[e]=t}},n["stroke-opacitySetter"]=n["fill-opacitySetter"],t.VMLElement=n=p(S,n),n.prototype.ySetter=n.prototype.widthSetter=n.prototype.heightSetter=n.prototype.xSetter,i={Element:n,isIE8:C.navigator.userAgent.indexOf("MSIE 8.0")>-1,init:function(t,e,i){var n,r,o,s=this;if(s.alignedObjects=[],n=s.createElement("div").css({position:"relative"}),r=n.element,t.appendChild(n.element),s.isVML=!0,s.box=r,s.boxWrapper=n,s.gradients={},s.cache={},s.cacheKeys=[],s.imgCount=0,s.setSize(e,i,!1),!u.namespaces.hcv){u.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),o="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{u.createStyleSheet().cssText=o}catch(t){u.styleSheets[0].cssText+=o}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,e,i,n){var r=this.createElement(),o=m(t);return d(r,{members:[],count:0,left:(o?t.x:t)+1,top:(o?t.y:e)+1,width:(o?t.width:i)-1,height:(o?t.height:n)-1,getCSS:function(t){var e=t.element,i=e.nodeName,n="shape"===i,r=t.inverted,o=this,s=o.top-(n?e.offsetTop:0),a=o.left,l=a+o.width,u=s+o.height,c={clip:"rect("+Math.round(r?a:s)+"px,"+Math.round(r?u:l)+"px,"+Math.round(r?l:u)+"px,"+Math.round(r?s:a)+"px)"};return!r&&t.docMode8&&"DIV"===i&&d(c,{width:l+"px",height:u+"px"}),c},updateClipping:function(){c(r.members,function(t){t.element&&t.css(r.getCSS(t))})}})},color:function(e,i,n,o){var s,a,l,u=this,h=/^rgba/,d="none";if(e&&e.linearGradient?l="gradient":e&&e.radialGradient&&(l="pattern"),l){var p,f,g,m,v,y,b,x,w,S,k,C,T=e.linearGradient||e.radialGradient,A="",_=e.stops,M=[],E=function(){a=['<fill colors="'+M.join(",")+'" opacity="',x,'" o:opacity2="',b,'" type="',l,'" ',A,'focus="100%" method="any" />'],r(u.prepVML(a),null,null,i)};if(k=_[0],C=_[_.length-1],k[0]>0&&_.unshift([0,k[1]]),C[0]<1&&_.push([1,C[1]]),c(_,function(e,i){h.test(e[1])?(s=t.color(e[1]),p=s.get("rgb"),f=s.get("a")):(p=e[1],f=1),M.push(100*e[0]+"% "+p),i?(x=f,w=p):(b=f,S=p)}),"fill"===n)if("gradient"===l)g=T.x1||T[0]||0,m=T.y1||T[1]||0,v=T.x2||T[2]||0,y=T.y2||T[3]||0,A='angle="'+(90-180*Math.atan((y-m)/(v-g))/Math.PI)+'"',E();else{var P,L=T.r,R=2*L,j=2*L,I=T.cx,D=T.cy,O=i.radialReference,N=function(){O&&(P=o.getBBox(),I+=(O[0]-P.x)/P.width-.5,D+=(O[1]-P.y)/P.height-.5,R*=O[2]/P.width,j*=O[2]/P.height),A='src="'+t.getOptions().global.VMLRadialGradientURL+'" size="'+R+","+j+'" origin="0.5,0.5" position="'+I+","+D+'" color2="'+S+'" ',E()};o.added?N():o.onAdd=N,d=w}else d=p}else if(h.test(e)&&"IMG"!==i.tagName)s=t.color(e),o[n+"-opacitySetter"](s.get("a"),n,i),d=s.get("rgb");else{var q=i.getElementsByTagName(n);q.length&&(q[0].opacity=1,q[0].type="solid"),d=e}return d},prepVML:function(t){var e="display:inline-block;behavior:url(#default#VML);",i=this.isIE8;return t=t.join(""),i?(t=t.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),t=-1===t.indexOf('style="')?t.replace("/>",' style="'+e+'" />'):t.replace('style="','style="'+e)):t=t.replace("<","<hcv:"),t},text:k.prototype.html,path:function(t){var e={coordsize:"10 10"};return f(t)?e.d=t:m(t)&&d(e,t),this.createElement("shape").attr(e)},circle:function(t,e,i){var n=this.symbol("circle");return m(t)&&(i=t.r,e=t.y,t=t.x),n.isCircle=!0,n.r=i,n.attr({x:t,y:e})},g:function(t){var e;return t&&(e={className:"highcharts-"+t,class:"highcharts-"+t}),this.createElement("div").attr(e)},image:function(t,e,i,n,r){var o=this.createElement("img").attr({src:t});return arguments.length>1&&o.attr({x:e,y:i,width:n,height:r}),o},createElement:function(t){return"rect"===t?this.symbol(t):k.prototype.createElement.call(this,t)},invertChild:function(t,e){var i=this,n=e.style,r="IMG"===t.tagName&&t.style;o(t,{flip:"x",left:x(n.width)-(r?x(r.top):1),top:x(n.height)-(r?x(r.left):1),rotation:-90}),c(t.childNodes,function(e){i.invertChild(e,t)})},symbols:{arc:function(t,e,i,n,r){var o,s=r.start,a=r.end,l=r.r||i||n,u=r.innerR,c=Math.cos(s),h=Math.sin(s),d=Math.cos(a),p=Math.sin(a);return a-s==0?["x"]:(o=["wa",t-l,e-l,t+l,e+l,t+l*c,e+l*h,t+l*d,e+l*p],r.open&&!u&&o.push("e","M",t,e),o.push("at",t-u,e-u,t+u,e+u,t+u*d,e+u*p,t+u*c,e+u*h,"x","e"),o.isArc=!0,o)},circle:function(t,e,i,n,r){return r&&s(r.r)&&(i=n=2*r.r),r&&r.isCircle&&(t-=i/2,e-=n/2),["wa",t,e,t+i,e+n,t+i,e+n/2,t+i,e+n/2,"e"]},rect:function(t,e,i,n,r){return k.prototype.symbols[s(r)&&r.r?"callout":"square"].call(0,t,e,i,n,r)}}},t.VMLRenderer=e=function(){this.init.apply(this,arguments)},e.prototype=v(k.prototype,i),t.Renderer=e),k.prototype.measureSpanWidth=function(t,e){var i,n=u.createElement("span"),r=u.createTextNode(t);return n.appendChild(r),o(n,e),this.box.appendChild(n),i=n.offsetWidth,l(n),i}}(e),function(t){"use strict";function e(){var e,i=t.defaultOptions.global,o=i.useUTC,s=o?"getUTC":"get",l=o?"setUTC":"set";t.Date=e=i.Date||u.Date,
e.hcTimezoneOffset=o&&i.timezoneOffset,e.hcGetTimezoneOffset=o&&i.getTimezoneOffset,e.hcMakeTime=function(t,i,n,s,l,u){var c;return o?(c=e.UTC.apply(0,arguments),c+=r(c)):c=new e(t,i,a(n,1),a(s,0),a(l,0),a(u,0)).getTime(),c},n(["Minutes","Hours","Day","Date","Month","FullYear"],function(t){e["hcGet"+t]=s+t}),n(["Milliseconds","Seconds","Minutes","Hours","Date","Month","FullYear"],function(t){e["hcSet"+t]=l+t})}var i=t.color,n=t.each,r=t.getTZOffset,o=t.isTouchDevice,s=t.merge,a=t.pick,l=t.svg,u=t.win;t.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,VMLRadialGradientURL:"http://code.highcharts.com/5.0.6/gfx/vml-radial-gradient.png"},chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:l,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:o?25:10,backgroundColor:i("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},t.setOptions=function(i){return t.defaultOptions=s(!0,t.defaultOptions,i),e(),t.defaultOptions},t.getOptions=function(){return t.defaultOptions},t.defaultPlotOptions=t.defaultOptions.plotOptions,e()}(e),function(t){"use strict";var e=t.arrayMax,i=t.arrayMin,n=t.defined,r=t.destroyObjectProperties,o=t.each,s=t.erase,a=t.merge,l=t.pick;t.PlotLineOrBand=function(t,e){this.axis=t,e&&(this.options=e,this.id=e.id)},t.PlotLineOrBand.prototype={render:function(){var t,e,i,r=this,o=r.axis,s=o.horiz,u=r.options,c=u.label,h=r.label,d=u.to,p=u.from,f=u.value,g=n(p)&&n(d),m=n(f),v=r.svgElem,y=!v,b=[],x=u.color,w=l(u.zIndex,0),S=u.events,k={class:"highcharts-plot-"+(g?"band ":"line ")+(u.className||"")},C={},T=o.chart.renderer,A=g?"bands":"lines",_=o.log2lin;if(o.isLog&&(p=_(p),d=_(d),f=_(f)),m?(k={stroke:x,"stroke-width":u.width},u.dashStyle&&(k.dashstyle=u.dashStyle)):g&&(x&&(k.fill=x),u.borderWidth&&(k.stroke=u.borderColor,k["stroke-width"]=u.borderWidth)),C.zIndex=w,A+="-"+w,i=o[A],i||(o[A]=i=T.g("plot-"+A).attr(C).add()),y&&(r.svgElem=v=T.path().attr(k).add(i)),m)b=o.getPlotLinePath(f,v.strokeWidth());else{if(!g)return;b=o.getPlotBandPath(p,d,u)}if(y&&b&&b.length){if(v.attr({d:b}),S){t=function(t){v.on(t,function(e){S[t].apply(r,[e])})};for(e in S)t(e)}}else v&&(b?(v.show(),v.animate({d:b})):(v.hide(),h&&(r.label=h=h.destroy())));return c&&n(c.text)&&b&&b.length&&o.width>0&&o.height>0&&!b.flat?(c=a({align:s&&g&&"center",x:s?!g&&4:10,verticalAlign:!s&&g&&"middle",y:s?g?16:10:g?6:-4,rotation:s&&!g&&90},c),this.renderLabel(c,b,g,w)):h&&h.hide(),r},renderLabel:function(t,n,r,o){var s,a,l,u,c,h=this,d=h.label,p=h.axis.chart.renderer;d||(s={align:t.textAlign||t.align,rotation:t.rotation,class:"highcharts-plot-"+(r?"band":"line")+"-label "+(t.className||"")},s.zIndex=o,h.label=d=p.text(t.text,0,0,t.useHTML).attr(s).add(),d.css(t.style)),a=[n[1],n[4],r?n[6]:n[1]],l=[n[2],n[5],r?n[7]:n[2]],u=i(a),c=i(l),d.align(t,!1,{x:u,y:c,width:e(a)-u,height:e(l)-c}),d.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,r(this)}},t.AxisPlotLineOrBandExtension={getPlotBandPath:function(t,e){var i=this.getPlotLinePath(e,null,null,!0),n=this.getPlotLinePath(t,null,null,!0);return n&&i?(n.flat=n.toString()===i.toString(),n.push(i[4],i[5],i[1],i[2],"z")):n=null,n},addPlotBand:function(t){return this.addPlotBandOrLine(t,"plotBands")},addPlotLine:function(t){return this.addPlotBandOrLine(t,"plotLines")},addPlotBandOrLine:function(e,i){var n=new t.PlotLineOrBand(this,e).render(),r=this.userOptions;return n&&(i&&(r[i]=r[i]||[],r[i].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(t){for(var e=this.plotLinesAndBands,i=this.options,n=this.userOptions,r=e.length;r--;)e[r].id===t&&e[r].destroy();o([i.plotLines||[],n.plotLines||[],i.plotBands||[],n.plotBands||[]],function(e){for(r=e.length;r--;)e[r].id===t&&s(e,e[r])})}}}(e),function(t){"use strict";var e=t.correctFloat,i=t.defined,n=t.destroyObjectProperties,r=t.isNumber,o=t.merge,s=t.pick,a=t.deg2rad;t.Tick=function(t,e,i,n){this.axis=t,this.pos=e,this.type=i||"",this.isNew=!0,i||n||this.addLabel()},t.Tick.prototype={addLabel:function(){var t,n,r=this,a=r.axis,l=a.options,u=a.chart,c=a.categories,h=a.names,d=r.pos,p=l.labels,f=a.tickPositions,g=d===f[0],m=d===f[f.length-1],v=c?s(c[d],h[d],d):d,y=r.label,b=f.info;a.isDatetimeAxis&&b&&(n=l.dateTimeLabelFormats[b.higherRanks[d]||b.unitName]),r.isFirst=g,r.isLast=m,t=a.labelFormatter.call({axis:a,chart:u,isFirst:g,isLast:m,dateTimeLabelFormat:n,value:a.isLog?e(a.lin2log(v)):v}),i(y)?y&&y.attr({text:t}):(r.label=y=i(t)&&p.enabled?u.renderer.text(t,0,0,p.useHTML).css(o(p.style)).add(a.labelGroup):null,r.labelLength=y&&y.getBBox().width,r.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(t){var e,i,n,r=this.axis,o=t.x,l=r.chart.chartWidth,u=r.chart.spacing,c=s(r.labelLeft,Math.min(r.pos,u[3])),h=s(r.labelRight,Math.max(r.pos+r.len,l-u[1])),d=this.label,p=this.rotation,f={left:0,center:.5,right:1}[r.labelAlign],g=d.getBBox().width,m=r.getSlotWidth(),v=m,y=f,b=1,x={};p?p<0&&o-f*g<c?n=Math.round(o/Math.cos(p*a)-c):p>0&&o+f*g>h&&(n=Math.round((l-o)/Math.cos(p*a))):(e=o-f*g,i=o+(1-f)*g,e<c?v=t.x+v*(1-f)-c:i>h&&(v=h-t.x+v*f,b=-1),v=Math.min(m,v),v<m&&"center"===r.labelAlign&&(t.x+=b*(m-v-y*(m-Math.min(g,v)))),(g>v||r.autoRotation&&(d.styles||{}).width)&&(n=v)),n&&(x.width=n,(r.options.labels.style||{}).textOverflow||(x.textOverflow="ellipsis"),d.css(x))},getPosition:function(t,e,i,n){var r=this.axis,o=r.chart,s=n&&o.oldChartHeight||o.chartHeight;return{x:t?r.translate(e+i,null,null,n)+r.transB:r.left+r.offset+(r.opposite?(n&&o.oldChartWidth||o.chartWidth)-r.right-r.left:0),y:t?s-r.bottom+r.offset-(r.opposite?r.height:0):s-r.translate(e+i,null,null,n)-r.transB}},getLabelPosition:function(t,e,n,r,o,s,l,u){var c,h=this.axis,d=h.transA,p=h.reversed,f=h.staggerLines,g=h.tickRotCorr||{x:0,y:0},m=o.y;return i(m)||(m=0===h.side?n.rotation?-8:-n.getBBox().height:2===h.side?g.y+8:Math.cos(n.rotation*a)*(g.y-n.getBBox(!1,0).height/2)),t=t+o.x+g.x-(s&&r?s*d*(p?-1:1):0),e=e+m-(s&&!r?s*d*(p?1:-1):0),f&&(c=l/(u||1)%f,h.opposite&&(c=f-c-1),e+=c*(h.labelOffset/f)),{x:t,y:Math.round(e)}},getMarkPath:function(t,e,i,n,r,o){return o.crispLine(["M",t,e,"L",t+(r?0:-i),e+(r?i:0)],n)},render:function(t,e,i){var n,o=this,a=o.axis,l=a.options,u=a.chart,c=u.renderer,h=a.horiz,d=o.type,p=o.label,f=o.pos,g=l.labels,m=o.gridLine,v=d?d+"Tick":"tick",y=a.tickSize(v),b=o.mark,x=!b,w=g.step,S={},k=!0,C=a.tickmarkOffset,T=o.getPosition(h,f,C,e),A=T.x,_=T.y,M=h&&A===a.pos+a.len||!h&&_===a.pos?-1:1,E=d?d+"Grid":"grid",P=l[E+"LineWidth"],L=l[E+"LineColor"],R=l[E+"LineDashStyle"],j=s(l[v+"Width"],!d&&a.isXAxis?1:0),I=l[v+"Color"];i=s(i,1),this.isActive=!0,m||(S.stroke=L,S["stroke-width"]=P,R&&(S.dashstyle=R),d||(S.zIndex=1),e&&(S.opacity=0),o.gridLine=m=c.path().attr(S).addClass("highcharts-"+(d?d+"-":"")+"grid-line").add(a.gridGroup)),!e&&m&&(n=a.getPlotLinePath(f+C,m.strokeWidth()*M,e,!0))&&m[o.isNew?"attr":"animate"]({d:n,opacity:i}),y&&(a.opposite&&(y[0]=-y[0]),x&&(o.mark=b=c.path().addClass("highcharts-"+(d?d+"-":"")+"tick").add(a.axisGroup),b.attr({stroke:I,"stroke-width":j})),b[x?"attr":"animate"]({d:o.getMarkPath(A,_,y[0],b.strokeWidth()*M,h,c),opacity:i})),p&&r(A)&&(p.xy=T=o.getLabelPosition(A,_,p,h,g,C,t,w),o.isFirst&&!o.isLast&&!s(l.showFirstLabel,1)||o.isLast&&!o.isFirst&&!s(l.showLastLabel,1)?k=!1:!h||a.isRadial||g.step||g.rotation||e||0===i||o.handleOverflow(T),w&&t%w&&(k=!1),k&&r(T.y)?(T.opacity=i,p[o.isNew?"attr":"animate"](T)):p.attr("y",-9999),o.isNew=!1)},destroy:function(){n(this,this.axis)}}}(e),function(t){"use strict";var e=t.addEvent,i=t.animObject,n=t.arrayMax,r=t.arrayMin,o=t.AxisPlotLineOrBandExtension,s=t.color,a=t.correctFloat,l=t.defaultOptions,u=t.defined,c=t.deg2rad,h=t.destroyObjectProperties,d=t.each,p=t.extend,f=t.fireEvent,g=t.format,m=t.getMagnitude,v=t.grep,y=t.inArray,b=t.isArray,x=t.isNumber,w=t.isString,S=t.merge,k=t.normalizeTickInterval,C=t.pick,T=t.PlotLineOrBand,A=t.removeEvent,_=t.splat,M=t.syncTimeout,E=t.Tick;t.Axis=function(){this.init.apply(this,arguments)},t.Axis.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,labels:{enabled:!0,style:{color:"#666666",cursor:"default",fontSize:"11px"},x:0},minPadding:.01,maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},maxPadding:.05,minPadding:.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return t.numberFormat(this.total,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"#000000",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(t,i){var n=i.isX,r=this;r.chart=t,r.horiz=t.inverted?!n:n,r.isXAxis=n,r.coll=r.coll||(n?"xAxis":"yAxis"),r.opposite=i.opposite,r.side=i.side||(r.horiz?r.opposite?0:2:r.opposite?1:3),r.setOptions(i);var o=this.options,s=o.type,a="datetime"===s;r.labelFormatter=o.labels.formatter||r.defaultLabelFormatter,r.userOptions=i,r.minPixelPadding=0,r.reversed=o.reversed,r.visible=!1!==o.visible,r.zoomEnabled=!1!==o.zoomEnabled,r.hasNames="category"===s||!0===o.categories,r.categories=o.categories||r.hasNames,r.names=r.names||[],r.isLog="logarithmic"===s,r.isDatetimeAxis=a,r.isLinked=u(o.linkedTo),r.ticks={},r.labelEdge=[],r.minorTicks={},r.plotLinesAndBands=[],r.alternateBands={},r.len=0,r.minRange=r.userMinRange=o.minRange||o.maxZoom,r.range=o.range,r.offset=o.offset||0,r.stacks={},r.oldStacks={},r.stacksTouched=0,r.max=null,r.min=null,r.crosshair=C(o.crosshair,_(t.options.tooltip.crosshairs)[n?0:1],!1);var l,c=r.options.events;-1===y(r,t.axes)&&(n?t.axes.splice(t.xAxis.length,0,r):t.axes.push(r),t[r.coll].push(r)),r.series=r.series||[],t.inverted&&n&&void 0===r.reversed&&(r.reversed=!0),r.removePlotBand=r.removePlotBandOrLine,r.removePlotLine=r.removePlotBandOrLine;for(l in c)e(r,l,c[l]);r.isLog&&(r.val2lin=r.log2lin,r.lin2val=r.lin2log)},setOptions:function(t){this.options=S(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],S(l[this.coll],t))},defaultLabelFormatter:function(){var e,i,n=this.axis,r=this.value,o=n.categories,s=this.dateTimeLabelFormat,a=l.lang,u=a.numericSymbols,c=a.numericSymbolMagnitude||1e3,h=u&&u.length,d=n.options.labels.format,p=n.isLog?r:n.tickInterval;if(d)i=g(d,this);else if(o)i=r;else if(s)i=t.dateFormat(s,r);else if(h&&p>=1e3)for(;h--&&void 0===i;)e=Math.pow(c,h+1),p>=e&&10*r%e==0&&null!==u[h]&&0!==r&&(i=t.numberFormat(r/e,-1)+u[h]);return void 0===i&&(i=Math.abs(r)>=1e4?t.numberFormat(r,-1):t.numberFormat(r,-1,void 0,"")),i},getSeriesExtremes:function(){var t=this,e=t.chart;t.hasVisibleSeries=!1,t.dataMin=t.dataMax=t.threshold=null,t.softThreshold=!t.isXAxis,t.buildStacks&&t.buildStacks(),d(t.series,function(i){if(i.visible||!e.options.chart.ignoreHiddenSeries){var o,s,a,l=i.options,c=l.threshold;t.hasVisibleSeries=!0,t.isLog&&c<=0&&(c=null),t.isXAxis?(o=i.xData,o.length&&(s=r(o),x(s)||s instanceof Date||(o=v(o,function(t){return x(t)}),s=r(o)),t.dataMin=Math.min(C(t.dataMin,o[0]),s),t.dataMax=Math.max(C(t.dataMax,o[0]),n(o)))):(i.getExtremes(),a=i.dataMax,s=i.dataMin,u(s)&&u(a)&&(t.dataMin=Math.min(C(t.dataMin,s),s),t.dataMax=Math.max(C(t.dataMax,a),a)),u(c)&&(t.threshold=c),l.softThreshold&&!t.isLog||(t.softThreshold=!1))}})},translate:function(t,e,i,n,r,o){var s,a=this.linkedParent||this,l=1,u=0,c=n?a.oldTransA:a.transA,h=n?a.oldMin:a.min,d=a.minPixelPadding,p=(a.isOrdinal||a.isBroken||a.isLog&&r)&&a.lin2val;return c||(c=a.transA),i&&(l*=-1,u=a.len),a.reversed&&(l*=-1,u-=l*(a.sector||a.len)),e?(t=t*l+u,t-=d,s=t/c+h,p&&(s=a.lin2val(s))):(p&&(t=a.val2lin(t)),s=l*(t-h)*c+u+l*d+(x(o)?c*o:0)),s},toPixels:function(t,e){return this.translate(t,!1,!this.horiz,null,!0)+(e?0:this.pos)},toValue:function(t,e){return this.translate(t-(e?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(t,e,i,n,r){var o,s,a,l,u,c=this,h=c.chart,d=c.left,p=c.top,f=i&&h.oldChartHeight||h.chartHeight,g=i&&h.oldChartWidth||h.chartWidth,m=c.transB,v=function(t,e,i){return(t<e||t>i)&&(n?t=Math.min(Math.max(e,t),i):u=!0),t};return r=C(r,c.translate(t,null,null,i)),o=a=Math.round(r+m),s=l=Math.round(f-r-m),x(r)?c.horiz?(s=p,l=f-c.bottom,o=a=v(o,d,d+c.width)):(o=d,a=g-c.right,s=l=v(s,p,p+c.height)):u=!0,u&&!n?null:h.renderer.crispLine(["M",o,s,"L",a,l],e||1)},getLinearTickPositions:function(t,e,i){var n,r,o=a(Math.floor(e/t)*t),s=a(Math.ceil(i/t)*t),l=[];if(e===i&&x(e))return[e];for(n=o;n<=s&&(l.push(n),(n=a(n+t))!==r);)r=n;return l},getMinorTickPositions:function(){var t,e,i,n=this,r=n.options,o=n.tickPositions,s=n.minorTickInterval,a=[],l=n.pointRangePadding||0,u=n.min-l,c=n.max+l,h=c-u;if(h&&h/s<n.len/3)if(n.isLog)for(i=o.length,e=1;e<i;e++)a=a.concat(n.getLogTickPositions(s,o[e-1],o[e],!0));else if(n.isDatetimeAxis&&"auto"===r.minorTickInterval)a=a.concat(n.getTimeTicks(n.normalizeTimeTickInterval(s),u,c,r.startOfWeek));else for(t=u+(o[0]-u)%s;t<=c&&t!==a[0];t+=s)a.push(t);return 0!==a.length&&n.trimTicks(a,r.startOnTick,r.endOnTick),a},adjustForMinRange:function(){var t,e,i,o,s,a,l,c,h,p=this,f=p.options,g=p.min,m=p.max,v=p.dataMax-p.dataMin>=p.minRange;p.isXAxis&&void 0===p.minRange&&!p.isLog&&(u(f.min)||u(f.max)?p.minRange=null:(d(p.series,function(t){for(s=t.xData,a=t.xIncrement?1:s.length-1,i=a;i>0;i--)o=s[i]-s[i-1],(void 0===e||o<e)&&(e=o)}),p.minRange=Math.min(5*e,p.dataMax-p.dataMin))),m-g<p.minRange&&(h=p.minRange,t=(h-m+g)/2,l=[g-t,C(f.min,g-t)],v&&(l[2]=p.isLog?p.log2lin(p.dataMin):p.dataMin),g=n(l),c=[g+h,C(f.max,g+h)],v&&(c[2]=p.isLog?p.log2lin(p.dataMax):p.dataMax),(m=r(c))-g<h&&(l[0]=m-h,l[1]=C(f.min,m-h),g=n(l))),p.min=g,p.max=m},getClosest:function(){var t;return this.categories?t=1:d(this.series,function(e){var i=e.closestPointRange,n=e.visible||!e.chart.options.chart.ignoreHiddenSeries;!e.noSharedTooltip&&u(i)&&n&&(t=u(t)?Math.min(t,i):i)}),t},nameToX:function(t){var e,i=b(this.categories),n=i?this.categories:this.names,r=t.options.x;return t.series.requireSorting=!1,u(r)||(r=!1===this.options.uniqueNames?t.series.autoIncrement():y(t.name,n)),-1===r?i||(e=n.length):e=r,this.names[e]=t.name,e},updateNames:function(){var t=this;this.names.length>0&&(this.names.length=0,this.minRange=void 0,d(this.series||[],function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(e.processData(),e.generatePoints()),d(e.points,function(i,n){var r;i.options&&void 0===i.options.x&&(r=t.nameToX(i))!==i.x&&(i.x=r,e.xData[n]=r)})}))},setAxisTranslation:function(t){var e,i,n=this,r=n.max-n.min,o=n.axisPointRange||0,s=0,a=0,l=n.linkedParent,u=!!n.categories,c=n.transA,h=n.isXAxis;(h||u||o)&&(e=n.getClosest(),l?(s=l.minPointOffset,a=l.pointRangePadding):d(n.series,function(t){var i=u?1:h?C(t.options.pointRange,e,0):n.axisPointRange||0,r=t.options.pointPlacement;o=Math.max(o,i),n.single||(s=Math.max(s,w(r)?0:i/2),a=Math.max(a,"on"===r?0:i))}),i=n.ordinalSlope&&e?n.ordinalSlope/e:1,n.minPointOffset=s*=i,n.pointRangePadding=a*=i,n.pointRange=Math.min(o,r),h&&(n.closestPointRange=e)),t&&(n.oldTransA=c),n.translationSlope=n.transA=c=n.len/(r+a||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=c*s},minFromRange:function(){return this.max-this.range},setTickInterval:function(e){var i,n,r,o,s,l,c,h=this,p=h.chart,g=h.options,v=h.isLog,y=h.log2lin,b=h.isDatetimeAxis,w=h.isXAxis,S=h.isLinked,T=g.maxPadding,A=g.minPadding,_=g.tickInterval,M=g.tickPixelInterval,E=h.categories,P=h.threshold,L=h.softThreshold;b||E||S||this.getTickAmount(),l=C(h.userMin,g.min),c=C(h.userMax,g.max),S?(h.linkedParent=p[h.coll][g.linkedTo],n=h.linkedParent.getExtremes(),h.min=C(n.min,n.dataMin),h.max=C(n.max,n.dataMax),g.type!==h.linkedParent.options.type&&t.error(11,1)):(!L&&u(P)&&(h.dataMin>=P?(o=P,A=0):h.dataMax<=P&&(s=P,T=0)),h.min=C(l,o,h.dataMin),h.max=C(c,s,h.dataMax)),v&&(!e&&Math.min(h.min,C(h.dataMin,h.min))<=0&&t.error(10,1),h.min=a(y(h.min),15),h.max=a(y(h.max),15)),h.range&&u(h.max)&&(h.userMin=h.min=l=Math.max(h.min,h.minFromRange()),h.userMax=c=h.max,h.range=null),f(h,"foundExtremes"),h.beforePadding&&h.beforePadding(),h.adjustForMinRange(),E||h.axisPointRange||h.usePercentage||S||!u(h.min)||!u(h.max)||(i=h.max-h.min)&&(!u(l)&&A&&(h.min-=i*A),!u(c)&&T&&(h.max+=i*T)),x(g.floor)?h.min=Math.max(h.min,g.floor):x(g.softMin)&&(h.min=Math.min(h.min,g.softMin)),x(g.ceiling)?h.max=Math.min(h.max,g.ceiling):x(g.softMax)&&(h.max=Math.max(h.max,g.softMax)),L&&u(h.dataMin)&&(P=P||0,!u(l)&&h.min<P&&h.dataMin>=P?h.min=P:!u(c)&&h.max>P&&h.dataMax<=P&&(h.max=P)),h.min===h.max||void 0===h.min||void 0===h.max?h.tickInterval=1:S&&!_&&M===h.linkedParent.options.tickPixelInterval?h.tickInterval=_=h.linkedParent.tickInterval:h.tickInterval=C(_,this.tickAmount?(h.max-h.min)/Math.max(this.tickAmount-1,1):void 0,E?1:(h.max-h.min)*M/Math.max(h.len,M)),w&&!e&&d(h.series,function(t){t.processData(h.min!==h.oldMin||h.max!==h.oldMax)}),h.setAxisTranslation(!0),h.beforeSetTickPositions&&h.beforeSetTickPositions(),h.postProcessTickInterval&&(h.tickInterval=h.postProcessTickInterval(h.tickInterval)),h.pointRange&&!_&&(h.tickInterval=Math.max(h.pointRange,h.tickInterval)),r=C(g.minTickInterval,h.isDatetimeAxis&&h.closestPointRange),!_&&h.tickInterval<r&&(h.tickInterval=r),b||v||_||(h.tickInterval=k(h.tickInterval,null,m(h.tickInterval),C(g.allowDecimals,!(h.tickInterval>.5&&h.tickInterval<5&&h.max>1e3&&h.max<9999)),!!this.tickAmount)),this.tickAmount||(h.tickInterval=h.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,e,i=this.options,n=i.tickPositions,r=i.tickPositioner,o=i.startOnTick,s=i.endOnTick;this.tickmarkOffset=this.categories&&"between"===i.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===i.minorTickInterval&&this.tickInterval?this.tickInterval/5:i.minorTickInterval,this.tickPositions=t=n&&n.slice(),t||(t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,i.units),this.min,this.max,i.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&(t=[t[0],t.pop()]),this.tickPositions=t,r&&(r=r.apply(this,[this.min,this.max]))&&(this.tickPositions=t=r)),this.isLinked||(this.trimTicks(t,o,s),this.min===this.max&&u(this.min)&&!this.tickAmount&&(e=!0,this.min-=.5,this.max+=.5),this.single=e,n||r||this.adjustTickAmount())},trimTicks:function(t,e,i){var n=t[0],r=t[t.length-1],o=this.minPointOffset||0;if(e)this.min=n;else for(;this.min-o>t[0];)t.shift();if(i)this.max=r;else for(;this.max+o<t[t.length-1];)t.pop();0===t.length&&u(n)&&t.push((r+n)/2)},alignToOthers:function(){var t,e={},i=this.options;return!1===this.chart.options.chart.alignTicks||!1===i.alignTicks||this.isLog||d(this.chart[this.coll],function(i){var n=i.options,r=i.horiz,o=[r?n.left:n.top,n.width,n.height,n.pane].join(",");i.series.length&&(e[o]?t=!0:e[o]=1)}),t},getTickAmount:function(){var t=this.options,e=t.tickAmount,i=t.tickPixelInterval;!u(t.tickInterval)&&this.len<i&&!this.isRadial&&!this.isLog&&t.startOnTick&&t.endOnTick&&(e=2),!e&&this.alignToOthers()&&(e=Math.ceil(this.len/i)+1),e<4&&(this.finalTickAmt=e,e=5),this.tickAmount=e},adjustTickAmount:function(){var t,e,i=this.tickInterval,n=this.tickPositions,r=this.tickAmount,o=this.finalTickAmt,s=n&&n.length;if(s<r){for(;n.length<r;)n.push(a(n[n.length-1]+i));this.transA*=(s-1)/(r-1),this.max=n[n.length-1]}else s>r&&(this.tickInterval*=2,this.setTickPositions());if(u(o)){for(t=e=n.length;t--;)(3===o&&t%2==1||o<=2&&t>0&&t<e-1)&&n.splice(t,1);this.finalTickAmt=void 0}},setScale:function(){var t,e,i=this;i.oldMin=i.min,i.oldMax=i.max,i.oldAxisLength=i.len,i.setAxisSize(),e=i.len!==i.oldAxisLength,d(i.series,function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(t=!0)}),e||t||i.isLinked||i.forceRedraw||i.userMin!==i.oldUserMin||i.userMax!==i.oldUserMax||i.alignToOthers()?(i.resetStacks&&i.resetStacks(),i.forceRedraw=!1,i.getSeriesExtremes(),i.setTickInterval(),i.oldUserMin=i.userMin,i.oldUserMax=i.userMax,i.isDirty||(i.isDirty=e||i.min!==i.oldMin||i.max!==i.oldMax)):i.cleanStacks&&i.cleanStacks()},setExtremes:function(t,e,i,n,r){var o=this,s=o.chart;i=C(i,!0),d(o.series,function(t){delete t.kdTree}),r=p(r,{min:t,max:e}),f(o,"setExtremes",r,function(){o.userMin=t,o.userMax=e,o.eventArgs=r,i&&s.redraw(n)})},zoom:function(t,e){var i=this.dataMin,n=this.dataMax,r=this.options,o=Math.min(i,C(r.min,i)),s=Math.max(n,C(r.max,n));return t===this.min&&e===this.max||(this.allowZoomOutside||(u(i)&&(t<o&&(t=o),t>s&&(t=s)),u(n)&&(e<o&&(e=o),e>s&&(e=s))),this.displayBtn=void 0!==t||void 0!==e,this.setExtremes(t,e,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,e=this.options,i=e.offsetLeft||0,n=e.offsetRight||0,r=this.horiz,o=C(e.width,t.plotWidth-i+n),s=C(e.height,t.plotHeight),a=C(e.top,t.plotTop),l=C(e.left,t.plotLeft+i),u=/%$/;u.test(s)&&(s=Math.round(parseFloat(s)/100*t.plotHeight)),u.test(a)&&(a=Math.round(parseFloat(a)/100*t.plotHeight+t.plotTop)),this.left=l,this.top=a,this.width=o,this.height=s,this.bottom=t.chartHeight-s-a,this.right=t.chartWidth-o-l,this.len=Math.max(r?o:s,0),this.pos=r?l:a},getExtremes:function(){var t=this,e=t.isLog,i=t.lin2log;return{min:e?a(i(t.min)):t.min,max:e?a(i(t.max)):t.max,dataMin:t.dataMin,dataMax:t.dataMax,userMin:t.userMin,userMax:t.userMax}},getThreshold:function(t){var e=this,i=e.isLog,n=e.lin2log,r=i?n(e.min):e.min,o=i?n(e.max):e.max;return null===t?t=r:r>t?t=r:o<t&&(t=o),e.translate(t,0,1,0,1)},autoLabelAlign:function(t){var e=(C(t,0)-90*this.side+720)%360;return e>15&&e<165?"right":e>195&&e<345?"left":"center"},tickSize:function(t){var e=this.options,i=e[t+"Length"],n=C(e[t+"Width"],"tick"===t&&this.isXAxis?1:0);if(n&&i)return"inside"===e[t+"Position"]&&(i=-i),[i,n]},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var t,e,i,n=this.options.labels,r=this.horiz,o=this.tickInterval,s=o,a=this.len/(((this.categories?1:0)+this.max-this.min)/o),l=n.rotation,h=this.labelMetrics(),p=Number.MAX_VALUE,f=function(t){var e=t/(a||1);return(e=e>1?Math.ceil(e):1)*o};return r?(i=!n.staggerLines&&!n.step&&(u(l)?[l]:a<C(n.autoRotationLimit,80)&&n.autoRotation))&&d(i,function(i){var n;(i===l||i&&i>=-90&&i<=90)&&(e=f(Math.abs(h.h/Math.sin(c*i))),(n=e+Math.abs(i/360))<p&&(p=n,t=i,s=e))}):n.step||(s=f(h.h)),this.autoRotation=i,this.labelRotation=C(t,l),s},getSlotWidth:function(){var t=this.chart,e=this.horiz,i=this.options.labels,n=Math.max(this.tickPositions.length-(this.categories?0:1),1),r=t.margin[3];return e&&(i.step||0)<2&&!i.rotation&&(this.staggerLines||1)*t.plotWidth/n||!e&&(r&&r-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var t,e,i,n,r=this.chart,o=r.renderer,s=this.tickPositions,a=this.ticks,l=this.options.labels,u=this.horiz,c=this.getSlotWidth(),h=Math.max(1,Math.round(c-2*(l.padding||5))),p={},f=this.labelMetrics(),g=l.style&&l.style.textOverflow,m=0;if(w(l.rotation)||(p.rotation=l.rotation||0),d(s,function(t){(t=a[t])&&t.labelLength>m&&(m=t.labelLength)}),this.maxLabelLength=m,this.autoRotation)m>h&&m>f.h?p.rotation=this.labelRotation:this.labelRotation=0;else if(c&&(t={width:h+"px"},!g))for(t.textOverflow="clip",i=s.length;!u&&i--;)n=s[i],(e=a[n].label)&&(e.styles&&"ellipsis"===e.styles.textOverflow?e.css({textOverflow:"clip"}):a[n].labelLength>c&&e.css({width:c+"px"}),e.getBBox().height>this.len/s.length-(f.h-f.f)&&(e.specCss={textOverflow:"ellipsis"}));p.rotation&&(t={width:(m>.5*r.chartHeight?.33*r.chartHeight:r.chartHeight)+"px"},g||(t.textOverflow="ellipsis")),this.labelAlign=l.align||this.autoLabelAlign(this.labelRotation),this.labelAlign&&(p.align=this.labelAlign),d(s,function(e){var i=a[e],n=i&&i.label;n&&(n.attr(p),t&&n.css(S(t,n.specCss)),delete n.specCss,i.rotation=p.rotation)}),this.tickRotCorr=o.rotCorr(f.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||u(this.min)&&u(this.max)&&!!this.tickPositions},addTitle:function(t){var e,i=this,n=i.chart.renderer,r=i.horiz,o=i.opposite,s=i.options,a=s.title;i.axisTitle||(e=a.textAlign,e||(e=(r?{low:"left",middle:"center",high:"right"}:{low:o?"right":"left",middle:"center",high:o?"left":"right"})[a.align]),i.axisTitle=n.text(a.text,0,0,a.useHTML).attr({zIndex:7,rotation:a.rotation||0,align:e}).addClass("highcharts-axis-title").css(a.style).add(i.axisGroup),i.axisTitle.isNew=!0),i.axisTitle[t?"show":"hide"](!0)},getOffset:function(){var t,e,i,n,r,o,s,a=this,l=a.chart,c=l.renderer,h=a.options,p=a.tickPositions,f=a.ticks,g=a.horiz,m=a.side,v=l.inverted?[1,0,3,2][m]:m,y=0,b=0,x=h.title,w=h.labels,S=0,k=l.axisOffset,T=l.clipOffset,A=[-1,1,1,-1][m],_=h.className,M=a.axisParent,P=this.tickSize("tick");if(t=a.hasData(),a.showAxis=e=t||C(h.showEmpty,!0),a.staggerLines=a.horiz&&w.staggerLines,a.axisGroup||(a.gridGroup=c.g("grid").attr({zIndex:h.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(_||"")).add(M),a.axisGroup=c.g("axis").attr({zIndex:h.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(_||"")).add(M),a.labelGroup=c.g("axis-labels").attr({zIndex:w.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels "+(_||"")).add(M)),t||a.isLinked)d(p,function(t){f[t]?f[t].addLabel():f[t]=new E(a,t)}),a.renderUnsquish(),!1===w.reserveSpace||0!==m&&2!==m&&{1:"left",3:"right"}[m]!==a.labelAlign&&"center"!==a.labelAlign||d(p,function(t){S=Math.max(f[t].getLabelSize(),S)}),a.staggerLines&&(S*=a.staggerLines,a.labelOffset=S*(a.opposite?-1:1));else for(o in f)f[o].destroy(),delete f[o];x&&x.text&&!1!==x.enabled&&(a.addTitle(e),e&&(y=a.axisTitle.getBBox()[g?"height":"width"],i=x.offset,b=u(i)?0:C(x.margin,g?5:10))),a.renderLine(),a.offset=A*C(h.offset,k[m]),a.tickRotCorr=a.tickRotCorr||{x:0,y:0},s=0===m?-a.labelMetrics().h:2===m?a.tickRotCorr.y:0,n=Math.abs(S)+b,S&&(n-=s,n+=A*(g?C(w.y,a.tickRotCorr.y+8*A):w.x)),a.axisTitleMargin=C(i,n),k[m]=Math.max(k[m],a.axisTitleMargin+y+A*a.offset,n,t&&p.length&&P?P[0]:0),r=h.offset?0:2*Math.floor(a.axisLine.strokeWidth()/2),T[v]=Math.max(T[v],r)},getLinePath:function(t){var e=this.chart,i=this.opposite,n=this.offset,r=this.horiz,o=this.left+(i?this.width:0)+n,s=e.chartHeight-this.bottom-(i?this.height:0)+n;return i&&(t*=-1),e.renderer.crispLine(["M",r?this.left:o,r?s:this.top,"L",r?e.chartWidth-this.right:o,r?s:e.chartHeight-this.bottom],t)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var t=this.horiz,e=this.left,i=this.top,n=this.len,r=this.options.title,o=t?e:i,s=this.opposite,a=this.offset,l=r.x||0,u=r.y||0,c=this.chart.renderer.fontMetrics(r.style&&r.style.fontSize,this.axisTitle).f,h={low:o+(t?0:n),middle:o+n/2,high:o+(t?n:0)}[r.align],d=(t?i+this.height:e)+(t?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:t?h+l:d+(s?this.width:0)+a+l,y:t?d+u-(s?this.height:0)+a:h+u}},render:function(){var t,e,n=this,r=n.chart,o=r.renderer,s=n.options,a=n.isLog,l=n.lin2log,u=n.isLinked,c=n.tickPositions,h=n.axisTitle,p=n.ticks,f=n.minorTicks,g=n.alternateBands,m=s.stackLabels,v=s.alternateGridColor,y=n.tickmarkOffset,b=n.axisLine,w=r.hasRendered,S=w&&x(n.oldMin),k=n.showAxis,C=i(o.globalAnimation);n.labelEdge.length=0,n.overlap=!1,d([p,f,g],function(t){var e;for(e in t)t[e].isActive=!1}),(n.hasData()||u)&&(n.minorTickInterval&&!n.categories&&d(n.getMinorTickPositions(),function(t){f[t]||(f[t]=new E(n,t,"minor")),S&&f[t].isNew&&f[t].render(null,!0),f[t].render(null,!1,1)}),c.length&&(d(c,function(t,e){(!u||t>=n.min&&t<=n.max)&&(p[t]||(p[t]=new E(n,t)),S&&p[t].isNew&&p[t].render(e,!0,.1),p[t].render(e))}),y&&(0===n.min||n.single)&&(p[-1]||(p[-1]=new E(n,-1,null,!0)),p[-1].render(-1))),v&&d(c,function(i,o){e=void 0!==c[o+1]?c[o+1]+y:n.max-y,o%2==0&&i<n.max&&e<=n.max+(r.polar?-y:y)&&(g[i]||(g[i]=new T(n)),t=i+y,g[i].options={from:a?l(t):t,to:a?l(e):e,color:v},g[i].render(),g[i].isActive=!0)}),n._addedPlotLB||(d((s.plotLines||[]).concat(s.plotBands||[]),function(t){n.addPlotBandOrLine(t)}),n._addedPlotLB=!0)),d([p,f,g],function(t){var e,i,n=[],o=C.duration,s=function(){for(i=n.length;i--;)t[n[i]]&&!t[n[i]].isActive&&(t[n[i]].destroy(),delete t[n[i]])};for(e in t)t[e].isActive||(t[e].render(e,!1,0),t[e].isActive=!1,n.push(e));M(s,t!==g&&r.hasRendered&&o?o:0)}),b&&(b[b.isPlaced?"animate":"attr"]({d:this.getLinePath(b.strokeWidth())}),b.isPlaced=!0,b[k?"show":"hide"](!0)),h&&k&&(h[h.isNew?"attr":"animate"](n.getTitlePosition()),h.isNew=!1),m&&m.enabled&&n.renderStackTotals(),n.isDirty=!1},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,function(t){t.render()})),d(this.series,function(t){
t.isDirty=!0})},keepProps:["extKey","hcEvents","names","series","userMax","userMin"],destroy:function(t){var e,i,n,r=this,o=r.stacks,s=r.plotLinesAndBands;t||A(r);for(e in o)h(o[e]),o[e]=null;if(d([r.ticks,r.minorTicks,r.alternateBands],function(t){h(t)}),s)for(i=s.length;i--;)s[i].destroy();d(["stackTotalGroup","axisLine","axisTitle","axisGroup","gridGroup","labelGroup","cross"],function(t){r[t]&&(r[t]=r[t].destroy())});for(n in r)r.hasOwnProperty(n)&&-1===y(n,r.keepProps)&&delete r[n]},drawCrosshair:function(t,e){var i,n,r,o=this.crosshair,a=C(o.snap,!0),l=this.cross;if(t||(t=this.cross&&this.cross.e),this.crosshair&&!1!==(u(e)||!a)){if(a?u(e)&&(n=this.isXAxis?e.plotX:this.len-e.plotY):n=t&&(this.horiz?t.chartX-this.pos:this.len-t.chartY+this.pos),u(n)&&(i=this.getPlotLinePath(e&&(this.isXAxis?e.x:C(e.stackY,e.y)),null,null,null,n)||null),!u(i))return void this.hideCrosshair();r=this.categories&&!this.isRadial,l||(this.cross=l=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(r?"category ":"thin ")+o.className).attr({zIndex:C(o.zIndex,2)}).add(),l.attr({stroke:o.color||(r?s("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":C(o.width,1)}),o.dashStyle&&l.attr({dashstyle:o.dashStyle})),l.show().attr({d:i}),r&&!o.width&&l.attr({"stroke-width":this.transA}),this.cross.e=t}else this.hideCrosshair()},hideCrosshair:function(){this.cross&&this.cross.hide()}},p(t.Axis.prototype,o)}(e),function(t){"use strict";var e=t.Axis,i=t.Date,n=t.dateFormat,r=t.defaultOptions,o=t.defined,s=t.each,a=t.extend,l=t.getMagnitude,u=t.getTZOffset,c=t.normalizeTickInterval,h=t.pick,d=t.timeUnits;e.prototype.getTimeTicks=function(t,e,l,c){var p,f,g,m=[],v={},y=r.global.useUTC,b=new i(e-u(e)),x=i.hcMakeTime,w=t.unitRange,S=t.count;if(o(e)){b[i.hcSetMilliseconds](w>=d.second?0:S*Math.floor(b.getMilliseconds()/S)),w>=d.second&&b[i.hcSetSeconds](w>=d.minute?0:S*Math.floor(b.getSeconds()/S)),w>=d.minute&&b[i.hcSetMinutes](w>=d.hour?0:S*Math.floor(b[i.hcGetMinutes]()/S)),w>=d.hour&&b[i.hcSetHours](w>=d.day?0:S*Math.floor(b[i.hcGetHours]()/S)),w>=d.day&&b[i.hcSetDate](w>=d.month?1:S*Math.floor(b[i.hcGetDate]()/S)),w>=d.month&&(b[i.hcSetMonth](w>=d.year?0:S*Math.floor(b[i.hcGetMonth]()/S)),f=b[i.hcGetFullYear]()),w>=d.year&&(f-=f%S,b[i.hcSetFullYear](f)),w===d.week&&b[i.hcSetDate](b[i.hcGetDate]()-b[i.hcGetDay]()+h(c,1)),f=b[i.hcGetFullYear]();var k=b[i.hcGetMonth](),C=b[i.hcGetDate](),T=b[i.hcGetHours]();(i.hcTimezoneOffset||i.hcGetTimezoneOffset)&&(g=(!y||!!i.hcGetTimezoneOffset)&&(l-e>4*d.month||u(e)!==u(l)),b=b.getTime(),b=new i(b+u(b)));var A=b.getTime();for(p=1;A<l;)m.push(A),w===d.year?A=x(f+p*S,0):w===d.month?A=x(f,k+p*S):!g||w!==d.day&&w!==d.week?g&&w===d.hour?A=x(f,k,C,T+p*S):A+=w*S:A=x(f,k,C+p*S*(w===d.day?1:7)),p++;m.push(A),w<=d.hour&&s(m,function(t){"000000000"===n("%H%M%S%L",t)&&(v[t]="day")})}return m.info=a(t,{higherRanks:v,totalRange:w*S}),m},e.prototype.normalizeTimeTickInterval=function(t,e){var i,n,r=e||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],o=r[r.length-1],s=d[o[0]],a=o[1];for(n=0;n<r.length;n++)if(o=r[n],s=d[o[0]],a=o[1],r[n+1]){var u=(s*a[a.length-1]+d[r[n+1][0]])/2;if(t<=u)break}return s===d.year&&t<5*s&&(a=[1,2,5]),i=c(t/s,a,"year"===o[0]?Math.max(l(t/s),1):1),{unitRange:s,count:i,unitName:o[0]}}}(e),function(t){"use strict";var e=t.Axis,i=t.getMagnitude,n=t.map,r=t.normalizeTickInterval,o=t.pick;e.prototype.getLogTickPositions=function(t,e,s,a){var l=this,u=l.options,c=l.len,h=l.lin2log,d=l.log2lin,p=[];if(a||(l._minorAutoInterval=null),t>=.5)t=Math.round(t),p=l.getLinearTickPositions(t,e,s);else if(t>=.08){var f,g,m,v,y,b,x,w=Math.floor(e);for(f=t>.3?[1,2,4]:t>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9],g=w;g<s+1&&!x;g++)for(v=f.length,m=0;m<v&&!x;m++)y=d(h(g)*f[m]),y>e&&(!a||b<=s)&&void 0!==b&&p.push(b),b>s&&(x=!0),b=y}else{var S=h(e),k=h(s),C=u[a?"minorTickInterval":"tickInterval"],T="auto"===C?null:C,A=u.tickPixelInterval/(a?5:1),_=a?c/l.tickPositions.length:c;t=o(T,l._minorAutoInterval,(k-S)*A/(_||1)),t=r(t,null,i(t)),p=n(l.getLinearTickPositions(t,S,k),d),a||(l._minorAutoInterval=t/5)}return a||(l.tickInterval=t),p},e.prototype.log2lin=function(t){return Math.log(t)/Math.LN10},e.prototype.lin2log=function(t){return Math.pow(10,t)}}(e),function(t){"use strict";var e=t.dateFormat,i=t.each,n=t.extend,r=t.format,o=t.isNumber,s=t.map,a=t.merge,l=t.pick,u=t.splat,c=t.syncTimeout,h=t.timeUnits;t.Tooltip=function(){this.init.apply(this,arguments)},t.Tooltip.prototype={init:function(t,e){this.chart=t,this.options=e,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=e.split&&!t.inverted,this.shared=e.shared||this.split},cleanSplit:function(t){i(this.chart.series,function(e){var i=e&&e.tt;i&&(!i.isActive||t?e.tt=i.destroy():i.isActive=!1)})},getLabel:function(){var t=this.chart.renderer,e=this.options;return this.label||(this.split?this.label=t.g("tooltip"):(this.label=t.label("",0,0,e.shape||"callout",null,null,e.useHTML,null,"tooltip").attr({padding:e.padding,r:e.borderRadius}),this.label.attr({fill:e.backgroundColor,"stroke-width":e.borderWidth}).css(e.style).shadow(e.shadow)),this.label.attr({zIndex:8}).add()),this.label},update:function(t){this.destroy(),this.init(this.chart,a(!0,this.options,t))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,e,i,r){var o=this,s=o.now,a=!1!==o.options.animation&&!o.isHidden&&(Math.abs(t-s.x)>1||Math.abs(e-s.y)>1),l=o.followPointer||o.len>1;n(s,{x:a?(2*s.x+t)/3:t,y:a?(s.y+e)/2:e,anchorX:l?void 0:a?(2*s.anchorX+i)/3:i,anchorY:l?void 0:a?(s.anchorY+r)/2:r}),o.getLabel().attr(s),a&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,e,i,r)},32))},hide:function(t){var e=this;clearTimeout(this.hideTimer),t=l(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=c(function(){e.getLabel()[t?"fadeOut":"hide"](),e.isHidden=!0},t))},getAnchor:function(t,e){var n,r,o,a=this.chart,l=a.inverted,c=a.plotTop,h=a.plotLeft,d=0,p=0;return t=u(t),n=t[0].tooltipPos,this.followPointer&&e&&(void 0===e.chartX&&(e=a.pointer.normalize(e)),n=[e.chartX-a.plotLeft,e.chartY-c]),n||(i(t,function(t){r=t.series.yAxis,o=t.series.xAxis,d+=t.plotX+(!l&&o?o.left-h:0),p+=(t.plotLow?(t.plotLow+t.plotHigh)/2:t.plotY)+(!l&&r?r.top-c:0)}),d/=t.length,p/=t.length,n=[l?a.plotWidth-p:d,this.shared&&!l&&t.length>1&&e?e.chartY-c:l?a.plotHeight-d:p]),s(n,Math.round)},getPosition:function(t,e,i){var n,r=this.chart,o=this.distance,s={},a=i.h||0,u=["y",r.chartHeight,e,i.plotY+r.plotTop,r.plotTop,r.plotTop+r.plotHeight],c=["x",r.chartWidth,t,i.plotX+r.plotLeft,r.plotLeft,r.plotLeft+r.plotWidth],h=!this.followPointer&&l(i.ttBelow,!r.inverted==!!i.negative),d=function(t,e,i,n,r,l){var u=i<n-o,c=n+o+i<e,d=n-o-i,p=n+o;if(h&&c)s[t]=p;else if(!h&&u)s[t]=d;else if(u)s[t]=Math.min(l-i,d-a<0?d:d-a);else{if(!c)return!1;s[t]=Math.max(r,p+a+i>e?p:p+a)}},p=function(t,e,i,n){var r;return n<o||n>e-o?r=!1:s[t]=n<i/2?1:n>e-i/2?e-i-2:n-i/2,r},f=function(t){var e=u;u=c,c=e,n=t},g=function(){!1!==d.apply(0,u)?!1!==p.apply(0,c)||n||(f(!0),g()):n?s.x=s.y=0:(f(!0),g())};return(r.inverted||this.len>1)&&f(),g(),s},defaultFormatter:function(t){var e,i=this.points||u(this);return e=[t.tooltipFooterHeaderFormatter(i[0])],e=e.concat(t.bodyFormatter(i)),e.push(t.tooltipFooterHeaderFormatter(i[0],!0)),e},refresh:function(t,e){var n,r,o,s,a,c,h=this,d=h.chart,p=h.options,f={},g=[],m=p.formatter||h.defaultFormatter,v=d.hoverPoints,y=h.shared;clearTimeout(this.hideTimer),h.followPointer=u(t)[0].series.tooltipOptions.followPointer,s=h.getAnchor(t,e),r=s[0],o=s[1],!y||t.series&&t.series.noSharedTooltip?f=t.getLabelConfig():(d.hoverPoints=t,v&&i(v,function(t){t.setState()}),i(t,function(t){t.setState("hover"),g.push(t.getLabelConfig())}),f={x:t[0].category,y:t[0].y},f.points=g,this.len=g.length,t=t[0]),a=m.call(f,h),c=t.series,this.distance=l(c.tooltipOptions.distance,16),!1===a?this.hide():(n=h.getLabel(),h.isHidden&&n.attr({opacity:1}).show(),h.split?this.renderSplit(a,d.hoverPoints):(n.attr({text:a&&a.join?a.join(""):a}),n.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+l(t.colorIndex,c.colorIndex)),n.attr({stroke:p.borderColor||t.color||c.color||"#666666"}),h.updatePosition({plotX:r,plotY:o,negative:t.negative,ttBelow:t.ttBelow,h:s[2]||0})),this.isHidden=!1)},renderSplit:function(e,n){var r,o=this,s=[],a=this.chart,u=a.renderer,c=!0,h=this.options,d=this.getLabel();i(e.slice(0,e.length-1),function(t,e){var i,p,f,g,m=n[e-1]||{isHeader:!0,plotX:n[0].plotX},v=m.series||o,y=v.tt,b=m.series||{},x="highcharts-color-"+l(m.colorIndex,b.colorIndex,"none");y||(v.tt=y=u.label(null,null,null,"callout").addClass("highcharts-tooltip-box "+x).attr({padding:h.padding,r:h.borderRadius,fill:h.backgroundColor,stroke:m.color||b.color||"#333333","stroke-width":h.borderWidth}).add(d)),y.isActive=!0,y.attr({text:t}),y.css(h.style),f=y.getBBox(),g=f.width+y.strokeWidth(),m.isHeader?(r=f.height,p=Math.max(0,Math.min(m.plotX+a.plotLeft-g/2,a.chartWidth-g))):p=m.plotX+a.plotLeft-l(h.distance,16)-g,p<0&&(c=!1),i=(m.series&&m.series.yAxis&&m.series.yAxis.pos)+(m.plotY||0),i-=a.plotTop,s.push({target:m.isHeader?a.plotHeight+r:i,rank:m.isHeader?1:0,size:v.tt.getBBox().height+1,point:m,x:p,tt:y})}),this.cleanSplit(),t.distribute(s,a.plotHeight+r),i(s,function(t){var e=t.point,i=e.series;t.tt.attr({visibility:void 0===t.pos?"hidden":"inherit",x:c||e.isHeader?t.x:e.plotX+a.plotLeft+l(h.distance,16),y:t.pos+a.plotTop,anchorX:e.isHeader?e.plotX+a.plotLeft:e.plotX+i.xAxis.pos,anchorY:e.isHeader?t.pos+a.plotTop-15:e.plotY+i.yAxis.pos})})},updatePosition:function(t){var e=this.chart,i=this.getLabel(),n=(this.options.positioner||this.getPosition).call(this,i.width,i.height,t);this.move(Math.round(n.x),Math.round(n.y||0),t.plotX+e.plotLeft,t.plotY+e.plotTop)},getXDateFormat:function(t,i,n){var r,o,s,a=i.dateTimeLabelFormats,l=n&&n.closestPointRange,u="01-01 00:00:00.000",c={millisecond:15,second:12,minute:9,hour:6,day:3},d="millisecond";if(l){s=e("%m-%d %H:%M:%S.%L",t.x);for(o in h){if(l===h.week&&+e("%w",t.x)===n.options.startOfWeek&&s.substr(6)===u.substr(6)){o="week";break}if(h[o]>l){o=d;break}if(c[o]&&s.substr(c[o])!==u.substr(c[o]))break;"week"!==o&&(d=o)}o&&(r=a[o])}else r=a.day;return r||a.year},tooltipFooterHeaderFormatter:function(t,e){var i=e?"footer":"header",n=t.series,s=n.tooltipOptions,a=s.xDateFormat,l=n.xAxis,u=l&&"datetime"===l.options.type&&o(t.key),c=s[i+"Format"];return u&&!a&&(a=this.getXDateFormat(t,s,l)),u&&a&&(c=c.replace("{point.key}","{point.key:"+a+"}")),r(c,{point:t,series:n})},bodyFormatter:function(t){return s(t,function(t){var e=t.series.tooltipOptions;return(e.pointFormatter||t.point.tooltipFormatter).call(t.point,e.pointFormat)})}}}(e),function(t){"use strict";var e=t.addEvent,i=t.attr,n=t.charts,r=t.color,o=t.css,s=t.defined,a=t.doc,l=t.each,u=t.extend,c=t.fireEvent,h=t.offset,d=t.pick,p=t.removeEvent,f=t.splat,g=t.Tooltip,m=t.win;t.Pointer=function(t,e){this.init(t,e)},t.Pointer.prototype={init:function(t,e){this.options=e,this.chart=t,this.runChartClick=e.chart.events&&!!e.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&e.tooltip.enabled&&(t.tooltip=new g(t,e.tooltip),this.followTouchMove=d(e.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(t){var e,i,n=this.chart,r=n.options.chart,o=r.zoomType||"",s=n.inverted;/touch/.test(t.type)&&(o=d(r.pinchType,o)),this.zoomX=e=/x/.test(o),this.zoomY=i=/y/.test(o),this.zoomHor=e&&!s||i&&s,this.zoomVert=i&&!s||e&&s,this.hasZoom=e||i},normalize:function(t,e){var i,n,r;return t=t||m.event,t.target||(t.target=t.srcElement),r=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,e||(this.chartPosition=e=h(this.chart.container)),void 0===r.pageX?(i=Math.max(t.x,t.clientX-e.left),n=t.y):(i=r.pageX-e.left,n=r.pageY-e.top),u(t,{chartX:Math.round(i),chartY:Math.round(n)})},getCoordinates:function(t){var e={xAxis:[],yAxis:[]};return l(this.chart.axes,function(i){e[i.isXAxis?"xAxis":"yAxis"].push({axis:i,value:i.toValue(t[i.horiz?"chartX":"chartY"])})}),e},runPointActions:function(i){var r,o,s,u,c,h,p,f=this,g=f.chart,m=g.series,v=g.tooltip,y=!!v&&v.shared,b=!0,x=g.hoverPoint,w=g.hoverSeries,S=[];if(!y&&!w)for(o=0;o<m.length;o++)!m[o].directTouch&&m[o].options.stickyTracking||(m=[]);if(c=w&&(y?w.noSharedTooltip:w.directTouch),c&&x?S=[x]:(y||!w||w.options.stickyTracking||(m=[w]),l(m,function(t){u=t.noSharedTooltip&&y,h=!y&&t.directTouch,t.visible&&!u&&!h&&d(t.options.enableMouseTracking,!0)&&(p=t.searchPoint(i,!u&&1===t.kdDimensions))&&p.series&&S.push(p)}),S.sort(function(t,e){var i=t.distX-e.distX,n=t.dist-e.dist,r=e.series.group.zIndex-t.series.group.zIndex;return 0!==i&&y?i:0!==n?n:0!==r?r:t.series.index>e.series.index?-1:1})),y)for(o=S.length;o--;)(S[o].x!==S[0].x||S[o].series.noSharedTooltip)&&S.splice(o,1);if(S[0]&&(S[0]!==this.prevKDPoint||v&&v.isHidden)){if(y&&!S[0].series.noSharedTooltip){for(o=0;o<S.length;o++)S[o].onMouseOver(i,S[o]!==(w&&w.directTouch&&x||S[0]));S.length&&v&&v.refresh(S.sort(function(t,e){return t.series.index-e.series.index}),i)}else v&&v.refresh(S[0],i),w&&w.directTouch||S[0].onMouseOver(i);this.prevKDPoint=S[0],b=!1}b&&(r=w&&w.tooltipOptions.followPointer,v&&r&&!v.isHidden&&(s=v.getAnchor([{}],i),v.updatePosition({plotX:s[0],plotY:s[1]}))),f.unDocMouseMove||(f.unDocMouseMove=e(a,"mousemove",function(e){n[t.hoverChartIndex]&&n[t.hoverChartIndex].pointer.onDocumentMouseMove(e)})),l(y?S:[d(x,S[0])],function(t){l(g.axes,function(e){(!t||t.series&&t.series[e.coll]===e)&&e.drawCrosshair(i,t)})})},reset:function(t,e){var i=this,n=i.chart,r=n.hoverSeries,o=n.hoverPoint,s=n.hoverPoints,a=n.tooltip,u=a&&a.shared?s:o;t&&u&&l(f(u),function(e){e.series.isCartesian&&void 0===e.plotX&&(t=!1)}),t?a&&u&&(a.refresh(u),o&&(o.setState(o.state,!0),l(n.axes,function(t){t.crosshair&&t.drawCrosshair(null,o)}))):(o&&o.onMouseOut(),s&&l(s,function(t){t.setState()}),r&&r.onMouseOut(),a&&a.hide(e),i.unDocMouseMove&&(i.unDocMouseMove=i.unDocMouseMove()),l(n.axes,function(t){t.hideCrosshair()}),i.hoverX=i.prevKDPoint=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(t,e){var i,n=this.chart;l(n.series,function(r){i=t||r.getPlotBox(),r.xAxis&&r.xAxis.zoomEnabled&&r.group&&(r.group.attr(i),r.markerGroup&&(r.markerGroup.attr(i),r.markerGroup.clip(e?n.clipRect:null)),r.dataLabelsGroup&&r.dataLabelsGroup.attr(i))}),n.clipRect.attr(e||n.clipBox)},dragStart:function(t){var e=this.chart;e.mouseIsDown=t.type,e.cancelClick=!1,e.mouseDownX=this.mouseDownX=t.chartX,e.mouseDownY=this.mouseDownY=t.chartY},drag:function(t){var e,i,n=this.chart,o=n.options.chart,s=t.chartX,a=t.chartY,l=this.zoomHor,u=this.zoomVert,c=n.plotLeft,h=n.plotTop,d=n.plotWidth,p=n.plotHeight,f=this.selectionMarker,g=this.mouseDownX,m=this.mouseDownY,v=o.panKey&&t[o.panKey+"Key"];f&&f.touch||(s<c?s=c:s>c+d&&(s=c+d),a<h?a=h:a>h+p&&(a=h+p),this.hasDragged=Math.sqrt(Math.pow(g-s,2)+Math.pow(m-a,2)),this.hasDragged>10&&(e=n.isInsidePlot(g-c,m-h),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&e&&!v&&(f||(this.selectionMarker=f=n.renderer.rect(c,h,l?1:d,u?1:p,0).attr({fill:o.selectionMarkerFill||r("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add())),f&&l&&(i=s-g,f.attr({width:Math.abs(i),x:(i>0?0:i)+g})),f&&u&&(i=a-m,f.attr({height:Math.abs(i),y:(i>0?0:i)+m})),e&&!f&&o.panning&&n.pan(t,o.panning)))},drop:function(t){var e=this,i=this.chart,n=this.hasPinched;if(this.selectionMarker){var r,a={originalEvent:t,xAxis:[],yAxis:[]},h=this.selectionMarker,d=h.attr?h.attr("x"):h.x,p=h.attr?h.attr("y"):h.y,f=h.attr?h.attr("width"):h.width,g=h.attr?h.attr("height"):h.height;(this.hasDragged||n)&&(l(i.axes,function(i){if(i.zoomEnabled&&s(i.min)&&(n||e[{xAxis:"zoomX",yAxis:"zoomY"}[i.coll]])){var o=i.horiz,l="touchend"===t.type?i.minPixelPadding:0,u=i.toValue((o?d:p)+l),c=i.toValue((o?d+f:p+g)-l);a[i.coll].push({axis:i,min:Math.min(u,c),max:Math.max(u,c)}),r=!0}}),r&&c(i,"selection",a,function(t){i.zoom(u(t,n?{animation:!1}:null))})),this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}i&&(o(i.container,{cursor:i._cursor}),i.cancelClick=this.hasDragged>10,i.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(t){t=this.normalize(t),this.zoomOption(t),t.preventDefault&&t.preventDefault(),this.dragStart(t)},onDocumentMouseUp:function(e){n[t.hoverChartIndex]&&n[t.hoverChartIndex].pointer.drop(e)},onDocumentMouseMove:function(t){var e=this.chart,i=this.chartPosition;t=this.normalize(t,i),!i||this.inClass(t.target,"highcharts-tracker")||e.isInsidePlot(t.chartX-e.plotLeft,t.chartY-e.plotTop)||this.reset()},onContainerMouseLeave:function(e){var i=n[t.hoverChartIndex];i&&(e.relatedTarget||e.toElement)&&(i.pointer.reset(),i.pointer.chartPosition=null)},onContainerMouseMove:function(e){var i=this.chart;s(t.hoverChartIndex)&&n[t.hoverChartIndex]&&n[t.hoverChartIndex].mouseIsDown||(t.hoverChartIndex=i.index),e=this.normalize(e),e.returnValue=!1,"mousedown"===i.mouseIsDown&&this.drag(e),!this.inClass(e.target,"highcharts-tracker")&&!i.isInsidePlot(e.chartX-i.plotLeft,e.chartY-i.plotTop)||i.openMenu||this.runPointActions(e)},inClass:function(t,e){for(var n;t;){if(n=i(t,"class")){if(-1!==n.indexOf(e))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}t=t.parentNode}},onTrackerMouseOut:function(t){var e=this.chart.hoverSeries,i=t.relatedTarget||t.toElement;!e||!i||e.options.stickyTracking||this.inClass(i,"highcharts-tooltip")||this.inClass(i,"highcharts-series-"+e.index)&&this.inClass(i,"highcharts-tracker")||e.onMouseOut()},onContainerClick:function(t){var e=this.chart,i=e.hoverPoint,n=e.plotLeft,r=e.plotTop;t=this.normalize(t),e.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(c(i.series,"click",u(t,{point:i})),e.hoverPoint&&i.firePointEvent("click",t)):(u(t,this.getCoordinates(t)),e.isInsidePlot(t.chartX-n,t.chartY-r)&&c(e,"click",t)))},setDOMEvents:function(){var i=this,n=i.chart.container;n.onmousedown=function(t){i.onContainerMouseDown(t)},n.onmousemove=function(t){i.onContainerMouseMove(t)},n.onclick=function(t){i.onContainerClick(t)},e(n,"mouseleave",i.onContainerMouseLeave),1===t.chartCount&&e(a,"mouseup",i.onDocumentMouseUp),t.hasTouch&&(n.ontouchstart=function(t){i.onContainerTouchStart(t)},n.ontouchmove=function(t){i.onContainerTouchMove(t)},1===t.chartCount&&e(a,"touchend",i.onDocumentTouchEnd))},destroy:function(){var e;p(this.chart.container,"mouseleave",this.onContainerMouseLeave),t.chartCount||(p(a,"mouseup",this.onDocumentMouseUp),p(a,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}}}(e),function(t){"use strict";var e=t.charts,i=t.each,n=t.extend,r=t.map,o=t.noop,s=t.pick,a=t.Pointer;n(a.prototype,{pinchTranslate:function(t,e,i,n,r,o){this.zoomHor&&this.pinchTranslateDirection(!0,t,e,i,n,r,o),this.zoomVert&&this.pinchTranslateDirection(!1,t,e,i,n,r,o)},pinchTranslateDirection:function(t,e,i,n,r,o,s,a){var l,u,c,h,d,p,f=this.chart,g=t?"x":"y",m=t?"X":"Y",v="chart"+m,y=t?"width":"height",b=f["plot"+(t?"Left":"Top")],x=a||1,w=f.inverted,S=f.bounds[t?"h":"v"],k=1===e.length,C=e[0][v],T=i[0][v],A=!k&&e[1][v],_=!k&&i[1][v],M=function(){!k&&Math.abs(C-A)>20&&(x=a||Math.abs(T-_)/Math.abs(C-A)),c=(b-T)/x+C,l=f["plot"+(t?"Width":"Height")]/x};M(),u=c,u<S.min?(u=S.min,h=!0):u+l>S.max&&(u=S.max-l,h=!0),h?(T-=.8*(T-s[g][0]),k||(_-=.8*(_-s[g][1])),M()):s[g]=[T,_],w||(o[g]=c-b,o[y]=l),p=w?t?"scaleY":"scaleX":"scale"+m,d=w?1/x:x,r[y]=l,r[g]=u,n[p]=x,n["translate"+m]=d*b+(T-d*C)},pinch:function(t){var e=this,a=e.chart,l=e.pinchDown,u=t.touches,c=u.length,h=e.lastValidTouch,d=e.hasZoom,p=e.selectionMarker,f={},g=1===c&&(e.inClass(t.target,"highcharts-tracker")&&a.runTrackerClick||e.runChartClick),m={};c>1&&(e.initiated=!0),d&&e.initiated&&!g&&t.preventDefault(),r(u,function(t){return e.normalize(t)}),"touchstart"===t.type?(i(u,function(t,e){l[e]={chartX:t.chartX,chartY:t.chartY}}),h.x=[l[0].chartX,l[1]&&l[1].chartX],h.y=[l[0].chartY,l[1]&&l[1].chartY],i(a.axes,function(t){if(t.zoomEnabled){var e=a.bounds[t.horiz?"h":"v"],i=t.minPixelPadding,n=t.toPixels(s(t.options.min,t.dataMin)),r=t.toPixels(s(t.options.max,t.dataMax)),o=Math.min(n,r),l=Math.max(n,r);e.min=Math.min(t.pos,o-i),e.max=Math.max(t.pos+t.len,l+i)}}),e.res=!0):e.followTouchMove&&1===c?this.runPointActions(e.normalize(t)):l.length&&(p||(e.selectionMarker=p=n({destroy:o,touch:!0},a.plotBox)),e.pinchTranslate(l,u,f,p,m,h),e.hasPinched=d,e.scaleGroups(f,m),e.res&&(e.res=!1,this.reset(!1,0)))},touch:function(e,i){var n,r,o,a=this.chart;a.index!==t.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),t.hoverChartIndex=a.index,1===e.touches.length?(e=this.normalize(e),o=a.isInsidePlot(e.chartX-a.plotLeft,e.chartY-a.plotTop),o&&!a.openMenu?(i&&this.runPointActions(e),"touchmove"===e.type&&(r=this.pinchDown,n=!!r[0]&&Math.sqrt(Math.pow(r[0].chartX-e.chartX,2)+Math.pow(r[0].chartY-e.chartY,2))>=4),s(n,!0)&&this.pinch(e)):i&&this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchStart:function(t){this.zoomOption(t),this.touch(t,!0)},onContainerTouchMove:function(t){this.touch(t)},onDocumentTouchEnd:function(i){e[t.hoverChartIndex]&&e[t.hoverChartIndex].pointer.drop(i)}})}(e),function(t){"use strict";var e=t.addEvent,i=t.charts,n=t.css,r=t.doc,o=t.extend,s=t.noop,a=t.Pointer,l=t.removeEvent,u=t.win,c=t.wrap;if(u.PointerEvent||u.MSPointerEvent){var h={},d=!!u.PointerEvent,p=function(){var t,e=[];e.item=function(t){return this[t]};for(t in h)h.hasOwnProperty(t)&&e.push({pageX:h[t].pageX,pageY:h[t].pageY,target:h[t].target});return e},f=function(e,n,r,o){var a;"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!i[t.hoverChartIndex]||(o(e),a=i[t.hoverChartIndex].pointer,a[n]({type:r,target:e.currentTarget,preventDefault:s,touches:p()}))};o(a.prototype,{onContainerPointerDown:function(t){f(t,"onContainerTouchStart","touchstart",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY,target:t.currentTarget}})},onContainerPointerMove:function(t){f(t,"onContainerTouchMove","touchmove",function(t){h[t.pointerId]={pageX:t.pageX,pageY:t.pageY},h[t.pointerId].target||(h[t.pointerId].target=t.currentTarget)})},onDocumentPointerUp:function(t){f(t,"onDocumentTouchEnd","touchend",function(t){delete h[t.pointerId]})},batchMSEvents:function(t){t(this.chart.container,d?"pointerdown":"MSPointerDown",this.onContainerPointerDown),t(this.chart.container,d?"pointermove":"MSPointerMove",this.onContainerPointerMove),t(r,d?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),c(a.prototype,"init",function(t,e,i){t.call(this,e,i),this.hasZoom&&n(e.container,{"-ms-touch-action":"none","touch-action":"none"})}),c(a.prototype,"setDOMEvents",function(t){t.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(e)}),c(a.prototype,"destroy",function(t){this.batchMSEvents(l),t.call(this)})}}(e),function(t){"use strict";var e,i=t.addEvent,n=t.css,r=t.discardElement,o=t.defined,s=t.each,a=t.extend,l=t.isFirefox,u=t.marginNames,c=t.merge,h=t.pick,d=t.setAnimation,p=t.stableSort,f=t.win,g=t.wrap;e=t.Legend=function(t,e){this.init(t,e)},e.prototype={init:function(t,e){this.chart=t,this.setOptions(e),e.enabled&&(this.render(),i(this.chart,"endResize",function(){this.legend.positionCheckboxes()}))},setOptions:function(t){var e=h(t.padding,8);this.options=t,this.itemStyle=t.itemStyle,this.itemHiddenStyle=c(this.itemStyle,t.itemHiddenStyle),this.itemMarginTop=t.itemMarginTop||0,this.padding=e,this.initialItemX=e,this.initialItemY=e-5,this.maxItemWidth=0,this.itemHeight=0,this.symbolWidth=h(t.symbolWidth,16),this.pages=[]},update:function(t,e){var i=this.chart;this.setOptions(c(!0,this.options,t)),this.destroy(),i.isDirtyLegend=i.isDirtyBox=!0,h(e,!0)&&i.redraw()},colorizeItem:function(t,e){t.legendGroup[e?"removeClass":"addClass"]("highcharts-legend-item-hidden");var i,n=this,r=n.options,o=t.legendItem,s=t.legendLine,a=t.legendSymbol,l=n.itemHiddenStyle.color,u=e?r.itemStyle.color:l,c=e?t.color||l:l,h=t.options&&t.options.marker,d={fill:c};if(o&&o.css({fill:u,color:u}),s&&s.attr({stroke:c}),a){if(h&&a.isMarker&&(d=t.pointAttribs(),!e))for(i in d)d[i]=l;a.attr(d)}},positionItem:function(t){var e=this,i=e.options,n=i.symbolPadding,r=!i.rtl,o=t._legendItemPos,s=o[0],a=o[1],l=t.checkbox,u=t.legendGroup;u&&u.element&&u.translate(r?s:e.legendWidth-s-2*n-4,a),l&&(l.x=s,l.y=a)},destroyItem:function(t){var e=t.checkbox;s(["legendItem","legendLine","legendSymbol","legendGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),e&&r(t.checkbox)},destroy:function(){function t(t){this[t]&&(this[t]=this[t].destroy())}s(this.getAllItems(),function(e){s(["legendItem","legendGroup"],t,e)}),s(["box","title","group"],t,this),this.display=null},positionCheckboxes:function(t){var e,i=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,o=this.titleHeight;i&&(e=i.translateY,s(this.allItems,function(s){var a,l=s.checkbox;l&&(a=e+o+l.y+(t||0)+3,n(l,{left:i.translateX+s.checkboxOffset+l.x-20+"px",top:a+"px",display:a>e-6&&a<e+r-6?"":"none"}))}))},renderTitle:function(){var t,e=this.options,i=this.padding,n=e.title,r=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,i-3,i-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),t=this.title.getBBox(),r=t.height,this.offsetWidth=t.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},setText:function(e){var i=this.options;e.legendItem.attr({text:i.labelFormat?t.format(i.labelFormat,e):i.labelFormatter.call(e)})},renderItem:function(t){var e,i,n,r=this,o=r.chart,s=o.renderer,a=r.options,l="horizontal"===a.layout,u=r.symbolWidth,d=a.symbolPadding,p=r.itemStyle,f=r.itemHiddenStyle,g=r.padding,m=l?h(a.itemDistance,20):0,v=!a.rtl,y=a.width,b=a.itemMarginBottom||0,x=r.itemMarginTop,w=r.initialItemX,S=t.legendItem,k=!t.series,C=!k&&t.series.drawLegendSymbol?t.series:t,T=C.options,A=r.createCheckboxForItem&&T&&T.showCheckbox,_=a.useHTML,M=12;S||(t.legendGroup=s.g("legend-item").addClass("highcharts-"+C.type+"-series highcharts-color-"+t.colorIndex+(t.options.className?" "+t.options.className:"")+(k?" highcharts-series-"+t.index:"")).attr({zIndex:1}).add(r.scrollGroup),t.legendItem=S=s.text("",v?u+d:-d,r.baseline||0,_).css(c(t.visible?p:f)).attr({align:v?"left":"right",zIndex:2}).add(t.legendGroup),r.baseline||(M=p.fontSize,r.fontMetrics=s.fontMetrics(M,S),r.baseline=r.fontMetrics.f+3+x,S.attr("y",r.baseline)),C.drawLegendSymbol(r,t),r.setItemEvents&&r.setItemEvents(t,S,_),A&&r.createCheckboxForItem(t)),r.colorizeItem(t,t.visible),r.setText(t),i=S.getBBox(),n=t.checkboxOffset=a.itemWidth||t.legendItemWidth||u+d+i.width+m+(A?20:0),r.itemHeight=e=Math.round(t.legendItemHeight||i.height),l&&r.itemX-w+n>(y||o.chartWidth-2*g-w-a.x)&&(r.itemX=w,r.itemY+=x+r.lastLineHeight+b,r.lastLineHeight=0),r.maxItemWidth=Math.max(r.maxItemWidth,n),r.lastItemY=x+r.itemY+b,r.lastLineHeight=Math.max(e,r.lastLineHeight),t._legendItemPos=[r.itemX,r.itemY],l?r.itemX+=n:(r.itemY+=x+e+b,r.lastLineHeight=e),r.offsetWidth=y||Math.max((l?r.itemX-w-m:n)+g,r.offsetWidth)},getAllItems:function(){var t=[];return s(this.chart.series,function(e){var i=e&&e.options;e&&h(i.showInLegend,!o(i.linkedTo)&&void 0,!0)&&(t=t.concat(e.legendItems||("point"===i.legendType?e.data:e)))}),t},adjustMargins:function(t,e){var i=this.chart,n=this.options,r=n.align.charAt(0)+n.verticalAlign.charAt(0)+n.layout.charAt(0);n.floating||s([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(s,a){s.test(r)&&!o(t[a])&&(i[u[a]]=Math.max(i[u[a]],i.legend[(a+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][a]*n[a%2?"x":"y"]+h(n.margin,12)+e[a]))})},render:function(){var t,e,i,n,r=this,o=r.chart,l=o.renderer,u=r.group,c=r.box,h=r.options,d=r.padding;r.itemX=r.initialItemX,r.itemY=r.initialItemY,r.offsetWidth=0,r.lastItemY=0,u||(r.group=u=l.g("legend").attr({zIndex:7}).add(),r.contentGroup=l.g().attr({zIndex:1}).add(u),r.scrollGroup=l.g().add(r.contentGroup)),r.renderTitle(),t=r.getAllItems(),p(t,function(t,e){return(t.options&&t.options.legendIndex||0)-(e.options&&e.options.legendIndex||0)}),h.reversed&&t.reverse(),r.allItems=t,r.display=e=!!t.length,r.lastLineHeight=0,s(t,function(t){r.renderItem(t)}),i=(h.width||r.offsetWidth)+d,n=r.lastItemY+r.lastLineHeight+r.titleHeight,n=r.handleOverflow(n),n+=d,c||(r.box=c=l.rect().addClass("highcharts-legend-box").attr({r:h.borderRadius}).add(u),c.isNew=!0),c.attr({stroke:h.borderColor,"stroke-width":h.borderWidth||0,fill:h.backgroundColor||"none"}).shadow(h.shadow),i>0&&n>0&&(c[c.isNew?"attr":"animate"](c.crisp({x:0,y:0,width:i,height:n},c.strokeWidth())),c.isNew=!1),c[e?"show":"hide"](),r.legendWidth=i,r.legendHeight=n,s(t,function(t){r.positionItem(t)}),e&&u.align(a({width:i,height:n},h),!0,"spacingBox"),o.isResizing||this.positionCheckboxes()},handleOverflow:function(t){var e,i,n=this,r=this.chart,o=r.renderer,a=this.options,l=a.y,u="top"===a.verticalAlign,c=r.spacingBox.height+(u?-l:l)-this.padding,d=a.maxHeight,p=this.clipRect,f=a.navigation,g=h(f.animation,!0),m=f.arrowSize||12,v=this.nav,y=this.pages,b=this.padding,x=this.allItems,w=function(t){t?p.attr({height:t}):p&&(n.clipRect=p.destroy(),n.contentGroup.clip()),n.contentGroup.div&&(n.contentGroup.div.style.clip=t?"rect("+b+"px,9999px,"+(b+t)+"px,0)":"auto")};return"horizontal"!==a.layout||"middle"===a.verticalAlign||a.floating||(c/=2),d&&(c=Math.min(c,d)),y.length=0,t>c&&!1!==f.enabled?(this.clipHeight=e=Math.max(c-20-this.titleHeight-b,0),this.currentPage=h(this.currentPage,1),this.fullHeight=t,s(x,function(t,n){var r=t._legendItemPos[1],o=Math.round(t.legendItem.getBBox().height),s=y.length;(!s||r-y[s-1]>e&&(i||r)!==y[s-1])&&(y.push(i||r),s++),n===x.length-1&&r+o-y[s-1]>e&&y.push(r),r!==i&&(i=r)}),p||(p=n.clipRect=o.clipRect(0,b,9999,0),n.contentGroup.clip(p)),w(e),v||(this.nav=v=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,m,m).on("click",function(){n.scroll(-1,g)}).add(v),this.pager=o.text("",15,10).addClass("highcharts-legend-navigation").css(f.style).add(v),this.down=o.symbol("triangle-down",0,0,m,m).on("click",function(){n.scroll(1,g)}).add(v)),n.scroll(0),t=c):v&&(w(),v.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),t},scroll:function(t,e){var i,n=this.pages,r=n.length,o=this.currentPage+t,s=this.clipHeight,a=this.options.navigation,l=this.pager,u=this.padding;o>r&&(o=r),o>0&&(void 0!==e&&d(e,this.chart),this.nav.attr({translateX:u,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===o?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),l.attr({text:o+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,class:o===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===o?a.inactiveColor:a.activeColor}).css({cursor:1===o?"default":"pointer"}),this.down.attr({fill:o===r?a.inactiveColor:a.activeColor}).css({cursor:o===r?"default":"pointer"}),i=-n[o-1]+this.initialItemY,this.scrollGroup.animate({translateY:i}),this.currentPage=o,this.positionCheckboxes(i))}},t.LegendSymbolMixin={drawRectangle:function(t,e){var i=t.options,n=i.symbolHeight||t.fontMetrics.f,r=i.squareSymbol,o=r?n:t.symbolWidth;e.legendSymbol=this.chart.renderer.rect(r?(t.symbolWidth-n)/2:0,t.baseline-n+1,o,n,h(t.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(e.legendGroup)},drawLineMarker:function(t){var e,i,n=this.options,r=n.marker,o=t.symbolWidth,s=this.chart.renderer,a=this.legendGroup,l=t.baseline-Math.round(.3*t.fontMetrics.b),u={};u={"stroke-width":n.lineWidth||0},n.dashStyle&&(u.dashstyle=n.dashStyle),this.legendLine=s.path(["M",0,l,"L",o,l]).addClass("highcharts-graph").attr(u).add(a),
r&&!1!==r.enabled&&(e=0===this.symbol.indexOf("url")?0:r.radius,this.legendSymbol=i=s.symbol(this.symbol,o/2-e,l-e,2*e,2*e,r).addClass("highcharts-point").add(a),i.isMarker=!0)}},(/Trident\/7\.0/.test(f.navigator.userAgent)||l)&&g(e.prototype,"positionItem",function(t,e){var i=this,n=function(){e._legendItemPos&&t.call(i,e)};n(),setTimeout(n)})}(e),function(t){"use strict";var e=t.addEvent,i=t.animate,n=t.animObject,r=t.attr,o=t.doc,s=t.Axis,a=t.createElement,l=t.defaultOptions,u=t.discardElement,c=t.charts,h=t.css,d=t.defined,p=t.each,f=t.extend,g=t.find,m=t.fireEvent,v=t.getStyle,y=t.grep,b=t.isNumber,x=t.isObject,w=t.isString,S=t.Legend,k=t.marginNames,C=t.merge,T=t.Pointer,A=t.pick,_=t.pInt,M=t.removeEvent,E=t.seriesTypes,P=t.splat,L=t.svg,R=t.syncTimeout,j=t.win,I=t.Renderer,D=t.Chart=function(){this.getArgs.apply(this,arguments)};t.chart=function(t,e,i){return new D(t,e,i)},D.prototype={callbacks:[],getArgs:function(){var t=[].slice.call(arguments);(w(t[0])||t[0].nodeName)&&(this.renderTo=t.shift()),this.init(t[0],t[1])},init:function(i,n){var r,o=i.series;i.series=null,r=C(l,i),r.series=i.series=o,this.userOptions=i,this.respRules=[];var s=r.chart,a=s.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.callback=n,this.isResizing=0,this.options=r,this.axes=[],this.series=[],this.hasCartesianSeries=s.showAxes;var u,h=this;if(h.index=c.length,c.push(h),t.chartCount++,a)for(u in a)e(h,u,a[u]);h.xAxis=[],h.yAxis=[],h.pointCount=h.colorCounter=h.symbolCounter=0,h.firstRender()},initSeries:function(e){var i,n=this,r=n.options.chart,o=e.type||r.type||r.defaultSeriesType,s=E[o];return s||t.error(17,!0),i=new s,i.init(this,e),i},isInsidePlot:function(t,e,i){var n=i?e:t,r=i?t:e;return n>=0&&n<=this.plotWidth&&r>=0&&r<=this.plotHeight},redraw:function(e){var i,n,r,o=this,s=o.axes,a=o.series,l=o.pointer,u=o.legend,c=o.isDirtyLegend,h=o.hasCartesianSeries,d=o.isDirtyBox,g=a.length,v=g,y=o.renderer,b=y.isHidden(),x=[];for(t.setAnimation(e,o),b&&o.cloneRenderTo(),o.layOutTitles();v--;)if(r=a[v],r.options.stacking&&(i=!0,r.isDirty)){n=!0;break}if(n)for(v=g;v--;)r=a[v],r.options.stacking&&(r.isDirty=!0);p(a,function(t){t.isDirty&&"point"===t.options.legendType&&(t.updateTotals&&t.updateTotals(),c=!0),t.isDirtyData&&m(t,"updatedData")}),c&&u.options.enabled&&(u.render(),o.isDirtyLegend=!1),i&&o.getStacks(),h&&p(s,function(t){t.updateNames(),t.setScale()}),o.getMargins(),h&&(p(s,function(t){t.isDirty&&(d=!0)}),p(s,function(t){var e=t.min+","+t.max;t.extKey!==e&&(t.extKey=e,x.push(function(){m(t,"afterSetExtremes",f(t.eventArgs,t.getExtremes())),delete t.eventArgs})),(d||i)&&t.redraw()})),d&&o.drawChartBox(),p(a,function(t){(d||t.isDirty)&&t.visible&&t.redraw()}),l&&l.reset(!0),y.draw(),m(o,"redraw"),b&&o.cloneRenderTo(!0),p(x,function(t){t.call()})},get:function(t){function e(e){return e.id===t||e.options.id===t}var i,n,r=this.series;for(i=g(this.axes,e)||g(this.series,e),n=0;!i&&n<r.length;n++)i=g(r[n].points||[],e);return i},getAxes:function(){var t,e=this,i=this.options,n=i.xAxis=P(i.xAxis||{}),r=i.yAxis=P(i.yAxis||{});p(n,function(t,e){t.index=e,t.isX=!0}),p(r,function(t,e){t.index=e}),t=n.concat(r),p(t,function(t){new s(e,t)})},getSelectedPoints:function(){var t=[];return p(this.series,function(e){t=t.concat(y(e.points||[],function(t){return t.selected}))}),t},getSelectedSeries:function(){return y(this.series,function(t){return t.selected})},setTitle:function(t,e,i){var n,r,o=this,s=o.options;n=s.title=C({style:{color:"#333333",fontSize:s.isStock?"16px":"18px"}},s.title,t),r=s.subtitle=C({style:{color:"#666666"}},s.subtitle,e),p([["title",t,n],["subtitle",e,r]],function(t,e){var i=t[0],n=o[i],r=t[1],s=t[2];n&&r&&(o[i]=n=n.destroy()),s&&s.text&&!n&&(o[i]=o.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,class:"highcharts-"+i,zIndex:s.zIndex||4}).add(),o[i].update=function(t){o.setTitle(!e&&t,e&&t)},o[i].css(s.style))}),o.layOutTitles(i)},layOutTitles:function(t){var e,i=0,n=this.renderer,r=this.spacingBox;p(["title","subtitle"],function(t){var e,o=this[t],s=this.options[t];o&&(e=s.style.fontSize,e=n.fontMetrics(e,o).b,o.css({width:(s.width||r.width+s.widthAdjust)+"px"}).align(f({y:i+e+("title"===t?-3:2)},s),!1,"spacingBox"),s.floating||s.verticalAlign||(i=Math.ceil(i+o.getBBox().height)))},this),e=this.titleOffset!==i,this.titleOffset=i,!this.isDirtyBox&&e&&(this.isDirtyBox=e,this.hasRendered&&A(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=this,e=t.options.chart,i=e.width,n=e.height,r=t.renderToClone||t.renderTo;d(i)||(t.containerWidth=v(r,"width")),d(n)||(t.containerHeight=v(r,"height")),t.chartWidth=Math.max(0,i||t.containerWidth||600),t.chartHeight=Math.max(0,A(n,t.containerHeight>19?t.containerHeight:400))},cloneRenderTo:function(t){var e=this.renderToClone,i=this.container;if(t){if(e){for(;e.childNodes.length;)this.renderTo.appendChild(e.firstChild);u(e),delete this.renderToClone}}else i&&i.parentNode===this.renderTo&&this.renderTo.removeChild(i),this.renderToClone=e=this.renderTo.cloneNode(0),h(e,{position:"absolute",top:"-9999px",display:"block"}),e.style.setProperty&&e.style.setProperty("display","block","important"),o.body.appendChild(e),i&&e.appendChild(i)},setClassName:function(t){this.container.className="highcharts-container "+(t||"")},getContainer:function(){var e,i,n,s,l,u,h=this,d=h.options,p=d.chart,g=h.renderTo,m=t.uniqueKey();g||(h.renderTo=g=p.renderTo),w(g)&&(h.renderTo=g=o.getElementById(g)),g||t.error(13,!0),s=_(r(g,"data-highcharts-chart")),b(s)&&c[s]&&c[s].hasRendered&&c[s].destroy(),r(g,"data-highcharts-chart",h.index),g.innerHTML="",p.skipClone||g.offsetWidth||h.cloneRenderTo(),h.getChartSize(),i=h.chartWidth,n=h.chartHeight,u=f({position:"relative",overflow:"hidden",width:i+"px",height:n+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},p.style),h.container=e=a("div",{id:m},u,h.renderToClone||g),h._cursor=e.style.cursor,l=t[p.renderer]||I,h.renderer=new l(e,i,n,null,p.forExport,d.exporting&&d.exporting.allowHTML),h.setClassName(p.className),h.renderer.setStyle(p.style),h.renderer.chartIndex=h.index},getMargins:function(t){var e=this,i=e.spacing,n=e.margin,r=e.titleOffset;e.resetMargins(),r&&!d(n[0])&&(e.plotTop=Math.max(e.plotTop,r+e.options.title.margin+i[0])),e.legend.display&&e.legend.adjustMargins(n,i),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),t||this.getAxisMargins()},getAxisMargins:function(){var t=this,e=t.axisOffset=[0,0,0,0],i=t.margin;t.hasCartesianSeries&&p(t.axes,function(t){t.visible&&t.getOffset()}),p(k,function(n,r){d(i[r])||(t[n]+=e[r])}),t.setChartSize()},reflow:function(t){var e=this,i=e.options.chart,n=e.renderTo,r=d(i.width),s=i.width||v(n,"width"),a=i.height||v(n,"height"),l=t?t.target:j;r||e.isPrinting||!s||!a||l!==j&&l!==o||(s===e.containerWidth&&a===e.containerHeight||(clearTimeout(e.reflowTimeout),e.reflowTimeout=R(function(){e.container&&e.setSize(void 0,void 0,!1)},t?100:0)),e.containerWidth=s,e.containerHeight=a)},initReflow:function(){var t,i=this;t=e(j,"resize",function(t){i.reflow(t)}),e(i,"destroy",t)},setSize:function(e,r,o){var s,a=this,l=a.renderer;a.isResizing+=1,t.setAnimation(o,a),a.oldChartHeight=a.chartHeight,a.oldChartWidth=a.chartWidth,void 0!==e&&(a.options.chart.width=e),void 0!==r&&(a.options.chart.height=r),a.getChartSize(),s=l.globalAnimation,(s?i:h)(a.container,{width:a.chartWidth+"px",height:a.chartHeight+"px"},s),a.setChartSize(!0),l.setSize(a.chartWidth,a.chartHeight,o),p(a.axes,function(t){t.isDirty=!0,t.setScale()}),a.isDirtyLegend=!0,a.isDirtyBox=!0,a.layOutTitles(),a.getMargins(),a.setResponsive&&a.setResponsive(!1),a.redraw(o),a.oldChartHeight=null,m(a,"resize"),R(function(){a&&m(a,"endResize",null,function(){a.isResizing-=1})},n(s).duration)},setChartSize:function(t){var e,i,n,r,o,s,a,l=this,u=l.inverted,c=l.renderer,h=l.chartWidth,d=l.chartHeight,f=l.options.chart,g=l.spacing,m=l.clipOffset;l.plotLeft=n=Math.round(l.plotLeft),l.plotTop=r=Math.round(l.plotTop),l.plotWidth=o=Math.max(0,Math.round(h-n-l.marginRight)),l.plotHeight=s=Math.max(0,Math.round(d-r-l.marginBottom)),l.plotSizeX=u?s:o,l.plotSizeY=u?o:s,l.plotBorderWidth=f.plotBorderWidth||0,l.spacingBox=c.spacingBox={x:g[3],y:g[0],width:h-g[3]-g[1],height:d-g[0]-g[2]},l.plotBox=c.plotBox={x:n,y:r,width:o,height:s},a=2*Math.floor(l.plotBorderWidth/2),e=Math.ceil(Math.max(a,m[3])/2),i=Math.ceil(Math.max(a,m[0])/2),l.clipBox={x:e,y:i,width:Math.floor(l.plotSizeX-Math.max(a,m[1])/2-e),height:Math.max(0,Math.floor(l.plotSizeY-Math.max(a,m[2])/2-i))},t||p(l.axes,function(t){t.setAxisSize(),t.setAxisTranslation()})},resetMargins:function(){var t=this,e=t.options.chart;p(["margin","spacing"],function(i){var n=e[i],r=x(n)?n:[n,n,n,n];p(["Top","Right","Bottom","Left"],function(n,o){t[i][o]=A(e[i+n],r[o])})}),p(k,function(e,i){t[e]=A(t.margin[i],t.spacing[i])}),t.axisOffset=[0,0,0,0],t.clipOffset=[0,0,0,0]},drawChartBox:function(){var t,e,i,n=this,r=n.options.chart,o=n.renderer,s=n.chartWidth,a=n.chartHeight,l=n.chartBackground,u=n.plotBackground,c=n.plotBorder,h=n.plotBGImage,d=r.backgroundColor,p=r.plotBackgroundColor,f=r.plotBackgroundImage,g=n.plotLeft,m=n.plotTop,v=n.plotWidth,y=n.plotHeight,b=n.plotBox,x=n.clipRect,w=n.clipBox,S="animate";l||(n.chartBackground=l=o.rect().addClass("highcharts-background").add(),S="attr"),t=r.borderWidth||0,e=t+(r.shadow?8:0),i={fill:d||"none"},(t||l["stroke-width"])&&(i.stroke=r.borderColor,i["stroke-width"]=t),l.attr(i).shadow(r.shadow),l[S]({x:e/2,y:e/2,width:s-e-t%2,height:a-e-t%2,r:r.borderRadius}),S="animate",u||(S="attr",n.plotBackground=u=o.rect().addClass("highcharts-plot-background").add()),u[S](b),u.attr({fill:p||"none"}).shadow(r.plotShadow),f&&(h?h.animate(b):n.plotBGImage=o.image(f,g,m,v,y).add()),x?x.animate({width:w.width,height:w.height}):n.clipRect=o.clipRect(w),S="animate",c||(S="attr",n.plotBorder=c=o.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),c.attr({stroke:r.plotBorderColor,"stroke-width":r.plotBorderWidth||0,fill:"none"}),c[S](c.crisp({x:g,y:m,width:v,height:y},-c.strokeWidth())),n.isDirtyBox=!1},propFromSeries:function(){var t,e,i,n=this,r=n.options.chart,o=n.options.series;p(["inverted","angular","polar"],function(s){for(t=E[r.type||r.defaultSeriesType],i=r[s]||t&&t.prototype[s],e=o&&o.length;!i&&e--;)(t=E[o[e].type])&&t.prototype[s]&&(i=!0);n[s]=i})},linkSeries:function(){var t=this,e=t.series;p(e,function(t){t.linkedSeries.length=0}),p(e,function(e){var i=e.options.linkedTo;w(i)&&(i=":previous"===i?t.series[e.index-1]:t.get(i))&&i.linkedParent!==e&&(i.linkedSeries.push(e),e.linkedParent=i,e.visible=A(e.options.visible,i.options.visible,e.visible))})},renderSeries:function(){p(this.series,function(t){t.translate(),t.render()})},renderLabels:function(){var t=this,e=t.options.labels;e.items&&p(e.items,function(i){var n=f(e.style,i.style),r=_(n.left)+t.plotLeft,o=_(n.top)+t.plotTop+12;delete n.left,delete n.top,t.renderer.text(i.html,r,o).attr({zIndex:2}).css(n).add()})},render:function(){var t,e,i,n,r=this,o=r.axes,s=r.renderer,a=r.options;r.setTitle(),r.legend=new S(r,a.legend),r.getStacks&&r.getStacks(),r.getMargins(!0),r.setChartSize(),t=r.plotWidth,e=r.plotHeight=r.plotHeight-21,p(o,function(t){t.setScale()}),r.getAxisMargins(),i=t/r.plotWidth>1.1,n=e/r.plotHeight>1.05,(i||n)&&(p(o,function(t){(t.horiz&&i||!t.horiz&&n)&&t.setTickInterval(!0)}),r.getMargins()),r.drawChartBox(),r.hasCartesianSeries&&p(o,function(t){t.visible&&t.render()}),r.seriesGroup||(r.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),r.renderSeries(),r.renderLabels(),r.addCredits(),r.setResponsive&&r.setResponsive(),r.hasRendered=!0},addCredits:function(t){var e=this;t=C(!0,this.options.credits,t),t.enabled&&!this.credits&&(this.credits=this.renderer.text(t.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){t.href&&(j.location.href=t.href)}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position),this.credits.update=function(t){e.credits=e.credits.destroy(),e.addCredits(t)})},destroy:function(){var e,i=this,n=i.axes,r=i.series,o=i.container,s=o&&o.parentNode;for(m(i,"destroy"),c[i.index]=void 0,t.chartCount--,i.renderTo.removeAttribute("data-highcharts-chart"),M(i),e=n.length;e--;)n[e]=n[e].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),e=r.length;e--;)r[e]=r[e].destroy();p(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var e=i[t];e&&e.destroy&&(i[t]=e.destroy())}),o&&(o.innerHTML="",M(o),s&&u(o));for(e in i)delete i[e]},isReadyToRender:function(){var t=this;return!(!L&&j==j.top&&"complete"!==o.readyState)||(o.attachEvent("onreadystatechange",function(){o.detachEvent("onreadystatechange",t.firstRender),"complete"===o.readyState&&t.firstRender()}),!1)},firstRender:function(){var t=this,e=t.options;t.isReadyToRender()&&(t.getContainer(),m(t,"init"),t.resetMargins(),t.setChartSize(),t.propFromSeries(),t.getAxes(),p(e.series||[],function(e){t.initSeries(e)}),t.linkSeries(),m(t,"beforeRender"),T&&(t.pointer=new T(t,e)),t.render(),t.renderer.draw(),!t.renderer.imgCount&&t.onload&&t.onload(),t.cloneRenderTo(!0))},onload:function(){p([this.callback].concat(this.callbacks),function(t){t&&void 0!==this.index&&t.apply(this,[this])},this),m(this,"load"),d(this.index)&&!1!==this.options.chart.reflow&&this.initReflow(),this.onload=null}}}(e),function(t){"use strict";var e,i=t.each,n=t.extend,r=t.erase,o=t.fireEvent,s=t.format,a=t.isArray,l=t.isNumber,u=t.pick,c=t.removeEvent;e=t.Point=function(){},e.prototype={init:function(t,e,i){var n,r,o=this,s=t.chart.options.chart.colorCount;return o.series=t,o.color=t.color,o.applyOptions(e,i),t.options.colorByPoint?(n=t.options.colors||t.chart.options.colors,o.color=o.color||n[t.colorCounter],s=n.length,r=t.colorCounter,++t.colorCounter===s&&(t.colorCounter=0)):r=t.colorIndex,o.colorIndex=u(o.colorIndex,r),t.chart.pointCount++,o},applyOptions:function(t,i){var r=this,o=r.series,s=o.options.pointValKey||o.pointValKey;return t=e.prototype.optionsToObject.call(this,t),n(r,t),r.options=r.options?n(r.options,t):t,t.group&&delete r.group,s&&(r.y=r[s]),r.isNull=u(r.isValid&&!r.isValid(),null===r.x||!l(r.y,!0)),r.selected&&(r.state="select"),"name"in r&&void 0===i&&o.xAxis&&o.xAxis.hasNames&&(r.x=o.xAxis.nameToX(r)),void 0===r.x&&o&&(r.x=void 0===i?o.autoIncrement(r):i),r},optionsToObject:function(t){var e,i={},n=this.series,r=n.options.keys,o=r||n.pointArrayMap||["y"],s=o.length,u=0,c=0;if(l(t)||null===t)i[o[0]]=t;else if(a(t))for(!r&&t.length>s&&(e=typeof t[0],"string"===e?i.name=t[0]:"number"===e&&(i.x=t[0]),u++);c<s;)r&&void 0===t[u]||(i[o[c]]=t[u]),u++,c++;else"object"==typeof t&&(i=t,t.dataLabels&&(n._hasPointLabels=!0),t.marker&&(n._hasPointMarkers=!0));return i},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className:"")},getZone:function(){var t,e=this.series,i=e.zones,n=e.zoneAxis||"y",r=0;for(t=i[r];this[n]>=t.value;)t=i[++r];return t&&t.color&&!this.options.color&&(this.color=t.color),t},destroy:function(){var t,e=this,i=e.series,n=i.chart,o=n.hoverPoints;n.pointCount--,o&&(e.setState(),r(o,e),o.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut(),(e.graphic||e.dataLabel)&&(c(e),e.destroyElements()),e.legendItem&&n.legend.destroyItem(e);for(t in e)e[t]=null},destroyElements:function(){for(var t,e=this,i=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],n=6;n--;)t=i[n],e[t]&&(e[t]=e[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(t){var e=this.series,n=e.tooltipOptions,r=u(n.valueDecimals,""),o=n.valuePrefix||"",a=n.valueSuffix||"";return i(e.pointArrayMap||["y"],function(e){e="{point."+e,(o||a)&&(t=t.replace(e+"}",o+e+"}"+a)),t=t.replace(e+"}",e+":,."+r+"f}")}),s(t,{point:this,series:this.series})},firePointEvent:function(t,e,i){var n=this,r=this.series,s=r.options;(s.point.events[t]||n.options&&n.options.events&&n.options.events[t])&&this.importEvents(),"click"===t&&s.allowPointSelect&&(i=function(t){n.select&&n.select(null,t.ctrlKey||t.metaKey||t.shiftKey)}),o(this,t,e,i)},visible:!0}}(e),function(t){"use strict";var e=t.addEvent,i=t.animObject,n=t.arrayMax,r=t.arrayMin,o=t.correctFloat,s=t.Date,a=t.defaultOptions,l=t.defaultPlotOptions,u=t.defined,c=t.each,h=t.erase,d=t.extend,p=t.fireEvent,f=t.grep,g=t.isArray,m=t.isNumber,v=t.isString,y=t.LegendSymbolMixin,b=t.merge,x=t.pick,w=t.Point,S=t.removeEvent,k=t.splat,C=t.SVGElement,T=t.syncTimeout,A=t.win;t.Series=t.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",radius:4,states:{hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":t.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3},{isCartesian:!0,pointClass:w,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(t,i){var n,r,o,s,a=this,l=t.series;a.chart=t,a.options=i=a.setOptions(i),a.linkedSeries=[],a.bindAxes(),d(a,{name:i.name,state:"",visible:!1!==i.visible,selected:!0===i.selected}),r=i.events;for(n in r)e(a,n,r[n]);for((r&&r.click||i.point&&i.point.events&&i.point.events.click||i.allowPointSelect)&&(t.runTrackerClick=!0),a.getColor(),a.getSymbol(),c(a.parallelArrays,function(t){a[t+"Data"]=[]}),a.setData(i.data,!1),a.isCartesian&&(t.hasCartesianSeries=!0),l.length&&(o=l[l.length-1]),a._i=x(o&&o._i,-1)+1,s=this.insert(l);s<l.length;s++)l[s].index=s,l[s].name=l[s].name||"Series "+(l[s].index+1)},insert:function(t){var e,i=this.options.index;if(m(i)){for(e=t.length;e--;)if(i>=x(t[e].options.index,t[e]._i)){t.splice(e+1,0,this);break}-1===e&&t.unshift(this),e+=1}else t.push(this);return x(e,t.length-1)},bindAxes:function(){var e,i=this,n=i.options,r=i.chart;c(i.axisTypes||[],function(o){c(r[o],function(t){e=t.options,(n[o]===e.index||void 0!==n[o]&&n[o]===e.id||void 0===n[o]&&0===e.index)&&(i.insert(t.series),i[o]=t,t.isDirty=!0)}),i[o]||i.optionalAxis===o||t.error(18,!0)})},updateParallelArrays:function(t,e){var i=t.series,n=arguments,r=m(e)?function(n){var r="y"===n&&i.toYData?i.toYData(t):t[n];i[n+"Data"][e]=r}:function(t){Array.prototype[e].apply(i[t+"Data"],Array.prototype.slice.call(n,2))};c(i.parallelArrays,r)},autoIncrement:function(){var t,e,i=this.options,n=this.xIncrement,r=i.pointIntervalUnit;return n=x(n,i.pointStart,0),this.pointInterval=e=x(this.pointInterval,i.pointInterval,1),r&&(t=new s(n),"day"===r?t=+t[s.hcSetDate](t[s.hcGetDate]()+e):"month"===r?t=+t[s.hcSetMonth](t[s.hcGetMonth]()+e):"year"===r&&(t=+t[s.hcSetFullYear](t[s.hcGetFullYear]()+e)),e=t-n),this.xIncrement=n+e,n},setOptions:function(t){var e,i,n=this.chart,r=n.options,o=r.plotOptions,s=n.userOptions||{},l=s.plotOptions||{},c=o[this.type];return this.userOptions=t,e=b(c,o.series,t),this.tooltipOptions=b(a.tooltip,a.plotOptions[this.type].tooltip,s.tooltip,l.series&&l.series.tooltip,l[this.type]&&l[this.type].tooltip,t.tooltip),null===c.marker&&delete e.marker,this.zoneAxis=e.zoneAxis,i=this.zones=(e.zones||[]).slice(),!e.negativeColor&&!e.negativeFillColor||e.zones||i.push({value:e[this.zoneAxis+"Threshold"]||e.threshold||0,className:"highcharts-negative",color:e.negativeColor,fillColor:e.negativeFillColor}),i.length&&u(i[i.length-1].value)&&i.push({color:this.color,fillColor:this.fillColor}),e},getCyclic:function(t,e,i){var n,r,o=this.userOptions,s=t+"Index",a=t+"Counter",l=i?i.length:x(this.chart.options.chart[t+"Count"],this.chart[t+"Count"]);e||(r=x(o[s],o["_"+s]),u(r)?n=r:(o["_"+s]=n=this.chart[a]%l,this.chart[a]+=1),i&&(e=i[n])),void 0!==n&&(this[s]=n),this[t]=e},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||l[this.type].color,this.chart.options.colors)},getSymbol:function(){var t=this.options.marker;this.getCyclic("symbol",t.symbol,this.chart.options.symbols)},drawLegendSymbol:y.drawLineMarker,setData:function(e,i,n,r){var o,s,a,l=this,u=l.points,h=u&&u.length||0,d=l.options,p=l.chart,f=null,y=l.xAxis,b=d.turboThreshold,w=this.xData,S=this.yData,k=l.pointArrayMap,C=k&&k.length;if(e=e||[],o=e.length,i=x(i,!0),!1!==r&&o&&h===o&&!l.cropped&&!l.hasGroupedData&&l.visible)c(e,function(t,e){u[e].update&&t!==d.data[e]&&u[e].update(t,!1,null,!1)});else{if(l.xIncrement=null,l.colorCounter=0,c(this.parallelArrays,function(t){l[t+"Data"].length=0}),b&&o>b){for(s=0;null===f&&s<o;)f=e[s],s++;if(m(f))for(s=0;s<o;s++)w[s]=this.autoIncrement(),S[s]=e[s];else if(g(f))if(C)for(s=0;s<o;s++)a=e[s],w[s]=a[0],S[s]=a.slice(1,C+1);else for(s=0;s<o;s++)a=e[s],w[s]=a[0],S[s]=a[1];else t.error(12)}else for(s=0;s<o;s++)void 0!==e[s]&&(a={series:l},l.pointClass.prototype.applyOptions.apply(a,[e[s]]),l.updateParallelArrays(a,s));for(v(S[0])&&t.error(14,!0),l.data=[],l.options.data=l.userOptions.data=e,s=h;s--;)u[s]&&u[s].destroy&&u[s].destroy();y&&(y.minRange=y.userMinRange),l.isDirty=p.isDirtyBox=!0,l.isDirtyData=!!u,n=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),i&&p.redraw(n)},processData:function(e){var i,n,r,o,s,a,l,u,c=this,h=c.xData,d=c.yData,p=h.length,f=0,g=c.xAxis,m=c.options,v=m.cropThreshold,y=c.getExtremesFromAll||m.getExtremesFromAll,b=c.isCartesian,x=g&&g.val2lin,w=g&&g.isLog;if(b&&!c.isDirty&&!g.isDirty&&!c.yAxis.isDirty&&!e)return!1;for(g&&(a=g.getExtremes(),l=a.min,u=a.max),b&&c.sorted&&!y&&(!v||p>v||c.forceCrop)&&(h[p-1]<l||h[0]>u?(h=[],d=[]):(h[0]<l||h[p-1]>u)&&(i=this.cropData(c.xData,c.yData,l,u),h=i.xData,d=i.yData,f=i.start,n=!0)),s=h.length||1;--s;)r=w?x(h[s])-x(h[s-1]):h[s]-h[s-1],r>0&&(void 0===o||r<o)?o=r:r<0&&c.requireSorting&&t.error(15);c.cropped=n,c.cropStart=f,c.processedXData=h,c.processedYData=d,c.closestPointRange=o},cropData:function(t,e,i,n){var r,o,s=t.length,a=0,l=s,u=x(this.cropShoulder,1);for(r=0;r<s;r++)if(t[r]>=i){a=Math.max(0,r-u);break}for(o=r;o<s;o++)if(t[o]>n){l=o+u;break}return{xData:t.slice(a,l),yData:e.slice(a,l),start:a,end:l}},generatePoints:function(){var t,e,i,n,r=this,o=r.options,s=o.data,a=r.data,l=r.processedXData,u=r.processedYData,c=r.pointClass,h=l.length,d=r.cropStart||0,p=r.hasGroupedData,f=[];if(!a&&!p){var g=[];g.length=s.length,a=r.data=g}for(n=0;n<h;n++)e=d+n,p?(i=(new c).init(r,[l[n]].concat(k(u[n]))),i.dataGroup=r.groupMap[n]):(i=a[e])||void 0===s[e]||(a[e]=i=(new c).init(r,s[e],l[n])),i.index=e,f[n]=i;if(a&&(h!==(t=a.length)||p))for(n=0;n<t;n++)n!==d||p||(n+=h),a[n]&&(a[n].destroyElements(),a[n].plotX=void 0);r.data=a,r.points=f},getExtremes:function(t){var e,i,o,s,a,l,u,c=this.xAxis,h=this.yAxis,d=this.processedXData,p=[],f=0,v=c.getExtremes(),y=v.min,b=v.max;for(t=t||this.stackedYData||this.processedYData||[],e=t.length,l=0;l<e;l++)if(s=d[l],a=t[l],i=(m(a,!0)||g(a))&&(!h.isLog||a.length||a>0),o=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(d[l+1]||s)>=y&&(d[l-1]||s)<=b,i&&o)if(u=a.length)for(;u--;)null!==a[u]&&(p[f++]=a[u]);else p[f++]=a;this.dataMin=r(p),this.dataMax=n(p)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t,e,i,n,r,s=this,a=s.options,l=a.stacking,c=s.xAxis,h=c.categories,d=s.yAxis,p=s.points,f=p.length,g=!!s.modifyValue,v=a.pointPlacement,y="between"===v||m(v),b=a.threshold,w=a.startFromThreshold?b:0,S=Number.MAX_VALUE;for("between"===v&&(v=.5),m(v)&&(v*=x(a.pointRange||c.pointRange)),t=0;t<f;t++){var k,C,T=p[t],A=T.x,_=T.y,M=T.low,E=l&&d.stacks[(s.negStacks&&_<(w?0:b)?"-":"")+s.stackKey];d.isLog&&null!==_&&_<=0&&(T.isNull=!0),T.plotX=e=o(Math.min(Math.max(-1e5,c.translate(A,0,0,0,1,v,"flags"===this.type)),1e5)),l&&s.visible&&!T.isNull&&E&&E[A]&&(r=s.getStackIndicator(r,A,s.index),k=E[A],C=k.points[r.key],M=C[0],_=C[1],M===w&&r.key===E[A].base&&(M=x(b,d.min)),d.isLog&&M<=0&&(M=null),T.total=T.stackTotal=k.total,T.percentage=k.total&&T.y/k.total*100,T.stackY=_,k.setOffset(s.pointXOffset||0,s.barW||0)),T.yBottom=u(M)?d.translate(M,0,1,0,1):null,g&&(_=s.modifyValue(_,T)),T.plotY=i="number"==typeof _&&_!==1/0?Math.min(Math.max(-1e5,d.translate(_,0,1,0,1)),1e5):void 0,T.isInside=void 0!==i&&i>=0&&i<=d.len&&e>=0&&e<=c.len,T.clientX=y?o(c.translate(A,0,0,0,1,v)):e,T.negative=T.y<(b||0),T.category=h&&void 0!==h[T.x]?h[T.x]:T.x,T.isNull||(void 0!==n&&(S=Math.min(S,Math.abs(e-n))),n=e),T.zone=this.zones.length&&T.getZone()}s.closestPointRangePx=S},getValidPoints:function(t,e){var i=this.chart;return f(t||this.points||[],function(t){return!(e&&!i.isInsidePlot(t.plotX,t.plotY,i.inverted))&&!t.isNull})},setClip:function(t){var e=this.chart,i=this.options,n=e.renderer,r=e.inverted,o=this.clipBox,s=o||e.clipBox,a=this.sharedClipKey||["_sharedClip",t&&t.duration,t&&t.easing,s.height,i.xAxis,i.yAxis].join(","),l=e[a],u=e[a+"m"];l||(t&&(s.width=0,e[a+"m"]=u=n.clipRect(-99,r?-e.plotLeft:-e.plotTop,99,r?e.chartWidth:e.chartHeight)),e[a]=l=n.clipRect(s),l.count={length:0}),t&&(l.count[this.index]||(l.count[this.index]=!0,l.count.length+=1)),!1!==i.clip&&(this.group.clip(t||o?l:e.clipRect),this.markerGroup.clip(u),this.sharedClipKey=a),t||(l.count[this.index]&&(delete l.count[this.index],l.count.length-=1),0===l.count.length&&a&&e[a]&&(o||(e[a]=e[a].destroy()),e[a+"m"]&&(e[a+"m"]=e[a+"m"].destroy())))},animate:function(t){var e,n,r=this,o=r.chart,s=i(r.options.animation);t?r.setClip(s):(n=this.sharedClipKey,e=o[n],e&&e.animate({width:o.plotSizeX},s),o[n+"m"]&&o[n+"m"].animate({width:o.plotSizeX+99},s),r.animate=null)},afterAnimate:function(){this.setClip(),p(this,"afterAnimate")},drawPoints:function(){var t,e,i,n,r,o,s,a,l,u,c=this,h=c.points,d=c.chart,p=c.options,f=p.marker,g=c.markerGroup,v=c.xAxis,y=x(f.enabled,!!v.isRadial||null,c.closestPointRangePx>2*f.radius);if(!1!==f.enabled||c._hasPointMarkers)for(e=h.length;e--;)i=h[e],t=i.plotY,r=i.graphic,o=i.marker||{},s=!!i.marker,a=y&&void 0===o.enabled||o.enabled,l=i.isInside,a&&m(t)&&null!==i.y?(n=x(o.symbol,c.symbol),i.hasImage=0===n.indexOf("url"),u=c.markerAttribs(i,i.selected&&"select"),r?r[l?"show":"hide"](!0).animate(u):l&&(u.width>0||i.hasImage)&&(i.graphic=r=d.renderer.symbol(n,u.x,u.y,u.width,u.height,s?o:f).add(g)),r&&r.attr(c.pointAttribs(i,i.selected&&"select")),r&&r.addClass(i.getClassName(),!0)):r&&(i.graphic=r.destroy())},markerAttribs:function(t,e){var i,n,r,o=this.options.marker,s=t&&t.options,a=s&&s.marker||{},l=x(a.radius,o.radius);return e&&(i=o.states[e],n=a.states&&a.states[e],l=x(n&&n.radius,i&&i.radius,l+(i&&i.radiusPlus||0))),t.hasImage&&(l=0),r={x:Math.floor(t.plotX)-l,y:t.plotY-l},l&&(r.width=r.height=2*l),r},pointAttribs:function(t,e){var i,n,r,o,s=this.options.marker,a=t&&t.options,l=a&&a.marker||{},u=this.color,c=a&&a.color,h=t&&t.color,d=x(l.lineWidth,s.lineWidth),p=t&&t.zone&&t.zone.color;return u=c||p||h||u,r=l.fillColor||s.fillColor||u,o=l.lineColor||s.lineColor||u,e&&(i=s.states[e],n=l.states&&l.states[e]||{},d=x(n.lineWidth,i.lineWidth,d+x(n.lineWidthPlus,i.lineWidthPlus,0)),r=n.fillColor||i.fillColor||r,o=n.lineColor||i.lineColor||o),{stroke:o,"stroke-width":d,fill:r}},destroy:function(){var t,e,i,n,r,o=this,s=o.chart,a=/AppleWebKit\/533/.test(A.navigator.userAgent),l=o.data||[];for(p(o,"destroy"),S(o),c(o.axisTypes||[],function(t){(r=o[t])&&r.series&&(h(r.series,o),r.isDirty=r.forceRedraw=!0)}),o.legendItem&&o.chart.legend.destroyItem(o),e=l.length;e--;)(i=l[e])&&i.destroy&&i.destroy();o.points=null,clearTimeout(o.animationTimeout);for(n in o)o[n]instanceof C&&!o[n].survive&&(t=a&&"group"===n?"hide":"destroy",o[n][t]());s.hoverSeries===o&&(s.hoverSeries=null),h(s.series,o);for(n in o)delete o[n]},getGraphPath:function(t,e,i){var n,r,o=this,s=o.options,a=s.step,l=[],h=[];return t=t||o.points,n=t.reversed,n&&t.reverse(),a={right:1,center:2}[a]||a&&3,a&&n&&(a=4-a),!s.connectNulls||e||i||(t=this.getValidPoints(t)),c(t,function(n,c){var d,p=n.plotX,f=n.plotY,g=t[c-1];(n.leftCliff||g&&g.rightCliff)&&!i&&(r=!0),n.isNull&&!u(e)&&c>0?r=!s.connectNulls:n.isNull&&!e?r=!0:(0===c||r?d=["M",n.plotX,n.plotY]:o.getPointSpline?d=o.getPointSpline(t,n,c):a?(d=1===a?["L",g.plotX,f]:2===a?["L",(g.plotX+p)/2,g.plotY,"L",(g.plotX+p)/2,f]:["L",p,g.plotY],d.push("L",p,f)):d=["L",p,f],h.push(n.x),a&&h.push(n.x),l.push.apply(l,d),r=!1)}),l.xMap=h,o.graphPath=l,l},drawGraph:function(){var t=this,e=this.options,i=(this.gappedPath||this.getGraphPath).call(this),n=[["graph","highcharts-graph",e.lineColor||this.color,e.dashStyle]];c(this.zones,function(i,r){n.push(["zone-graph-"+r,"highcharts-graph highcharts-zone-graph-"+r+" "+(i.className||""),i.color||t.color,i.dashStyle||e.dashStyle])}),c(n,function(n,r){var o,s=n[0],a=t[s];a?(a.endX=i.xMap,a.animate({d:i})):i.length&&(t[s]=t.chart.renderer.path(i).addClass(n[1]).attr({zIndex:1}).add(t.group),o={stroke:n[2],"stroke-width":e.lineWidth,fill:t.fillGraph&&t.color||"none"},n[3]?o.dashstyle=n[3]:"square"!==e.linecap&&(o["stroke-linecap"]=o["stroke-linejoin"]="round"),a=t[s].attr(o).shadow(r<2&&e.shadow)),a&&(a.startX=i.xMap,a.isArea=i.isArea)})},applyZones:function(){var t,e,i,n,r,o,s,a,l,u=this,h=this.chart,d=h.renderer,p=this.zones,f=this.clips||[],g=this.graph,m=this.area,v=Math.max(h.chartWidth,h.chartHeight),y=this[(this.zoneAxis||"y")+"Axis"],b=h.inverted,w=!1;p.length&&(g||m)&&y&&void 0!==y.min&&(r=y.reversed,o=y.horiz,g&&g.hide(),m&&m.hide(),n=y.getExtremes(),c(p,function(c,p){t=r?o?h.plotWidth:0:o?0:y.toPixels(n.min),t=Math.min(Math.max(x(e,t),0),v),e=Math.min(Math.max(Math.round(y.toPixels(x(c.value,n.max),!0)),0),v),w&&(t=e=y.toPixels(n.max)),s=Math.abs(t-e),a=Math.min(t,e),l=Math.max(t,e),y.isXAxis?(i={x:b?l:a,y:0,width:s,height:v},o||(i.x=h.plotHeight-i.x)):(i={x:0,y:b?l:a,width:v,height:s},o&&(i.y=h.plotWidth-i.y)),b&&d.isVML&&(i=y.isXAxis?{x:0,y:r?a:l,height:i.width,width:h.chartWidth}:{x:i.y-h.plotLeft-h.spacingBox.x,y:0,width:i.height,height:h.chartHeight}),f[p]?f[p].animate(i):(f[p]=d.clipRect(i),g&&u["zone-graph-"+p].clip(f[p]),m&&u["zone-area-"+p].clip(f[p])),w=c.value>n.max}),this.clips=f)},invertGroups:function(t){function i(){var e={width:r.yAxis.len,height:r.xAxis.len};c(["group","markerGroup"],function(i){r[i]&&r[i].attr(e).invert(t)})}var n,r=this,o=r.chart;r.xAxis&&(n=e(o,"resize",i),e(r,"destroy",n),i(),r.invertGroups=i)},plotGroup:function(t,e,i,n,r){var o=this[t],s=!o;return s&&(this[t]=o=this.chart.renderer.g(e).attr({zIndex:n||.1}).add(r),o.addClass("highcharts-series-"+this.index+" highcharts-"+this.type+"-series highcharts-color-"+this.colorIndex+" "+(this.options.className||""))),o.attr({visibility:i})[s?"attr":"animate"](this.getPlotBox()),o},getPlotBox:function(){var t=this.chart,e=this.xAxis,i=this.yAxis;return t.inverted&&(e=i,i=this.xAxis),{translateX:e?e.left:t.plotLeft,translateY:i?i.top:t.plotTop,scaleX:1,scaleY:1}},render:function(){var t,e=this,n=e.chart,r=e.options,o=!!e.animate&&n.renderer.isSVG&&i(r.animation).duration,s=e.visible?"inherit":"hidden",a=r.zIndex,l=e.hasRendered,u=n.seriesGroup,c=n.inverted;t=e.plotGroup("group","series",s,a,u),e.markerGroup=e.plotGroup("markerGroup","markers",s,a,u),
o&&e.animate(!0),t.inverted=!!e.isCartesian&&c,e.drawGraph&&(e.drawGraph(),e.applyZones()),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker(),e.invertGroups(c),!1===r.clip||e.sharedClipKey||l||t.clip(n.clipRect),o&&e.animate(),l||(e.animationTimeout=T(function(){e.afterAnimate()},o)),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var t=this,e=t.chart,i=t.isDirty||t.isDirtyData,n=t.group,r=t.xAxis,o=t.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:x(r&&r.left,e.plotLeft),translateY:x(o&&o.top,e.plotTop)})),t.translate(),t.render(),i&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(t,e){var i=this,n=i.xAxis,r=i.yAxis,o=i.chart.inverted;return this.searchKDTree({clientX:o?n.len-t.chartY+n.pos:t.chartX-n.pos,plotY:o?r.len-t.chartX+r.pos:t.chartY-r.pos},e)},buildKDTree:function(){function t(e,n,r){var o,s,a=e&&e.length;if(a)return o=i.kdAxisArray[n%r],e.sort(function(t,e){return t[o]-e[o]}),s=Math.floor(a/2),{point:e[s],left:t(e.slice(0,s),n+1,r),right:t(e.slice(s+1),n+1,r)}}function e(){i.kdTree=t(i.getValidPoints(null,!i.directTouch),n,n)}var i=this,n=i.kdDimensions;delete i.kdTree,T(e,i.options.kdNow?0:1)},searchKDTree:function(t,e){function i(t,e){var i=u(t[o])&&u(e[o])?Math.pow(t[o]-e[o],2):null,n=u(t[s])&&u(e[s])?Math.pow(t[s]-e[s],2):null,r=(i||0)+(n||0);e.dist=u(r)?Math.sqrt(r):Number.MAX_VALUE,e.distX=u(i)?Math.sqrt(i):Number.MAX_VALUE}function n(t,e,o,s){var l,u,c,h,d,p=e.point,f=r.kdAxisArray[o%s],g=p;return i(t,p),l=t[f]-p[f],u=l<0?"left":"right",c=l<0?"right":"left",e[u]&&(h=n(t,e[u],o+1,s),g=h[a]<g[a]?h:p),e[c]&&Math.sqrt(l*l)<g[a]&&(d=n(t,e[c],o+1,s),g=d[a]<g[a]?d:g),g}var r=this,o=this.kdAxisArray[0],s=this.kdAxisArray[1],a=e?"distX":"dist";if(this.kdTree||this.buildKDTree(),this.kdTree)return n(t,this.kdTree,this.kdDimensions,this.kdDimensions)}})}(e),function(t){"use strict";function e(t,e,i,n,r){var o=t.chart.inverted;this.axis=t,this.isNegative=i,this.options=e,this.x=n,this.total=null,this.points={},this.stack=r,this.leftCliff=0,this.rightCliff=0,this.alignOptions={align:e.align||(o?i?"left":"right":"center"),verticalAlign:e.verticalAlign||(o?"middle":i?"bottom":"top"),y:u(e.y,o?4:i?14:-6),x:u(e.x,o?i?-6:6:0)},this.textAlign=e.textAlign||(o?i?"right":"left":"center")}var i=t.Axis,n=t.Chart,r=t.correctFloat,o=t.defined,s=t.destroyObjectProperties,a=t.each,l=t.format,u=t.pick,c=t.Series;e.prototype={destroy:function(){s(this,this.axis)},render:function(t){var e=this.options,i=e.format,n=i?l(i,this):e.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,e.useHTML).css(e.style).attr({align:this.textAlign,rotation:e.rotation,visibility:"hidden"}).add(t)},setOffset:function(t,e){var i,n=this,r=n.axis,o=r.chart,s=o.inverted,a=r.reversed,l=this.isNegative&&!a||!this.isNegative&&a,u=r.translate(r.usePercentage?100:this.total,0,0,0,1),c=r.translate(0),h=Math.abs(u-c),d=o.xAxis[0].translate(this.x)+t,p=o.plotHeight,f={x:s?l?u:u-h:d,y:s?p-d-e:l?p-u-h:p-u,width:s?h:e,height:s?e:h},g=this.label;g&&(g.align(this.alignOptions,null,f),i=g.alignAttr,g[!1===this.options.crop||o.isInsidePlot(i.x,i.y)?"show":"hide"](!0))}},n.prototype.getStacks=function(){var t=this;a(t.yAxis,function(t){t.stacks&&t.hasVisibleSeries&&(t.oldStacks=t.stacks)}),a(t.series,function(e){!e.options.stacking||!0!==e.visible&&!1!==t.options.chart.ignoreHiddenSeries||(e.stackKey=e.type+u(e.options.stack,""))})},i.prototype.buildStacks=function(){var t,e,i=this.series,n=u(this.options.reversedStacks,!0),r=i.length;if(!this.isXAxis){for(this.usePercentage=!1,e=r;e--;)i[n?e:r-e-1].setStackedPoints();for(e=r;e--;)t=i[n?e:r-e-1],t.setStackCliffs&&t.setStackCliffs();if(this.usePercentage)for(e=0;e<r;e++)i[e].setPercentStacks()}},i.prototype.renderStackTotals=function(){var t,e,i,n=this,r=n.chart,o=r.renderer,s=n.stacks,a=n.stackTotalGroup;a||(n.stackTotalGroup=a=o.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),a.translate(r.plotLeft,r.plotTop);for(t in s){e=s[t];for(i in e)e[i].render(a)}},i.prototype.resetStacks=function(){var t,e,i=this.stacks;if(!this.isXAxis)for(t in i)for(e in i[t])i[t][e].touched<this.stacksTouched?(i[t][e].destroy(),delete i[t][e]):(i[t][e].total=null,i[t][e].cum=null)},i.prototype.cleanStacks=function(){var t,e,i;if(!this.isXAxis){this.oldStacks&&(t=this.stacks=this.oldStacks);for(e in t)for(i in t[e])t[e][i].cum=t[e][i].total}},c.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,i,n,s,a,l,c,h,d,p=this,f=p.processedXData,g=p.processedYData,m=[],v=g.length,y=p.options,b=y.threshold,x=y.startFromThreshold?b:0,w=y.stack,S=y.stacking,k=p.stackKey,C="-"+k,T=p.negStacks,A=p.yAxis,_=A.stacks,M=A.oldStacks;for(A.stacksTouched+=1,c=0;c<v;c++)h=f[c],d=g[c],t=p.getStackIndicator(t,h,p.index),l=t.key,i=T&&d<(x?0:b),a=i?C:k,_[a]||(_[a]={}),_[a][h]||(M[a]&&M[a][h]?(_[a][h]=M[a][h],_[a][h].total=null):_[a][h]=new e(A,A.options.stackLabels,i,h,w)),n=_[a][h],null!==d&&(n.points[l]=n.points[p.index]=[u(n.cum,x)],o(n.cum)||(n.base=l),n.touched=A.stacksTouched,t.index>0&&!1===p.singleStacks&&(n.points[l][0]=n.points[p.index+","+h+",0"][0])),"percent"===S?(s=i?k:C,T&&_[s]&&_[s][h]?(s=_[s][h],n.total=s.total=Math.max(s.total,n.total)+Math.abs(d)||0):n.total=r(n.total+(Math.abs(d)||0))):n.total=r(n.total+(d||0)),n.cum=u(n.cum,x)+(d||0),null!==d&&(n.points[l].push(n.cum),m[c]=n.cum);"percent"===S&&(A.usePercentage=!0),this.stackedYData=m,A.oldStacks={}}},c.prototype.setPercentStacks=function(){var t,e=this,i=e.stackKey,n=e.yAxis.stacks,o=e.processedXData;a([i,"-"+i],function(i){for(var s,a,l,u,c=o.length;c--;)s=o[c],t=e.getStackIndicator(t,s,e.index,i),a=n[i]&&n[i][s],(l=a&&a.points[t.key])&&(u=a.total?100/a.total:0,l[0]=r(l[0]*u),l[1]=r(l[1]*u),e.stackedYData[c]=l[1])})},c.prototype.getStackIndicator=function(t,e,i,n){return!o(t)||t.x!==e||n&&t.key!==n?t={x:e,index:0,key:n}:t.index++,t.key=[i,e,t.index].join(","),t}}(e),function(t){"use strict";var e=t.addEvent,i=t.animate,n=t.Axis,r=t.Chart,o=t.createElement,s=t.css,a=t.defined,l=t.each,u=t.erase,c=t.extend,h=t.fireEvent,d=t.inArray,p=t.isNumber,f=t.isObject,g=t.merge,m=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,x=t.setAnimation,w=t.splat;c(r.prototype,{addSeries:function(t,e,i){var n,r=this;return t&&(e=m(e,!0),h(r,"addSeries",{options:t},function(){n=r.initSeries(t),r.isDirtyLegend=!0,r.linkSeries(),e&&r.redraw(i)})),n},addAxis:function(t,e,i,r){var o=e?"xAxis":"yAxis",s=this.options,a=g(t,{index:this[o].length,isX:e});new n(this,a),s[o]=w(s[o]||{}),s[o].push(a),m(i,!0)&&this.redraw(r)},showLoading:function(t){var n=this,r=n.options,a=n.loadingDiv,l=r.loading,u=function(){a&&s(a,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})};a||(n.loadingDiv=a=o("div",{className:"highcharts-loading highcharts-loading-hidden"},null,n.container),n.loadingSpan=o("span",{className:"highcharts-loading-inner"},null,a),e(n,"redraw",u)),a.className="highcharts-loading",n.loadingSpan.innerHTML=t||r.lang.loading,s(a,c(l.style,{zIndex:10})),s(n.loadingSpan,l.labelStyle),n.loadingShown||(s(a,{opacity:0,display:""}),i(a,{opacity:l.style.opacity||.5},{duration:l.showDuration||0})),n.loadingShown=!0,u()},hideLoading:function(){var t=this.options,e=this.loadingDiv;e&&(e.className="highcharts-loading highcharts-loading-hidden",i(e,{opacity:0},{duration:t.loading.hideDuration||100,complete:function(){s(e,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:["backgroundColor","borderColor","borderWidth","margin","marginTop","marginRight","marginBottom","marginLeft","spacing","spacingTop","spacingRight","spacingBottom","spacingLeft","borderRadius","plotBackgroundColor","plotBackgroundImage","plotBorderColor","plotBorderWidth","plotShadow","shadow"],propsRequireUpdateSeries:["chart.inverted","chart.polar","chart.ignoreHiddenSeries","chart.type","colors","plotOptions"],update:function(t,e){var i,n,r,o,s,u={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},c=t.chart;if(c){g(!0,this.options.chart,c),"className"in c&&this.setClassName(c.className),("inverted"in c||"polar"in c)&&(this.propFromSeries(),n=!0);for(i in c)c.hasOwnProperty(i)&&(-1!==d("chart."+i,this.propsRequireUpdateSeries)&&(r=!0),-1!==d(i,this.propsRequireDirtyBox)&&(this.isDirtyBox=!0));"style"in c&&this.renderer.setStyle(c.style)}for(i in t)this[i]&&"function"==typeof this[i].update?this[i].update(t[i],!1):"function"==typeof this[u[i]]&&this[u[i]](t[i]),"chart"!==i&&-1!==d(i,this.propsRequireUpdateSeries)&&(r=!0);t.colors&&(this.options.colors=t.colors),t.plotOptions&&g(!0,this.options.plotOptions,t.plotOptions),l(["xAxis","yAxis","series"],function(e){t[e]&&l(w(t[e]),function(t){var i=a(t.id)&&this.get(t.id)||this[e][0];i&&i.coll===e&&i.update(t,!1)},this)},this),n&&l(this.axes,function(t){t.update({},!1)}),r&&l(this.series,function(t){t.update({},!1)}),t.loading&&g(!0,this.options.loading,t.loading),o=c&&c.width,s=c&&c.height,p(o)&&o!==this.chartWidth||p(s)&&s!==this.chartHeight?this.setSize(o,s):m(e,!0)&&this.redraw()},setSubtitle:function(t){this.setTitle(void 0,t)}}),c(v.prototype,{update:function(t,e,i,n){function r(){s.applyOptions(t),null===s.y&&l&&(s.graphic=l.destroy()),f(t,!0)&&(l&&l.element&&t&&t.marker&&t.marker.symbol&&(s.graphic=l.destroy()),t&&t.dataLabels&&s.dataLabel&&(s.dataLabel=s.dataLabel.destroy())),o=s.index,a.updateParallelArrays(s,o),c.data[o]=f(c.data[o],!0)?s.options:t,a.isDirty=a.isDirtyData=!0,!a.fixedBox&&a.hasCartesianSeries&&(u.isDirtyBox=!0),"point"===c.legendType&&(u.isDirtyLegend=!0),e&&u.redraw(i)}var o,s=this,a=s.series,l=s.graphic,u=a.chart,c=a.options;e=m(e,!0),!1===n?r():s.firePointEvent("update",{options:t},r)},remove:function(t,e){this.series.removePoint(d(this,this.series.data),t,e)}}),c(y.prototype,{addPoint:function(t,e,i,n){var r,o,s,a,l=this,u=l.options,c=l.data,h=l.chart,d=l.xAxis&&l.xAxis.names,p=u.data,f=l.xData;if(e=m(e,!0),r={series:l},l.pointClass.prototype.applyOptions.apply(r,[t]),a=r.x,s=f.length,l.requireSorting&&a<f[s-1])for(o=!0;s&&f[s-1]>a;)s--;l.updateParallelArrays(r,"splice",s,0,0),l.updateParallelArrays(r,s),d&&r.name&&(d[a]=r.name),p.splice(s,0,t),o&&(l.data.splice(s,0,null),l.processData()),"point"===u.legendType&&l.generatePoints(),i&&(c[0]&&c[0].remove?c[0].remove(!1):(c.shift(),l.updateParallelArrays(r,"shift"),p.shift())),l.isDirty=!0,l.isDirtyData=!0,e&&h.redraw(n)},removePoint:function(t,e,i){var n=this,r=n.data,o=r[t],s=n.points,a=n.chart,l=function(){s&&s.length===r.length&&s.splice(t,1),r.splice(t,1),n.options.data.splice(t,1),n.updateParallelArrays(o||{series:n},"splice",t,1),o&&o.destroy(),n.isDirty=!0,n.isDirtyData=!0,e&&a.redraw()};x(i,a),e=m(e,!0),o?o.firePointEvent("remove",null,l):l()},remove:function(t,e,i){function n(){r.destroy(),o.isDirtyLegend=o.isDirtyBox=!0,o.linkSeries(),m(t,!0)&&o.redraw(e)}var r=this,o=r.chart;!1!==i?h(r,"remove",null,n):n()},update:function(t,e){var i,n=this,r=this.chart,o=this.userOptions,s=this.type,a=t.type||o.type||r.options.chart.type,u=b[s].prototype,h=["group","markerGroup","dataLabelsGroup"];(a&&a!==s||void 0!==t.zIndex)&&(h.length=0),l(h,function(t){h[t]=n[t],delete n[t]}),t=g(o,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1,null,!1);for(i in u)this[i]=void 0;c(this,b[a||s].prototype),l(h,function(t){n[t]=h[t]}),this.init(r,t),r.linkSeries(),m(e,!0)&&r.redraw(!1)}}),c(n.prototype,{update:function(t,e){var i=this.chart;t=i.options[this.coll][this.options.index]=g(this.userOptions,t),this.destroy(!0),this.init(i,c(t,{events:void 0})),i.isDirtyBox=!0,m(e,!0)&&i.redraw()},remove:function(t){for(var e=this.chart,i=this.coll,n=this.series,r=n.length;r--;)n[r]&&n[r].remove(!1);u(e.axes,this),u(e[i],this),e.options[i].splice(this.options.index,1),l(e[i],function(t,e){t.options.index=e}),this.destroy(),e.isDirtyBox=!0,m(t,!0)&&e.redraw()},setTitle:function(t,e){this.update({title:t},e)},setCategories:function(t,e){this.update({categories:t},e)}})}(e),function(t){"use strict";var e=t.color,i=t.each,n=t.LegendSymbolMixin,r=t.map,o=t.pick,s=t.Series;(0,t.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(){var t,e,n,s=this,a=[],l=[],u=this.xAxis,c=this.yAxis,h=c.stacks[this.stackKey],d={},p=this.points,f=s.index,g=c.series,m=g.length,v=o(c.options.reversedStacks,!0)?1:-1;if(this.options.stacking){for(e=0;e<p.length;e++)d[p[e].x]=p[e];for(n in h)null!==h[n].total&&l.push(n);l.sort(function(t,e){return t-e}),t=r(g,function(){return this.visible}),i(l,function(n,r){var o,s,p=0;if(d[n]&&!d[n].isNull)a.push(d[n]),i([-1,1],function(i){var a=1===i?"rightNull":"leftNull",u=1===i?"rightCliff":"leftCliff",c=0,p=h[l[r+i]];if(p)for(e=f;e>=0&&e<m;)o=p.points[e],o||(e===f?d[n][a]=!0:t[e]&&(s=h[n].points[e])&&(c-=s[1]-s[0])),e+=v;d[n][u]=c});else{for(e=f;e>=0&&e<m;){if(o=h[n].points[e]){p=o[1];break}e+=v}p=c.toPixels(p,!0),a.push({isNull:!0,plotX:u.toPixels(n,!0),plotY:p,yBottom:p})}})}return a},getGraphPath:function(t){var e,i,n,r,a,l,u,c,h=s.prototype.getGraphPath,d=this.options,p=d.stacking,f=this.yAxis,g=[],m=[],v=this.index,y=f.stacks[this.stackKey],b=d.threshold,x=f.getThreshold(d.threshold),w=d.connectNulls||"percent"===p,S=function(e,i,n){var r,o,s=t[e],a=p&&y[s.x].points[v],u=s[n+"Null"]||0,c=s[n+"Cliff"]||0,h=!0;c||u?(r=(u?a[0]:a[1])+c,o=a[0]+c,h=!!u):!p&&t[i]&&t[i].isNull&&(r=o=b),void 0!==r&&(m.push({plotX:l,plotY:null===r?x:f.getThreshold(r),isNull:h}),g.push({plotX:l,plotY:null===o?x:f.getThreshold(o),doCurve:!1}))};for(t=t||this.points,p&&(t=this.getStackPoints()),r=0;r<t.length;r++)u=t[r].isNull,l=o(t[r].rectPlotX,t[r].plotX),c=o(t[r].yBottom,x),u&&!w||(w||S(r,r-1,"left"),u&&!p&&w||(m.push(t[r]),g.push({x:r,plotX:l,plotY:c})),w||S(r,r+1,"right"));return i=h.call(this,m,!0,!0),g.reversed=!0,n=h.call(this,g,!0,!0),n.length&&(n[0]="L"),a=i.concat(n),e=h.call(this,m,!1,w),a.xMap=i.xMap,this.areaPath=a,e},drawGraph:function(){this.areaPath=[],s.prototype.drawGraph.apply(this);var t=this,n=this.areaPath,r=this.options,a=this.zones,l=[["area","highcharts-area",this.color,r.fillColor]];i(a,function(e,i){l.push(["zone-area-"+i,"highcharts-area highcharts-zone-area-"+i+" "+e.className,e.color||t.color,e.fillColor||r.fillColor])}),i(l,function(i){var s=i[0],a=t[s];a?(a.endX=n.xMap,a.animate({d:n})):(a=t[s]=t.chart.renderer.path(n).addClass(i[1]).attr({fill:o(i[3],e(i[2]).setOpacity(o(r.fillOpacity,.75)).get()),zIndex:0}).add(t.group),a.isArea=!0),a.startX=n.xMap,a.shiftUnit=r.step?2:1})},drawLegendSymbol:n.drawRectangle})}(e),function(t){"use strict";var e=t.pick;(0,t.seriesType)("spline","line",{},{getPointSpline:function(t,i,n){function r(t){return t&&!t.isNull&&!1!==t.doCurve}var o,s,a,l,u,c=i.plotX,h=i.plotY,d=t[n-1],p=t[n+1];if(r(d)&&r(p)){var f=d.plotX,g=d.plotY,m=p.plotX,v=p.plotY,y=0;o=(1.5*c+f)/2.5,s=(1.5*h+g)/2.5,a=(1.5*c+m)/2.5,l=(1.5*h+v)/2.5,a!==o&&(y=(l-s)*(a-c)/(a-o)+h-l),s+=y,l+=y,s>g&&s>h?(s=Math.max(g,h),l=2*h-s):s<g&&s<h&&(s=Math.min(g,h),l=2*h-s),l>v&&l>h?(l=Math.max(v,h),s=2*h-l):l<v&&l<h&&(l=Math.min(v,h),s=2*h-l),i.rightContX=a,i.rightContY=l}return u=["C",e(d.rightContX,d.plotX),e(d.rightContY,d.plotY),e(o,c),e(s,h),c,h],d.rightContX=d.rightContY=null,u}})}(e),function(t){"use strict";var e=t.seriesTypes.area.prototype,i=t.defaultPlotOptions,n=t.LegendSymbolMixin;(0,t.seriesType)("areaspline","spline",i.area,{getStackPoints:e.getStackPoints,getGraphPath:e.getGraphPath,setStackCliffs:e.setStackCliffs,drawGraph:e.drawGraph,drawLegendSymbol:n.drawRectangle})}(e),function(t){"use strict";var e=t.animObject,i=t.color,n=t.each,r=t.extend,o=t.isNumber,s=t.LegendSymbolMixin,a=t.merge,l=t.noop,u=t.pick,c=t.Series,h=t.seriesType,d=t.svg;h("column","line",{borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1,shadow:!1},select:{color:"#cccccc",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){c.prototype.init.apply(this,arguments);var t=this,e=t.chart;e.hasRendered&&n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)})},getColumnMetrics:function(){var t,e=this,i=e.options,r=e.xAxis,o=e.yAxis,s=r.reversed,a={},l=0;!1===i.grouping?l=1:n(e.chart.series,function(i){var n,r=i.options,s=i.yAxis;i.type===e.type&&i.visible&&o.len===s.len&&o.pos===s.pos&&(r.stacking?(t=i.stackKey,void 0===a[t]&&(a[t]=l++),n=a[t]):!1!==r.grouping&&(n=l++),i.columnIndex=n)});var c=Math.min(Math.abs(r.transA)*(r.ordinalSlope||i.pointRange||r.closestPointRange||r.tickInterval||1),r.len),h=c*i.groupPadding,d=c-2*h,p=d/l,f=Math.min(i.maxPointWidth||r.len,u(i.pointWidth,p*(1-2*i.pointPadding))),g=(p-f)/2,m=(e.columnIndex||0)+(s?1:0),v=g+(h+m*p-c/2)*(s?-1:1);return e.columnMetrics={width:f,offset:v},e.columnMetrics},crispCol:function(t,e,i,n){var r,o,s,a=this.chart,l=this.borderWidth,u=-(l%2?.5:0),c=l%2?.5:1;return a.inverted&&a.renderer.isVML&&(c+=1),r=Math.round(t+i)+u,t=Math.round(t)+u,i=r-t,o=Math.round(e+n)+c,s=Math.abs(e)<=.5&&o>.5,e=Math.round(e)+c,n=o-e,s&&n&&(e-=1,n+=1),{x:t,y:e,width:i,height:n}},translate:function(){var t=this,e=t.chart,i=t.options,r=t.dense=t.closestPointRange*t.xAxis.transA<2,o=t.borderWidth=u(i.borderWidth,r?0:1),s=t.yAxis,a=i.threshold,l=t.translatedThreshold=s.getThreshold(a),h=u(i.minPointLength,5),d=t.getColumnMetrics(),p=d.width,f=t.barW=Math.max(p,1+2*o),g=t.pointXOffset=d.offset;e.inverted&&(l-=.5),i.pointPadding&&(f=Math.ceil(f)),c.prototype.translate.apply(t),n(t.points,function(i){var n,r=u(i.yBottom,l),o=999+Math.abs(r),a=Math.min(Math.max(-o,i.plotY),s.len+o),c=i.plotX+g,d=f,m=Math.min(a,r),v=Math.max(a,r)-m;Math.abs(v)<h&&h&&(v=h,n=!s.reversed&&!i.negative||s.reversed&&i.negative,m=Math.abs(m-l)>h?r-h:l-(n?h:0)),i.barX=c,i.pointWidth=p,i.tooltipPos=e.inverted?[s.len+s.pos-e.plotLeft-a,t.xAxis.len-c-d/2,v]:[c+d/2,a+s.pos-e.plotTop,v],i.shapeType="rect",i.shapeArgs=t.crispCol.apply(t,i.isNull?[i.plotX,s.len/2,0,0]:[c,m,d,v])})},getSymbol:l,drawLegendSymbol:s.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(t,e){var n,r,o,s,a=this.options,l=this.pointAttrToOptions||{},u=l.stroke||"borderColor",c=l["stroke-width"]||"borderWidth",h=t&&t.color||this.color,d=t[u]||a[u]||this.color||h,p=t[c]||a[c]||this[c]||0,f=a.dashStyle;return t&&this.zones.length&&(o=t.getZone(),h=o&&o.color||t.options.color||this.color),e&&(n=a.states[e],s=n.brightness,h=n.color||void 0!==s&&i(h).brighten(n.brightness).get()||h,d=n[u]||d,p=n[c]||p,f=n.dashStyle||f),r={fill:h,stroke:d,"stroke-width":p},a.borderRadius&&(r.r=a.borderRadius),f&&(r.dashstyle=f),r},drawPoints:function(){var t,e=this,i=this.chart,r=e.options,s=i.renderer,l=r.animationLimit||250;n(e.points,function(n){var u=n.plotY,c=n.graphic;o(u)&&null!==n.y?(t=n.shapeArgs,c?c[i.pointCount<l?"animate":"attr"](a(t)):n.graphic=c=s[n.shapeType](t).attr({class:n.getClassName()}).add(n.group||e.group),c.attr(e.pointAttribs(n,n.selected&&"select")).shadow(r.shadow,null,r.stacking&&!r.borderRadius)):c&&(n.graphic=c.destroy())})},animate:function(t){var i,n=this,o=this.yAxis,s=n.options,a=this.chart.inverted,l={};d&&(t?(l.scaleY=.001,i=Math.min(o.pos+o.len,Math.max(o.pos,o.toPixels(s.threshold))),a?l.translateX=i-o.len:l.translateY=i,n.group.attr(l)):(l[a?"translateX":"translateY"]=o.pos,n.group.animate(l,r(e(n.options.animation),{step:function(t,e){n.group.attr({scaleY:Math.max(.001,e.pos)})}})),n.animate=null))},remove:function(){var t=this,e=t.chart;e.hasRendered&&n(e.series,function(e){e.type===t.type&&(e.isDirty=!0)}),c.prototype.remove.apply(t,arguments)}})}(e),function(t){"use strict";(0,t.seriesType)("bar","column",null,{inverted:!0})}(e),function(t){"use strict";var e=t.Series;(0,t.seriesType)("scatter","line",{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&e.prototype.drawGraph.call(this)}})}(e),function(t){"use strict";var e=t.pick,i=t.relativeLength;t.CenteredSeriesMixin={getCenter:function(){var t,n,r,o=this.options,s=this.chart,a=2*(o.slicedOffset||0),l=s.plotWidth-2*a,u=s.plotHeight-2*a,c=o.center,h=[e(c[0],"50%"),e(c[1],"50%"),o.size||"100%",o.innerSize||0],d=Math.min(l,u);for(n=0;n<4;++n)r=h[n],t=n<2||2===n&&/%$/.test(r),h[n]=i(r,[l,u,d,h[2]][n])+(t?a:0);return h[3]>h[2]&&(h[3]=h[2]),h}}}(e),function(t){"use strict";var e=t.addEvent,i=t.CenteredSeriesMixin,n=t.defined,r=t.each,o=t.extend,s=t.inArray,a=t.LegendSymbolMixin,l=t.noop,u=t.pick,c=t.Point,h=t.Series,d=t.seriesType,p=t.seriesTypes,f=t.setAnimation;d("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return null===this.y?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1,shadow:!1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:p.column.prototype.pointAttribs,animate:function(t){var e=this,i=e.points,n=e.startAngleRad;t||(r(i,function(t){var i=t.graphic,r=t.shapeArgs;i&&(i.attr({r:t.startR||e.center[3]/2,start:n,end:n}),i.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null)},updateTotals:function(){var t,e,i=0,n=this.points,r=n.length,o=this.options.ignoreHiddenPoint;for(t=0;t<r;t++)e=n[t],e.y<0&&(e.y=null),i+=o&&!e.visible?0:e.y;for(this.total=i,t=0;t<r;t++)e=n[t],e.percentage=i>0&&(e.visible||!o)?e.y/i*100:0,e.total=i},generatePoints:function(){h.prototype.generatePoints.call(this),this.updateTotals()},translate:function(t){this.generatePoints();var e,i,n,r,o,s,a,l=this,c=0,h=l.options,d=h.slicedOffset,p=d+(h.borderWidth||0),f=h.startAngle||0,g=l.startAngleRad=Math.PI/180*(f-90),m=l.endAngleRad=Math.PI/180*(u(h.endAngle,f+360)-90),v=m-g,y=l.points,b=h.dataLabels.distance,x=h.ignoreHiddenPoint,w=y.length;for(t||(l.center=t=l.getCenter()),l.getX=function(e,i){return n=Math.asin(Math.min((e-t[1])/(t[2]/2+b),1)),t[0]+(i?-1:1)*(Math.cos(n)*(t[2]/2+b))},s=0;s<w;s++)a=y[s],e=g+c*v,x&&!a.visible||(c+=a.percentage/100),i=g+c*v,a.shapeType="arc",a.shapeArgs={x:t[0],y:t[1],r:t[2]/2,innerR:t[3]/2,start:Math.round(1e3*e)/1e3,end:Math.round(1e3*i)/1e3},n=(i+e)/2,n>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),a.slicedTranslation={translateX:Math.round(Math.cos(n)*d),translateY:Math.round(Math.sin(n)*d)},r=Math.cos(n)*t[2]/2,o=Math.sin(n)*t[2]/2,a.tooltipPos=[t[0]+.7*r,t[1]+.7*o],a.half=n<-Math.PI/2||n>Math.PI/2?1:0,a.angle=n,p=Math.min(p,b/5),a.labelPos=[t[0]+r+Math.cos(n)*b,t[1]+o+Math.sin(n)*b,t[0]+r+Math.cos(n)*p,t[1]+o+Math.sin(n)*p,t[0]+r,t[1]+o,b<0?"center":a.half?"right":"left",n]},drawGraph:null,drawPoints:function(){var t,e,i,n,s=this,a=s.chart,l=a.renderer,u=s.options.shadow;u&&!s.shadowGroup&&(s.shadowGroup=l.g("shadow").add(s.group)),r(s.points,function(r){if(null!==r.y){e=r.graphic,n=r.shapeArgs,t=r.sliced?r.slicedTranslation:{};var a=r.shadowGroup;u&&!a&&(a=r.shadowGroup=l.g("shadow").add(s.shadowGroup)),a&&a.attr(t),i=s.pointAttribs(r,r.selected&&"select"),e?e.setRadialReference(s.center).attr(i).animate(o(n,t)):(r.graphic=e=l[r.shapeType](n).addClass(r.getClassName()).setRadialReference(s.center).attr(t).add(s.group),r.visible||e.attr({visibility:"hidden"}),e.attr(i).attr({"stroke-linejoin":"round"}).shadow(u,a))}})},searchPoint:l,sortByAngle:function(t,e){t.sort(function(t,i){return void 0!==t.angle&&(i.angle-t.angle)*e})},drawLegendSymbol:a.drawRectangle,getCenter:i.getCenter,getSymbol:l},{init:function(){c.prototype.init.apply(this,arguments);var t,i=this;return i.name=u(i.name,"Slice"),t=function(t){i.slice("select"===t.type)},e(i,"select",t),e(i,"unselect",t),i},setVisible:function(t,e){var i=this,n=i.series,o=n.chart,a=n.options.ignoreHiddenPoint;e=u(e,a),t!==i.visible&&(i.visible=i.options.visible=t=void 0===t?!i.visible:t,n.options.data[s(i,n.data)]=i.options,r(["graphic","dataLabel","connector","shadowGroup"],function(e){i[e]&&i[e][t?"show":"hide"](!0)}),i.legendItem&&o.legend.colorizeItem(i,t),t||"hover"!==i.state||i.setState(""),a&&(n.isDirty=!0),e&&o.redraw())},slice:function(t,e,i){var r,o=this,a=o.series,l=a.chart;f(i,l),e=u(e,!0),o.sliced=o.options.sliced=t=n(t)?t:!o.sliced,a.options.data[s(o,a.data)]=o.options,r=t?o.slicedTranslation:{translateX:0,translateY:0},o.graphic.animate(r),o.shadowGroup&&o.shadowGroup.animate(r)},haloPath:function(t){var e=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(e.x,e.y,e.r+t,e.r+t,{innerR:this.shapeArgs.r,start:e.start,end:e.end})}})}(e),function(t){"use strict";var e=t.addEvent,i=t.arrayMax,n=t.defined,r=t.each,o=t.extend,s=t.format,a=t.map,l=t.merge,u=t.noop,c=t.pick,h=t.relativeLength,d=t.Series,p=t.seriesTypes,f=t.stableSort;t.distribute=function(t,e){function i(t,e){return t.target-e.target}var n,o,s,l=!0,u=t,c=[],h=0;for(n=t.length;n--;)h+=t[n].size;if(h>e){for(f(t,function(t,e){return(e.rank||0)-(t.rank||0)}),n=0,h=0;h<=e;)h+=t[n].size,n++;c=t.splice(n-1,t.length)}for(f(t,i),t=a(t,function(t){return{size:t.size,targets:[t.target]}});l;){for(n=t.length;n--;)o=t[n],s=(Math.min.apply(0,o.targets)+Math.max.apply(0,o.targets))/2,o.pos=Math.min(Math.max(0,s-o.size/2),e-o.size);for(n=t.length,l=!1;n--;)n>0&&t[n-1].pos+t[n-1].size>t[n].pos&&(t[n-1].size+=t[n].size,t[n-1].targets=t[n-1].targets.concat(t[n].targets),t[n-1].pos+t[n-1].size>e&&(t[n-1].pos=e-t[n-1].size),t.splice(n,1),l=!0)}n=0,r(t,function(t){var e=0;r(t.targets,function(){u[n].pos=t.pos+e,e+=u[n].size,n++})}),u.push.apply(u,c),f(u,i)},d.prototype.drawDataLabels=function(){var t,i,a,u,h=this,d=h.options,p=d.dataLabels,f=h.points,g=h.hasRendered||0,m=c(p.defer,!0),v=h.chart.renderer;(p.enabled||h._hasPointLabels)&&(h.dlProcessOptions&&h.dlProcessOptions(p),u=h.plotGroup("dataLabelsGroup","data-labels",m&&!g?"hidden":"visible",p.zIndex||6),m&&(u.attr({opacity:+g}),g||e(h,"afterAnimate",function(){h.visible&&u.show(!0),u[d.animation?"animate":"attr"]({opacity:1},{duration:200})})),i=p,r(f,function(e){var r,f,g,m,y,b,x=e.dataLabel,w=e.connector,S=!0,k={};if(t=e.dlOptions||e.options&&e.options.dataLabels,r=c(t&&t.enabled,i.enabled)&&null!==e.y,x&&!r)e.dataLabel=x.destroy();else if(r){if(p=l(i,t),b=p.style,y=p.rotation,f=e.getLabelConfig(),a=p.format?s(p.format,f):p.formatter.call(f,p),b.color=c(p.color,b.color,h.color,"#000000"),x)n(a)?(x.attr({text:a}),S=!1):(e.dataLabel=x=x.destroy(),w&&(e.connector=w.destroy()));else if(n(a)){g={fill:p.backgroundColor,stroke:p.borderColor,"stroke-width":p.borderWidth,r:p.borderRadius||0,rotation:y,padding:p.padding,zIndex:1},"contrast"===b.color&&(k.color=p.inside||p.distance<0||d.stacking?v.getContrast(e.color||h.color):"#000000"),d.cursor&&(k.cursor=d.cursor);for(m in g)void 0===g[m]&&delete g[m];x=e.dataLabel=v[y?"text":"label"](a,0,-9999,p.shape,null,null,p.useHTML,null,"data-label").attr(g),x.addClass("highcharts-data-label-color-"+e.colorIndex+" "+(p.className||"")+(p.useHTML?"highcharts-tracker":"")),x.css(o(b,k)),x.add(u),x.shadow(p.shadow)}x&&h.alignDataLabel(e,x,p,null,S)}}))},d.prototype.alignDataLabel=function(t,e,i,n,r){var s,a,l,u,h,d,p=this.chart,f=p.inverted,g=c(t.plotX,-9999),m=c(t.plotY,-9999),v=e.getBBox(),y=i.rotation,b=i.align,x=this.visible&&(t.series.forceDL||p.isInsidePlot(g,Math.round(m),f)||n&&p.isInsidePlot(g,f?n.x+1:n.y+n.height-1,f)),w="justify"===c(i.overflow,"justify");x&&(s=i.style.fontSize,a=p.renderer.fontMetrics(s,e).b,n=o({x:f?p.plotWidth-m:g,y:Math.round(f?p.plotHeight-g:m),width:0,height:0},n),o(i,{width:v.width,height:v.height}),y?(w=!1,h=p.renderer.rotCorr(a,y),d={x:n.x+i.x+n.width/2+h.x,y:n.y+i.y+{top:0,middle:.5,bottom:1}[i.verticalAlign]*n.height},e[r?"attr":"animate"](d).attr({align:b}),l=(y+720)%360,u=l>180&&l<360,"left"===b?d.y-=u?v.height:0:"center"===b?(d.x-=v.width/2,d.y-=v.height/2):"right"===b&&(d.x-=v.width,d.y-=u?0:v.height)):(e.align(i,null,n),d=e.alignAttr),w?this.justifyDataLabel(e,i,d,v,n,r):c(i.crop,!0)&&(x=p.isInsidePlot(d.x,d.y)&&p.isInsidePlot(d.x+v.width,d.y+v.height)),i.shape&&!y&&e.attr({anchorX:t.plotX,anchorY:t.plotY})),x||(e.attr({y:-9999}),e.placed=!1)},d.prototype.justifyDataLabel=function(t,e,i,n,r,o){var s,a,l=this.chart,u=e.align,c=e.verticalAlign,h=t.box?0:t.padding||0;s=i.x+h,s<0&&("right"===u?e.align="left":e.x=-s,a=!0),s=i.x+n.width-h,s>l.plotWidth&&("left"===u?e.align="right":e.x=l.plotWidth-s,a=!0),s=i.y+h,s<0&&("bottom"===c?e.verticalAlign="top":e.y=-s,a=!0),s=i.y+n.height-h,s>l.plotHeight&&("top"===c?e.verticalAlign="bottom":e.y=l.plotHeight-s,a=!0),a&&(t.placed=!o,t.align(e,null,r))},p.pie&&(p.pie.prototype.drawDataLabels=function(){var e,n,o,s,l,u,h,p,f,g,m=this,v=m.data,y=m.chart,b=m.options.dataLabels,x=c(b.connectorPadding,10),w=c(b.connectorWidth,1),S=y.plotWidth,k=y.plotHeight,C=b.distance,T=m.center,A=T[2]/2,_=T[1],M=C>0,E=[[],[]],P=[0,0,0,0];m.visible&&(b.enabled||m._hasPointLabels)&&(d.prototype.drawDataLabels.apply(m),r(v,function(t){t.dataLabel&&t.visible&&(E[t.half].push(t),t.dataLabel._pos=null)}),r(E,function(i,n){var r,c,d,v,w,M=i.length;if(M)for(m.sortByAngle(i,n-.5),C>0&&(r=Math.max(0,_-A-C),c=Math.min(_+A+C,y.plotHeight),d=a(i,function(t){if(t.dataLabel)return w=t.dataLabel.getBBox().height||21,{target:t.labelPos[1]-r+w/2,size:w,rank:t.y}}),t.distribute(d,c+w-r)),g=0;g<M;g++)e=i[g],l=e.labelPos,o=e.dataLabel,f=!1===e.visible?"hidden":"inherit",v=l[1],d?void 0===d[g].pos?f="hidden":(u=d[g].size,p=r+d[g].pos):p=v,h=b.justify?T[0]+(n?-1:1)*(A+C):m.getX(p<r+2||p>c-2?v:p,n),o._attr={visibility:f,align:l[6]},o._pos={x:h+b.x+({left:x,right:-x}[l[6]]||0),y:p+b.y-10},l.x=h,l.y=p,null===m.options.size&&(s=o.width,h-s<x?P[3]=Math.max(Math.round(s-h+x),P[3]):h+s>S-x&&(P[1]=Math.max(Math.round(h+s-S+x),P[1])),p-u/2<0?P[0]=Math.max(Math.round(u/2-p),P[0]):p+u/2>k&&(P[2]=Math.max(Math.round(p+u/2-k),P[2])))}),(0===i(P)||this.verifyDataLabelOverflow(P))&&(this.placeDataLabels(),M&&w&&r(this.points,function(t){var e;n=t.connector,o=t.dataLabel,o&&o._pos&&t.visible?(f=o._attr.visibility,e=!n,e&&(t.connector=n=y.renderer.path().addClass("highcharts-data-label-connector highcharts-color-"+t.colorIndex).add(m.dataLabelsGroup),n.attr({"stroke-width":w,stroke:b.connectorColor||t.color||"#666666"})),n[e?"attr":"animate"]({d:m.connectorPath(t.labelPos)}),n.attr("visibility",f)):n&&(t.connector=n.destroy())})))},p.pie.prototype.connectorPath=function(t){var e=t.x,i=t.y;return c(this.options.dataLabels.softConnector,!0)?["M",e+("left"===t[6]?5:-5),i,"C",e,i,2*t[2]-t[4],2*t[3]-t[5],t[2],t[3],"L",t[4],t[5]]:["M",e+("left"===t[6]?5:-5),i,"L",t[2],t[3],"L",t[4],t[5]]},p.pie.prototype.placeDataLabels=function(){r(this.points,function(t){var e,i=t.dataLabel;i&&t.visible&&(e=i._pos,e?(i.attr(i._attr),i[i.moved?"animate":"attr"](e),i.moved=!0):i&&i.attr({y:-9999}))})},p.pie.prototype.alignDataLabel=u,p.pie.prototype.verifyDataLabelOverflow=function(t){var e,i=this.center,n=this.options,r=n.center,o=n.minSize||80,s=o;return null!==r[0]?s=Math.max(i[2]-Math.max(t[1],t[3]),o):(s=Math.max(i[2]-t[1]-t[3],o),i[0]+=(t[3]-t[1])/2),
null!==r[1]?s=Math.max(Math.min(s,i[2]-Math.max(t[0],t[2])),o):(s=Math.max(Math.min(s,i[2]-t[0]-t[2]),o),i[1]+=(t[0]-t[2])/2),s<i[2]?(i[2]=s,i[3]=Math.min(h(n.innerSize||0,s),s),this.translate(i),this.drawDataLabels&&this.drawDataLabels()):e=!0,e}),p.column&&(p.column.prototype.alignDataLabel=function(t,e,i,n,r){var o,s=this.chart.inverted,a=t.series,u=t.dlBox||t.shapeArgs,h=c(t.below,t.plotY>c(this.translatedThreshold,a.yAxis.len)),p=c(i.inside,!!this.options.stacking);u&&(n=l(u),n.y<0&&(n.height+=n.y,n.y=0),o=n.y+n.height-a.yAxis.len,o>0&&(n.height-=o),s&&(n={x:a.yAxis.len-n.y-n.height,y:a.xAxis.len-n.x-n.width,width:n.height,height:n.width}),p||(s?(n.x+=h?0:n.width,n.width=0):(n.y+=h?n.height:0,n.height=0))),i.align=c(i.align,!s||p?"center":h?"right":"left"),i.verticalAlign=c(i.verticalAlign,s||p?"middle":h?"top":"bottom"),d.prototype.alignDataLabel.call(this,t,e,i,n,r)})}(e),function(t){"use strict";var e=t.Chart,i=t.each,n=t.pick,r=t.addEvent;e.prototype.callbacks.push(function(t){function e(){var e=[];i(t.series,function(t){var r=t.options.dataLabels,o=t.dataLabelCollections||["dataLabel"];(r.enabled||t._hasPointLabels)&&!r.allowOverlap&&t.visible&&i(o,function(r){i(t.points,function(t){t[r]&&(t[r].labelrank=n(t.labelrank,t.shapeArgs&&t.shapeArgs.height),e.push(t[r]))})})}),t.hideOverlappingLabels(e)}e(),r(t,"redraw",e)}),e.prototype.hideOverlappingLabels=function(t){var e,n,r,o,s,a,l,u,c,h,d=t.length;for(n=0;n<d;n++)(e=t[n])&&(e.oldOpacity=e.opacity,e.newOpacity=1);for(t.sort(function(t,e){return(e.labelrank||0)-(t.labelrank||0)}),n=0;n<d;n++)for(o=t[n],r=n+1;r<d;++r)s=t[r],o&&s&&o.placed&&s.placed&&0!==o.newOpacity&&0!==s.newOpacity&&(a=o.alignAttr,l=s.alignAttr,u=o.parentGroup,c=s.parentGroup,h=2*(o.box?0:o.padding),function(t,e,i,n,r,o,s,a){return!(r>t+i||r+s<t||o>e+n||o+a<e)}(a.x+u.translateX,a.y+u.translateY,o.width-h,o.height-h,l.x+c.translateX,l.y+c.translateY,s.width-h,s.height-h)&&((o.labelrank<s.labelrank?o:s).newOpacity=0));i(t,function(t){var e,i;t&&(i=t.newOpacity,t.oldOpacity!==i&&t.placed&&(i?t.show(!0):e=function(){t.hide()},t.alignAttr.opacity=i,t[t.isOld?"animate":"attr"](t.alignAttr,null,e)),t.isOld=!0)})}}(e),function(t){"use strict";var e,i=t.addEvent,n=t.Chart,r=t.createElement,o=t.css,s=t.defaultOptions,a=t.defaultPlotOptions,l=t.each,u=t.extend,c=t.fireEvent,h=t.hasTouch,d=t.inArray,p=t.isObject,f=t.Legend,g=t.merge,m=t.pick,v=t.Point,y=t.Series,b=t.seriesTypes,x=t.svg;e=t.TrackerMixin={drawTrackerPoint:function(){var t=this,e=t.chart,i=e.pointer,n=function(t){for(var i,n=t.target;n&&!i;)i=n.point,n=n.parentNode;void 0!==i&&i!==e.hoverPoint&&i.onMouseOver(t)};l(t.points,function(t){t.graphic&&(t.graphic.element.point=t),t.dataLabel&&(t.dataLabel.div?t.dataLabel.div.point=t:t.dataLabel.element.point=t)}),t._hasTracking||(l(t.trackerGroups,function(e){t[e]&&(t[e].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(t){i.onTrackerMouseOut(t)}),h&&t[e].on("touchstart",n),t.options.cursor&&t[e].css(o).css({cursor:t.options.cursor}))}),t._hasTracking=!0)},drawTrackerGraph:function(){var t,e=this,i=e.options,n=i.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),o=r.length,s=e.chart,a=s.pointer,u=s.renderer,c=s.options.tooltip.snap,d=e.tracker,p=function(){s.hoverSeries!==e&&e.onMouseOver()},f="rgba(192,192,192,"+(x?1e-4:.002)+")";if(o&&!n)for(t=o+1;t--;)"M"===r[t]&&r.splice(t+1,0,r[t+1]-c,r[t+2],"L"),(t&&"M"===r[t]||t===o)&&r.splice(t,0,"L",r[t-2]+c,r[t-1]);d?d.attr({d:r}):e.graph&&(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:f,fill:n?f:"none","stroke-width":e.graph.strokeWidth()+(n?0:2*c),zIndex:2}).add(e.group),l([e.tracker,e.markerGroup],function(t){t.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(t){a.onTrackerMouseOut(t)}),i.cursor&&t.css({cursor:i.cursor}),h&&t.on("touchstart",p)}))}},b.column&&(b.column.prototype.drawTracker=e.drawTrackerPoint),b.pie&&(b.pie.prototype.drawTracker=e.drawTrackerPoint),b.scatter&&(b.scatter.prototype.drawTracker=e.drawTrackerPoint),u(f.prototype,{setItemEvents:function(t,e,i){var n=this,r=n.chart,o="highcharts-legend-"+(t.series?"point":"series")+"-active";(i?e:t.legendGroup).on("mouseover",function(){t.setState("hover"),r.seriesGroup.addClass(o),e.css(n.options.itemHoverStyle)}).on("mouseout",function(){e.css(t.visible?n.itemStyle:n.itemHiddenStyle),r.seriesGroup.removeClass(o),t.setState()}).on("click",function(e){var i=function(){t.setVisible&&t.setVisible()};e={browserEvent:e},t.firePointEvent?t.firePointEvent("legendItemClick",e,i):c(t,"legendItemClick",e,i)})},createCheckboxForItem:function(t){var e=this;t.checkbox=r("input",{type:"checkbox",checked:t.selected,defaultChecked:t.selected},e.options.itemCheckboxStyle,e.chart.container),i(t.checkbox,"click",function(e){var i=e.target;c(t.series||t,"checkboxClick",{checked:i.checked,item:t},function(){t.select()})})}}),s.legend.itemStyle.cursor="pointer",u(n.prototype,{showResetZoom:function(){function t(){e.zoomOut()}var e=this,i=s.lang,n=e.options.chart.resetZoomButton,r=n.theme,o=r.states,a="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(i.resetZoom,null,null,t,r,o&&o.hover).attr({align:n.position.align,title:i.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(n.position,!1,a)},zoomOut:function(){var t=this;c(t,"selection",{resetSelection:!0},function(){t.zoom()})},zoom:function(t){var e,i,n=this,r=n.pointer,o=!1;!t||t.resetSelection?l(n.axes,function(t){e=t.zoom()}):l(t.xAxis.concat(t.yAxis),function(t){var i=t.axis,n=i.isXAxis;r[n?"zoomX":"zoomY"]&&(e=i.zoom(t.min,t.max),i.displayBtn&&(o=!0))}),i=n.resetZoomButton,o&&!i?n.showResetZoom():!o&&p(i)&&(n.resetZoomButton=i.destroy()),e&&n.redraw(m(n.options.chart.animation,t&&t.animation,n.pointCount<100))},pan:function(t,e){var i,n=this,r=n.hoverPoints;r&&l(r,function(t){t.setState()}),l("xy"===e?[1,0]:[1],function(e){var r=n[e?"xAxis":"yAxis"][0],o=r.horiz,s=t[o?"chartX":"chartY"],a=o?"mouseDownX":"mouseDownY",l=n[a],u=(r.pointRange||0)/2,c=r.getExtremes(),h=r.toValue(l-s,!0)+u,d=r.toValue(l+r.len-s,!0)-u,p=d<h,f=p?d:h,g=p?h:d,m=Math.min(c.dataMin,c.min)-f,v=g-Math.max(c.dataMax,c.max);r.series.length&&m<0&&v<0&&(r.setExtremes(f,g,!1,!1,{trigger:"pan"}),i=!0),n[a]=s}),i&&n.redraw(!1),o(n.container,{cursor:"move"})}}),u(v.prototype,{select:function(t,e){var i=this,n=i.series,r=n.chart;t=m(t,!i.selected),i.firePointEvent(t?"select":"unselect",{accumulate:e},function(){i.selected=i.options.selected=t,n.options.data[d(i,n.data)]=i.options,i.setState(t&&"select"),e||l(r.getSelectedPoints(),function(t){t.selected&&t!==i&&(t.selected=t.options.selected=!1,n.options.data[d(t,n.data)]=t.options,t.setState(""),t.firePointEvent("unselect"))})})},onMouseOver:function(t,e){var i=this,n=i.series,r=n.chart,o=r.tooltip,s=r.hoverPoint;i.series&&(e||(s&&s!==i&&s.onMouseOut(),r.hoverSeries!==n&&n.onMouseOver(),r.hoverPoint=i),!o||o.shared&&!n.noSharedTooltip?o||i.setState("hover"):(i.setState("hover"),o.refresh(i,t)),i.firePointEvent("mouseOver"))},onMouseOut:function(){var t=this.series.chart,e=t.hoverPoints;this.firePointEvent("mouseOut"),e&&-1!==d(this,e)||(this.setState(),t.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var t,e=this,n=g(e.series.options.point,e.options),r=n.events;e.events=r;for(t in r)i(e,t,r[t]);this.hasImportedEvents=!0}},setState:function(t,e){var i,n,r,o=this,s=Math.floor(o.plotX),l=o.plotY,c=o.series,h=c.options.states[t]||{},d=a[c.type].marker&&c.options.marker,p=d&&!1===d.enabled,f=d&&d.states&&d.states[t]||{},g=!1===f.enabled,v=c.stateMarkerGraphic,y=o.marker||{},b=c.chart,x=c.halo,w=d&&c.markerAttribs;(t=t||"")===o.state&&!e||o.selected&&"select"!==t||!1===h.enabled||t&&(g||p&&!1===f.enabled)||t&&y.states&&y.states[t]&&!1===y.states[t].enabled||(w&&(n=c.markerAttribs(o,t)),o.graphic?(o.state&&o.graphic.removeClass("highcharts-point-"+o.state),t&&o.graphic.addClass("highcharts-point-"+t),o.graphic.attr(c.pointAttribs(o,t)),n&&o.graphic.animate(n,m(b.options.chart.animation,f.animation,d.animation)),v&&v.hide()):(t&&f&&(r=y.symbol||c.symbol,v&&v.currentSymbol!==r&&(v=v.destroy()),v?v[e?"animate":"attr"]({x:n.x,y:n.y}):r&&(c.stateMarkerGraphic=v=b.renderer.symbol(r,n.x,n.y,n.width,n.height).add(c.markerGroup),v.currentSymbol=r),v&&v.attr(c.pointAttribs(o,t))),v&&(v[t&&b.isInsidePlot(s,l,b.inverted)?"show":"hide"](),v.element.point=o)),i=h.halo,i&&i.size?(x||(c.halo=x=b.renderer.path().add(w?c.markerGroup:c.group)),x[e?"animate":"attr"]({d:o.haloPath(i.size)}),x.attr({class:"highcharts-halo highcharts-color-"+m(o.colorIndex,c.colorIndex)}),x.point=o,x.attr(u({fill:o.color||c.color,"fill-opacity":i.opacity,zIndex:-1},i.attributes))):x&&x.point&&x.point.haloPath&&x.animate({d:x.point.haloPath(0)}),o.state=t)},haloPath:function(t){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-t,this.plotY-t,2*t,2*t)}}),u(y.prototype,{onMouseOver:function(){var t=this,e=t.chart,i=e.hoverSeries;i&&i!==t&&i.onMouseOut(),t.options.events.mouseOver&&c(t,"mouseOver"),t.setState("hover"),e.hoverSeries=t},onMouseOut:function(){var t=this,e=t.options,i=t.chart,n=i.tooltip,r=i.hoverPoint;i.hoverSeries=null,r&&r.onMouseOut(),t&&e.events.mouseOut&&c(t,"mouseOut"),!n||e.stickyTracking||n.shared&&!t.noSharedTooltip||n.hide(),t.setState()},setState:function(t){var e,i=this,n=i.options,r=i.graph,o=n.states,s=n.lineWidth,a=0;if(t=t||"",i.state!==t){if(l([i.group,i.markerGroup],function(e){e&&(i.state&&e.removeClass("highcharts-series-"+i.state),t&&e.addClass("highcharts-series-"+t))}),i.state=t,o[t]&&!1===o[t].enabled)return;if(t&&(s=o[t].lineWidth||s+(o[t].lineWidthPlus||0)),r&&!r.dashstyle)for(e={"stroke-width":s},r.attr(e);i["zone-graph-"+a];)i["zone-graph-"+a].attr(e),a+=1}},setVisible:function(t,e){var i,n=this,r=n.chart,o=n.legendItem,s=r.options.chart.ignoreHiddenSeries,a=n.visible;n.visible=t=n.options.visible=n.userOptions.visible=void 0===t?!a:t,i=t?"show":"hide",l(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(t){n[t]&&n[t][i]()}),r.hoverSeries!==n&&(r.hoverPoint&&r.hoverPoint.series)!==n||n.onMouseOut(),o&&r.legend.colorizeItem(n,t),n.isDirty=!0,n.options.stacking&&l(r.series,function(t){t.options.stacking&&t.visible&&(t.isDirty=!0)}),l(n.linkedSeries,function(e){e.setVisible(t,!1)}),s&&(r.isDirtyBox=!0),!1!==e&&r.redraw(),c(n,i)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var e=this;e.selected=t=void 0===t?!e.selected:t,e.checkbox&&(e.checkbox.checked=t),c(e,t?"select":"unselect")},drawTracker:e.drawTrackerGraph})}(e),function(t){"use strict";var e=t.Chart,i=t.each,n=t.inArray,r=t.isObject,o=t.pick,s=t.splat;e.prototype.setResponsive=function(t){var e=this.options.responsive;e&&e.rules&&i(e.rules,function(e){this.matchResponsiveRule(e,t)},this)},e.prototype.matchResponsiveRule=function(e,i){var n,r=this.respRules,s=e.condition,a=s.callback||function(){return this.chartWidth<=o(s.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=o(s.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=o(s.minWidth,0)&&this.chartHeight>=o(s.minHeight,0)};void 0===e._id&&(e._id=t.uniqueKey()),n=a.call(this),!r[e._id]&&n?e.chartOptions&&(r[e._id]=this.currentOptions(e.chartOptions),this.update(e.chartOptions,i)):r[e._id]&&!n&&(this.update(r[e._id],i),delete r[e._id])},e.prototype.currentOptions=function(t){function e(t,i,o){var a,l;for(a in t)if(n(a,["series","xAxis","yAxis"])>-1)for(t[a]=s(t[a]),o[a]=[],l=0;l<t[a].length;l++)o[a][l]={},e(t[a][l],i[a][l],o[a][l]);else r(t[a])?(o[a]={},e(t[a],i[a]||{},o[a])):o[a]=i[a]||null}var i={};return e(t,this.options,i),i}}(e),e}),t.Highcharts=Highcharts}.apply(t,arguments)})}(this),define("charts/sparkline",["require","jquery","lodash","highcharts"],function(t){"use strict";var e=t("jquery"),i=(t("lodash"),t("highcharts")),n=0,r=function(t){this.$el=t};return r.prototype={start:function(){var t="sparkline-caption-"+ ++n,i=e("<figure />",{role:"image","aria-labelledby":t}),r=e("<div />",{class:"sparkline-graph"}),o=e("<figcaption />",{id:t,class:"sr-only"});o.text(this.$el.attr("title")),i.append(o,r),this.$el.append(i);var s=this.$el.data("sparkline-data")||[],a=s.map(function(t,e,i){return{x:e,y:t,marker:{enabled:0==e||e==i.length-1,radius:3}}});this.drawGraph(a,r.get(0))},drawGraph:function(t,e){new i.Chart({chart:{backgroundColor:"transparent",type:"spline",renderTo:e,spacing:[5,5,5,5]},title:{text:""},legend:{enabled:!1},tooltip:{enabled:!1},credits:{enabled:!1},xAxis:{lineWidth:0,minorGridLineWidth:0,lineColor:"transparent",labels:{enabled:!1},minorTickLength:0,tickLength:0},yAxis:{title:{text:""},lineWidth:0,minorGridLineWidth:0,lineColor:"transparent",gridLineColor:"transparent",labels:{enabled:!1},minorTickLength:0,tickLength:0,min:0},plotOptions:{spline:{marker:{enabled:!1,states:{hover:{enabled:!1}}}}},series:[{animation:!1,color:"#b90000",data:t,states:{hover:{enabled:!1}}}]})}},r}),define("components/ajax-form",["require","jquery","core/ajax"],function(t){"use strict";var e=t("jquery"),i=t("core/ajax"),n=function(t){this.$el=t};return n.prototype={start:function(){this.$el.on("mouseout.ajax-form focus.ajax-form","[data-ajax-form-sets-state]:visible",this.resetHover.bind(this)),this.$el.on("click.ajax-form",'[data-ajax-form] button[type="submit"]',this.buttonClick.bind(this))},stop:function(){this.$el.off(".ajax-form")},buttonClick:function(t){t.preventDefault();var i=e(t.currentTarget),n=i.closest("form"),r=this.getStateTarget(t);this.abortRequest(r),this.sendRequest(n,i,r),r.removeAttr("data-ajax-form-success")},sendRequest:function(t,e,n){var r=t.attr("method").toLowerCase();if(i[r]){var o=e.data("ajaxFormSetsState"),s=t.attr("action"),a=this.serializeForm(t,e),l=function(t,e){t||e&&!e.result?this.fail(n):this.success(n)};this.setState(n,o),n.addClass("ajax-form-disable-hover");var u=i[r](s,{},a,l.bind(this));n.data("request",u)}},abortRequest:function(t){var e=t.data("request");e&&(this.resetState(t),e.abort())},success:function(t){t.data("request",!1),t.attr("data-ajax-form-success","")},fail:function(t){t.data("request",!1),this.resetState(t),t.removeClass("ajax-form-disable-hover")},resetState:function(t){t.attr("data-ajax-form-state",t.data("ajaxFormOldState"))},setState:function(t,e){t.data("ajaxFormOldState",t.attr("data-ajax-form-state")),t.attr("data-ajax-form-state",e)},resetHover:function(t){if(t.relatedTarget===t.currentTarget||t.currentTarget.contains(t.relatedTarget))return!1;this.getStateTarget(t).removeClass("ajax-form-disable-hover")},getStateTarget:function(t){return e(t.currentTarget).closest("[data-ajax-form-state]")},serializeForm:function(t,i){var n={},r=t.serializeArray();e.each(r,function(t,e){n[e.name]=e.value});var o=i.attr("name");return o&&(n[o]=i.val()),n}},n}),define("components/show-alert",["require","jquery"],function(t){"use strict";var e=t("jquery"),i=function(){};return i.prototype={start:function(){e("body").on("click.show-alert","[data-show-alert]",this.clickHandler)},stop:function(){e("body").off(".show-alert")},clickHandler:function(t){window.alert(e(t.currentTarget).data("showAlert"))}},i}),define("components/alert-dismissable",["require","jquery","jquery-cookie","core/ajax"],function(t){"use strict";var e=t("jquery");t("jquery-cookie");var i=t("core/ajax"),n=function(t,e){this.$el=t,this.app=e};return n.prototype={start:function(){this.$el.on("click",".js-alert-dismissable-close",e.proxy(this.close,this))},close:function(t,i){t.preventDefault();var n=e(t.currentTarget);this.makeAjaxCall(n),this.$el.slideUp(i)},makeAjaxCall:function(t){i.get(t.attr("href"))},stop:function(){this.$el.off("click",".js-alert-dismissable-close")}},n}),define("components/confirm-dialog",["require","core/browser-api","core/media-size-v2"],function(t){"use strict";var e=t("core/browser-api"),i=t("core/media-size-v2"),n=function(t,e,i){return'<div data-modal-type="compact-narrow"><p>'+t+'</p><ul class="modal-buttons"><li class="modal-button"><button class="btn-cancel js-close">'+i+'</button></li><li class="modal-button"><button class="btn-primary js-close" data-modal-action="ok">'+e+"</button></li></ul></div>"};return function(t,r,o,s,a){return new Promise(function(l){if(i.isMobile()){e.window.confirm(o)&&l()}else t.modal.show(r,n(o,s,a),{ok:l})}.bind(this))}}),define("components/confirm",["require","components/confirm-dialog","jquery"],function(t){"use strict";var e=t("components/confirm-dialog"),i=t("jquery"),n=function(t,e){this.$el=t,this.app=e};return n.prototype={start:function(){this.$el.on("submit.confirm","[data-confirm-message]",this.submitHandler.bind(this))},stop:function(){this.$el.off(".confirm")},submitHandler:function(t){var n=i(t.target);n.data("confirmed")||(t.preventDefault(),e(this.app,n.attr("data-confirm-title"),n.attr("data-confirm-message"),n.attr("data-confirm-ok"),n.attr("data-confirm-cancel")).then(function(){n.data("confirmed",!0),n.trigger("submit")}.bind(this)))}},n}),define("components/disclose-base",["require","jquery","lodash"],function(t){"use strict";var e=t("jquery"),i=t("lodash"),n=function(){this.$body=e(document.body)};return n.prototype={selector:"[data-disclose]",eventNamespace:".disclose",start:function(){this.$body.on("click"+this.eventNamespace,this.selector,this.toggleHandler.bind(this)),this.$body.on("click"+this.eventNamespace,".js-disclose-close",this.closeButtonHandler.bind(this))},stop:function(){this.$body.off(this.eventNamespace)},eventName:function(t){return t+this.eventNamespace},open:function(t){this.toggle(t,!0)},close:function(t){this.toggle(t,!1)},toggle:function(t,e){var i=this.discloseBody(t),n=this.isOpen(i);i.toggleClass("disclose-hide",!e),t.attr("aria-expanded",e?"true":"false"),t.toggleClass("disclose-active",e),e&&!n?this.opened(t,i):!e&&n&&this.closed(t,i)},toggleHandler:function(t){t.preventDefault();var i=e(t.target).closest(this.selector),n=this.discloseBody(i);this.isOpen(n)?this.close(i):this.open(i)},closeButtonHandler:function(t){var e=this.toggleForDiscloseBodyChild(t.target);e&&(t.preventDefault(),this.close(e))},opened:function(t,e){e.trigger("disclose-shown"),this.discloseBody(t).on("disclose-close",this.close.bind(this,t))},closed:function(t,e){e.trigger("disclose-hidden"),this.discloseBody(t).off("disclose-close")},isOpen:function(t){return!t.is(".disclose-hide")},discloseBody:function(t){return e("#"+t.attr("aria-controls"))},toggleForDiscloseBodyChild:function(t){var n,r,o=e(t).parents("[id]").get();if(i(o).find(function(t){return r=e(t).attr("id"),n=e(this.selector+'[aria-controls="'+r+'"]'),n.length},this))return n}},n}),function(t){"function"==typeof define&&define.amd?define("jquery-ui",["jquery"],t):t(jQuery)}(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}t.ui=t.ui||{},t.ui.version="1.12.1";var i=0,n=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,r,o;for(o=0;null!=(r=i[o]);o++)try{(n=t._data(r,"events"))&&n.remove&&t(r).triggerHandler("remove")}catch(t){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var r,o,s,a={},l=e.split(".")[0];e=e.split(".")[1];var u=l+"-"+e;return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),s=new i,s.options=t.widget.extend({},s.options),t.each(n,function(e,n){return t.isFunction(n)?void(a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function r(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(a[e]=n)}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r?s.widgetEventPrefix||e:e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,o,i._proto)}),delete r._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,r,o=n.call(arguments,1),s=0,a=o.length;a>s;s++)for(i in o[s])r=o[s][i],o[s].hasOwnProperty(i)&&void 0!==r&&(e[i]=t.isPlainObject(r)?t.isPlainObject(e[i])?t.widget.extend({},e[i],r):t.widget.extend({},r):r);return e},t.widget.bridge=function(e,i){var r=i.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=n.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var i,n=t.data(this,r);return"instance"===o?(l=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new i(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},n=e.split("."),e=n.shift(),n.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;n.length-1>o;o++)r[n[o]]=r[n[o]]||{},r=r[n[o]];if(e=n.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=i}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,r;for(i in e)r=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&r&&r.length&&(n=t(r.get()),this._removeClass(r,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var s,a;for(a=0;i.length>a;a++)s=r.classesElementLookup[i[a]]||t(),s=t(e.add?t.unique(s.get().concat(e.element.get())):s.not(e.element).get()),r.classesElementLookup[i[a]]=s,n.push(i[a]),o&&e.classes[i[a]]&&n.push(e.classes[i[a]])}var n=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,r){-1!==t.inArray(e.target,r)&&(i.classesElementLookup[n]=t(r.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var r="string"==typeof t||null===t,o={extra:r?e:i,keys:r?t:e,element:r?this.element:t,add:n};return o.element.toggleClass(this._classes(o),n),this},_on:function(e,i,n){var r,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=r=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,r=this.widget()),t.each(n,function(n,s){function a(){return e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):i.on(u,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var r,o,s=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(r in o)r in i||(i[r]=o[r]);return this.element.trigger(i,n),!(t.isFunction(s)&&!1===s.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?i:r.effect||i:e;r=r||{},"number"==typeof r&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&n.delay(r.delay),s&&t.effects&&t.effects.effect[a]?n[e](r):a!==e&&n[a]?n[a](r.duration,r.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}}),t.widget,function(){function e(t,e,i){return[parseFloat(t[0])*(h.test(t[0])?e/100:1),parseFloat(t[1])*(h.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var r,o=Math.max,s=Math.abs,a=/left|center|right/,l=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,h=/%$/,d=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),e=o.offsetWidth,n.css("overflow","scroll"),i=o.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),r=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),r=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:r,offset:n||r?{left:0,top:0}:t(e).offset(),scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return d.apply(this,arguments);r=t.extend({},r);var h,p,f,g,m,v,y=t(r.of),b=t.position.getWithinInfo(r.within),x=t.position.getScrollInfo(b),w=(r.collision||"flip").split(" "),S={};return v=n(y),y[0].preventDefault&&(r.at="left top"),p=v.width,f=v.height,g=v.offset,m=t.extend({},g),t.each(["my","at"],function(){var t,e,i=(r[this]||"").split(" ");1===i.length&&(i=a.test(i[0])?i.concat(["center"]):l.test(i[0])?["center"].concat(i):["center","center"]),i[0]=a.test(i[0])?i[0]:"center",i[1]=l.test(i[1])?i[1]:"center",t=u.exec(i[0]),e=u.exec(i[1]),S[this]=[t?t[0]:0,e?e[0]:0],r[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===r.at[0]?m.left+=p:"center"===r.at[0]&&(m.left+=p/2),"bottom"===r.at[1]?m.top+=f:"center"===r.at[1]&&(m.top+=f/2),h=e(S.at,p,f),m.left+=h[0],m.top+=h[1],this.each(function(){var n,a,l=t(this),u=l.outerWidth(),c=l.outerHeight(),d=i(this,"marginLeft"),v=i(this,"marginTop"),k=u+d+i(this,"marginRight")+x.width,C=c+v+i(this,"marginBottom")+x.height,T=t.extend({},m),A=e(S.my,l.outerWidth(),l.outerHeight());"right"===r.my[0]?T.left-=u:"center"===r.my[0]&&(T.left-=u/2),"bottom"===r.my[1]?T.top-=c:"center"===r.my[1]&&(T.top-=c/2),T.left+=A[0],T.top+=A[1],n={marginLeft:d,marginTop:v},t.each(["left","top"],function(e,i){t.ui.position[w[e]]&&t.ui.position[w[e]][i](T,{targetWidth:p,targetHeight:f,elemWidth:u,elemHeight:c,collisionPosition:n,collisionWidth:k,collisionHeight:C,offset:[h[0]+A[0],h[1]+A[1]],my:r.my,at:r.at,within:b,elem:l})}),r.using&&(a=function(t){var e=g.left-T.left,i=e+p-u,n=g.top-T.top,a=n+f-c,h={target:{element:y,left:g.left,top:g.top,width:p,height:f},element:{element:l,left:T.left,top:T.top,width:u,height:c},horizontal:0>i?"left":e>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};u>p&&p>s(e+i)&&(h.horizontal="center"),c>f&&f>s(n+a)&&(h.vertical="middle"),h.important=o(s(e),s(i))>o(s(n),s(a))?"horizontal":"vertical",r.using.call(this,t,h)}),l.offset(t.extend(T,{using:a}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,u=a+e.collisionWidth-s-r;e.collisionWidth>s?l>0&&0>=u?(i=t.left+l+e.collisionWidth-s-r,t.left+=l-i):t.left=u>0&&0>=l?r:l>u?r+s-e.collisionWidth:r:l>0?t.left+=l:u>0?t.left-=u:t.left=o(t.left-a,t.left)},top:function(t,e){var i,n=e.within,r=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,u=a+e.collisionHeight-s-r;e.collisionHeight>s?l>0&&0>=u?(i=t.top+l+e.collisionHeight-s-r,t.top+=l-i):t.top=u>0&&0>=l?r:l>u?r+s-e.collisionHeight:r:l>0?t.top+=l:u>0?t.top-=u:t.top=o(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,r=e.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,h=u+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(0>(i=t.left+d+p+f+e.collisionWidth-a-o)||s(c)>i)&&(t.left+=d+p+f):h>0&&((n=t.left-e.collisionPosition.marginLeft+d+p+f-l)>0||h>s(n))&&(t.left+=d+p+f)},top:function(t,e){
var i,n,r=e.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,h=u+e.collisionHeight-a-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(0>(n=t.top+p+f+g+e.collisionHeight-a-o)||s(c)>n)&&(t.top+=p+f+g):h>0&&((i=t.top-e.collisionPosition.marginTop+p+f+g-l)>0||h>s(i))&&(t.top+=p+f+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.ui.focusable=function(i,n){var r,o,s,a,l,u=i.nodeName.toLowerCase();return"area"===u?(r=i.parentNode,o=r.name,!(!i.href||!o||"map"!==r.nodeName.toLowerCase())&&(s=t("img[usemap='#"+o+"']"),s.length>0&&s.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(u)?(a=!i.disabled)&&(l=t(i).closest("fieldset")[0])&&(a=!l.disabled):a="a"===u?i.href||n:n,a&&t(i).is(":visible")&&e(t(i)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,i,n,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),n=this.attr("id"),n&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(n)+"']",r=r.add(o.find(i).addBack(i))),this.pushStack(r))},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),n=null!=i;return(!n||i>=0)&&t.ui.focusable(e,n)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),n=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),n=t(e.currentTarget);i[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,n,r,o,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,n=this.previousFilter||"",o=!1,r=e.keyCode>=96&&105>=e.keyCode?""+(e.keyCode-96):String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===n?o=!0:r=n+r,i=this._filterMenuItems(r),i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i,i.length||(r=String.fromCharCode(e.keyCode),i=this._filterMenuItems(r)),i.length?(this.focus(e,i),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,n,r,o,s=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),n=t("<span>").data("ui-menu-submenu-caret",!0);s._addClass(n,"ui-menu-icon","ui-icon "+a),i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),i=e.find(this.options.items),i.not(".ui-menu-item").each(function(){var e=t(this);s._isDivider(e)&&s._addClass(e,"ui-menu-divider","ui-widget-content")}),r=i.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t+""),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,n,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,r,o,s,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-n-r}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+r>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var n=this,r="";t.each(i,function(i,o){var s;o.optgroup!==r&&(s=t("<li>",{text:o.optgroup}),n._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(e),r=o.optgroup),n._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>"),r=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(r,i.label),n.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,r=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](r).eq(-1):i[t+"All"](r).eq(0),n.length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return!1===t?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,n=[];e.each(function(e,r){n.push(i._parseOption(t(r),e))}),this.items=n},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}])}),define("components/disclose-autoclose-v2",["require","jquery-ui","jquery","components/disclose-base","whatInput"],function(t){"use strict";t("jquery-ui");var e=t("jquery"),i=t("components/disclose-base"),n=t("whatInput"),r=e.ui.keyCode.ESCAPE,o=function(){i.apply(this,arguments)};o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.prototype.selector="[data-disclose-autoclose]",o.prototype.eventNamespace=".disclose-autoclose";var s=i.prototype;return o.prototype.opened=function(t,e){s.opened.call(this,t,e),this.$body.on(this.toggleEventName("click",t),this.outsideClickHandler.bind(this,t,e)),this.$body.on(this.toggleEventName("focusin",t),this.outsideFocusHandler.bind(this,t,e)),this.$body.on(this.toggleEventName("keydown",t),this.outsideKeydownHandler.bind(this,t))},o.prototype.toggleEventName=function(t,e){var i=this.uniqueEventNamespace(e);return this.eventName(t)+i},o.prototype.closed=function(t,e){s.closed.call(this,t,e);var i=this.uniqueEventNamespace(t);this.$body.off(i)},o.prototype.uniqueEventNamespace=function(t){var e=t.attr("aria-controls");return this.eventNamespace+"-for-"+e},o.prototype.outsideKeydownHandler=function(t,e){this.keyboardDisabled(e.target)||e.which===r&&(this.close(t),t.focus())},o.prototype.outsideFocusHandler=function(t,e,i){"mouse"!==n.ask()&&i.relatedTarget&&(this.elementContains(t,i.target)||this.elementContains(e,i.target)||this.close(t))},o.prototype.outsideClickHandler=function(t,e,i){this.elementContains(t,i.target)||this.elementContains(e,i.target)||this.close(t)},o.prototype.elementContains=function(t,e){return t[0]===e||t.has(e).length},o.prototype.keyboardDisabled=function(t){return!!e(t).is(".js-disclose-disable-keyboard")||e(t).parents(".js-disclose-disable-keyboard").length>0},o}),define("components/disclose-dropdown",["require","jquery-ui","jquery","components/disclose-autoclose-v2"],function(t){"use strict";t("jquery-ui");var e=t("jquery"),i=t("components/disclose-autoclose-v2"),n=e.ui.keyCode.DOWN,r=e.ui.keyCode.UP,o=function(){i.apply(this,arguments)};o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.prototype.selector="[data-disclose-dropdown]",o.prototype.eventNamespace=".disclose-dropdown";var s=i.prototype;return o.prototype.start=function(){s.start.call(this),this.$body.on(this.eventName("keydown"),this.selector,this.toggleKeydownHandler.bind(this))},o.prototype.linkClicked=function(t){var e=this.toggleForDiscloseBodyChild(t.target);this.close(e)},o.prototype.opened=function(t,e){s.opened.call(this,t,e),e.on(this.eventName("keydown"),this.targetKeydownHandler.bind(this,e)),e.on(this.eventName("click"),"a:not(.js-disclose-dont-close), button:not(.js-disclose-dont-close)",this.linkClicked.bind(this))},o.prototype.closed=function(t,e){s.closed.call(this,t,e),e.off(this.eventNamespace)},o.prototype.toggleKeydownHandler=function(t){if(-1!==[r,n].indexOf(t.which)){t.preventDefault();var i=e(t.target);this.isOpen(this.discloseBody(i))||this.keyboardOpen(i)}},o.prototype.keyboardOpen=function(t){this.open(t);var e=this.discloseBody(t);this.focusFirstItem(e)},o.prototype.focusFirstItem=function(t){t.find(":tabbable").eq(0).focus()},o.prototype.targetKeydownHandler=function(t,i){if(!this.keyboardDisabled(i.target)&&-1!==[r,n].indexOf(i.which)){i.preventDefault();var o=t.find(":tabbable").not(function(t,e){return this.keyboardDisabled(e)}.bind(this)).get(),s=i.which===n?-1:1;o.some(function(t,i){if(o[i+s]===document.activeElement)return e(t).focus(),!0})}},o}),define("components/disclose-dropdown-location-picker",["require","components/disclose-dropdown"],function(t){"use strict";var e=t("components/disclose-dropdown"),i=function(){e.apply(this,arguments)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.selector="[data-disclose-dropdown-location-picker]",i.prototype.eventNamespace=".disclose-dropdown-location-picker";var n=e.prototype;return i.prototype.opened=function(t,e){n.opened.call(this,t,e),this.$body.on(this.eventName("mousedown"),".pac-container",this.autocompleteMousedownHandler.bind(this,e))},i.prototype.autocompleteMousedownHandler=function(){this.autocompleteClicked=!0},i.prototype.outsideClickHandler=function(t,e,i){if(this.autocompleteClicked)return void(this.autocompleteClicked=!1);n.outsideClickHandler.call(this,t,e,i)},i}),define("components/disclose-hover",["require","components/disclose-autoclose-v2","jquery"],function(t){"use strict";var e=t("components/disclose-autoclose-v2"),i=t("jquery"),n=function(){e.apply(this,arguments)};n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.selector="[data-disclose-hover]",n.prototype.eventNamespace=".disclose-hover",n.prototype.CLOSE_DELAY=500;var r=e.prototype;return n.prototype.start=function(){r.start.call(this),this.$body.on("mouseover"+this.eventNamespace,this.selector,this.toggleOverHandler.bind(this)),this.$body.on("mouseleave"+this.eventNamespace,this.selector,this.toggleLeaveHandler.bind(this))},n.prototype.toggleHandler=function(){},n.prototype.opened=function(t,e){r.opened.call(this,t,e),e.on("mouseleave"+this.eventNamespace,this.discloseBodyLeaveHandler.bind(this,t)),e.on("mouseover"+this.eventNamespace,this.discloseBodyOverHandler.bind(this,t))},n.prototype.closed=function(t,e){r.closed.call(this,t,e),e.off(this.eventNamespace)},n.prototype.toggleOverHandler=function(t){var e=i(t.target).closest(this.selector);clearTimeout(e.data("closeTimeout")),this.open(e)},n.prototype.toggleLeaveHandler=function(t){var e=i(t.target).closest(this.selector),n=this.discloseBody(e);this.elementContains(n,t.relatedTarget)||e.data("closeTimeout",setTimeout(this.close.bind(this,e),this.CLOSE_DELAY))},n.prototype.discloseBodyOverHandler=function(t){clearTimeout(t.data("closeTimeout"))},n.prototype.discloseBodyLeaveHandler=function(t,e){this.elementContains(t,e.relatedTarget)||t.data("closeTimeout",setTimeout(this.close.bind(this,t),this.CLOSE_DELAY))},n}),define("components/disclose-collapsing-nav",["require","components/disclose-dropdown"],function(t){"use strict";var e=t("components/disclose-dropdown"),i=function(t,i){this.app=i,e.apply(this,arguments)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.selector="[data-disclose-collapsing-nav]",i.prototype.eventNamespace=".disclose-collapsing-nav";var n=e.prototype;return i.prototype.start=function(){n.start.call(this),this.updateSubscription=this.app.eventMediator.subscribe("collapsingNav.beforeUpdate",this.close.bind(this))},i.prototype.stop=function(){n.stop.call(this),this.app.eventMediator.unsubscribe(this.updateSubscription)},i}),define("components/disclose-artwork",["require","jquery","components/disclose-autoclose-v2"],function(t){"use strict";var e=t("jquery"),i=t("components/disclose-autoclose-v2"),n=function(t,e){this.app=e,i.apply(this,arguments)};n.prototype=Object.create(i.prototype),n.prototype.constructor=n,n.prototype.selector="[data-disclose-artwork]",n.prototype.eventNamespace=".disclose-artwork";var r=i.prototype;return n.prototype.opened=function(t,e){r.opened.call(this,t,e),e.on(this.eventName("click"),this.discloseClickHandler.bind(this))},n.prototype.closed=function(t,e){r.closed.call(this,t,e),e.off(this.eventNamespace)},n.prototype.discloseClickHandler=function(t){var i=e(t.delegateTarget),n=i.attr("id"),r=e(this.selector+'[aria-controls="'+n+'"]');this.close(r)},n}),define("components/disclose-remove",["require","components/disclose-base"],function(t){"use strict";var e=t("components/disclose-base"),i=function(){e.apply(this,arguments)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.selector="[data-disclose-remove]",i.prototype.eventNamespace=".disclose-remove";var n=e.prototype;return i.prototype.opened=function(t,e){n.opened.call(this,t,e),t.remove()},i}),define("components/disclose-search",["require","jquery-ui","components/disclose-autoclose-v2"],function(t){"use strict";t("jquery-ui");var e=t("components/disclose-autoclose-v2"),i=function(){e.apply(this,arguments)};i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.selector="[data-disclose-search]",i.prototype.eventNamespace=".disclose-search";var n=e.prototype;return i.prototype.opened=function(t,e){n.opened.call(this,t,e),this.focusFirstItem(e)},i.prototype.focusFirstItem=function(t){t.find(":tabbable").eq(0).focus()},i}),function(t){define("adobe-accessible-mega-menu",["jquery"],function(){return function(){!function(t,e,i){"use strict";function n(e,i){this.element=e,this.settings=t.extend({},a,i),this._defaults=a,this._name=s,this.mouseTimeoutID=null,this.focusTimeoutID=null,this.mouseFocused=!1,this.justFocused=!1,this.init()}function r(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}function o(e,i){var n,o,s,a=e.nodeName.toLowerCase();return"area"===a?(n=e.parentNode,o=n.name,!(!e.href||!o||"map"!==n.nodeName.toLowerCase())&&(!!(s=t("img[usemap=#"+o+"]")[0])&&r(s))):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&r(e)}var s="accessibleMegaMenu",a={uuidPrefix:"accessible-megamenu",menuClass:"accessible-megamenu",topNavItemClass:"accessible-megamenu-top-nav-item",panelClass:"accessible-megamenu-panel",panelGroupClass:"accessible-megamenu-panel-group",hoverClass:"hover",focusClass:"focus",openClass:"open"},l={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38,keyMap:{48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",190:"."}};n.prototype=function(){var r,o,a,u,c,h,d,p,f,g,m,v,y,b=0,x="",w="function"==typeof e.hasOwnProperty&&!!e.hasOwnProperty("ontouchstart");return r=function(e){return t(e).closest(":data(plugin_"+s+")").data("plugin_"+s)},o=function(e){e=t(e);var i=this.settings;e.attr("id")||e.attr("id",i.uuidPrefix+"-"+(new Date).getTime()+"-"+ ++b)},a=function(e,n){var r,o=t(e.target),s=this,a=this.settings,u=this.menu,c=o.closest("."+a.topNavItemClass),h=o.hasClass(a.panelClass)?o:o.closest("."+a.panelClass);if(y.call(this,!0),n)if(c=u.find("."+a.topNavItemClass+" ."+a.openClass+":first").closest("."+a.topNavItemClass),
c.is(e.relatedTarget)||c.has(e.relatedTarget).length>0)0===c.length&&u.find("[aria-expanded=true]").attr("aria-expanded","false").removeClass(a.openClass).filter("."+a.panelClass).attr("aria-hidden","true");else{if(("mouseout"===e.type||"focusout"===e.type)&&c.has(i.activeElement).length>0)return;c.find("[aria-expanded]").attr("aria-expanded","false").removeClass(a.openClass).filter("."+a.panelClass).attr("aria-hidden","true"),("keydown"===e.type&&e.keyCode===l.ESCAPE||"DOMAttrModified"===e.type)&&(r=c.find(":tabbable:first"),setTimeout(function(){u.find("[aria-expanded]."+s.settings.panelClass).off("DOMAttrModified.accessible-megamenu"),r.focus(),s.justFocused=!1},99))}else clearTimeout(s.focusTimeoutID),c.siblings().find("[aria-expanded]").attr("aria-expanded","false").removeClass(a.openClass).filter("."+a.panelClass).attr("aria-hidden","true"),c.find("[aria-expanded]").attr("aria-expanded","true").addClass(a.openClass).filter("."+a.panelClass).attr("aria-hidden","false"),"mouseover"===e.type&&o.is(":tabbable")&&1===c.length&&0===h.length&&u.has(i.activeElement).length>0&&(o.focus(),s.justFocused=!1),y.call(s)},u=function(e){var i=t(e.currentTarget),n=i.closest("."+this.settings.topNavItemClass),r=i.closest("."+this.settings.panelClass);1===n.length&&0===r.length&&1===n.find("."+this.settings.panelClass).length&&(i.hasClass(this.settings.openClass)?this.justFocused?(e.preventDefault(),e.stopPropagation(),this.justFocused=!1):w&&(e.preventDefault(),e.stopPropagation(),a.call(this,e,i.hasClass(this.settings.openClass))):(e.preventDefault(),e.stopPropagation(),a.call(this,e),this.justFocused=!1))},c=function(e){0===t(e.target).closest(this.menu).length&&(e.preventDefault(),e.stopPropagation(),a.call(this,e,!0))},h=function(e){"aria-expanded"===e.originalEvent.attrName&&"false"===e.originalEvent.newValue&&t(e.target).hasClass(this.settings.openClass)&&(e.preventDefault(),e.stopPropagation(),a.call(this,e,!0))},d=function(e){clearTimeout(this.focusTimeoutID);var i=t(e.target),n=i.closest("."+this.settings.panelClass);i.addClass(this.settings.focusClass).on("click.accessible-megamenu",t.proxy(u,this)),this.justFocused=!this.mouseFocused,this.mouseFocused=!1,this.panels.not(n).filter("."+this.settings.openClass).length&&a.call(this,e)},p=function(i){this.justFocused=!1;var n=this,r=t(i.target),o=r.closest("."+this.settings.topNavItemClass);r.removeClass(this.settings.focusClass).off("click.accessible-megamenu"),e.cvox?n.focusTimeoutID=setTimeout(function(){e.cvox.Api.getCurrentNode(function(t){o.has(t).length?clearTimeout(n.focusTimeoutID):n.focusTimeoutID=setTimeout(function(t,e,i){a.call(t,e,i)},275,n,i,!0)})},25):n.focusTimeoutID=setTimeout(function(){a.call(n,i,!0)},300)},f=function(i){var o,s,c,h,d,p,f=this.constructor===n?this:r(this),g=f.settings,m=t(t(this).is("."+g.hoverClass+":tabbable")?this:i.target),v=f.menu,y=f.topnavitems,b=m.closest("."+g.topNavItemClass),w=v.find(":tabbable"),S=m.hasClass(g.panelClass)?m:m.closest("."+g.panelClass),k=S.find("."+g.panelGroupClass),C=m.closest("."+g.panelGroupClass),T=i.keyCode||i.which,A=!1,_=l.keyMap[i.keyCode]||"",M=1===b.length&&0===S.length;if(!m.is("input:focus, select:focus, textarea:focus, button:focus")){switch(m.is("."+g.hoverClass+":tabbable")&&t("html").off("keydown.accessible-megamenu"),T){case l.ESCAPE:a.call(f,i,!0);break;case l.DOWN:i.preventDefault(),M?(a.call(f,i),A=1===b.find("."+g.panelClass+" :tabbable:first").focus().length):A=1===w.filter(":gt("+w.index(m)+"):first").focus().length,!A&&e.opera&&"[object Opera]"===opera.toString()&&(i.ctrlKey||i.metaKey)&&(w=t(":tabbable"),c=w.index(m),A=1===t(":tabbable:gt("+t(":tabbable").index(m)+"):first").focus().length);break;case l.UP:i.preventDefault(),M&&m.hasClass(g.openClass)?(a.call(f,i,!0),o=y.filter(":lt("+y.index(b)+"):last"),o.children("."+g.panelClass).length&&(A=1===o.children().attr("aria-expanded","true").addClass(g.openClass).filter("."+g.panelClass).attr("aria-hidden","false").find(":tabbable:last").focus())):M||(A=1===w.filter(":lt("+w.index(m)+"):last").focus().length),!A&&e.opera&&"[object Opera]"===opera.toString()&&(i.ctrlKey||i.metaKey)&&(w=t(":tabbable"),c=w.index(m),A=1===t(":tabbable:lt("+t(":tabbable").index(m)+"):first").focus().length);break;case l.RIGHT:i.preventDefault(),M?A=1===y.filter(":gt("+y.index(b)+"):first").find(":tabbable:first").focus().length:(k.length&&C.length&&(A=1===k.filter(":gt("+k.index(C)+"):first").find(":tabbable:first").focus().length),A||(A=1===b.find(":tabbable:first").focus().length));break;case l.LEFT:i.preventDefault(),M?A=1===y.filter(":lt("+y.index(b)+"):last").find(":tabbable:first").focus().length:(k.length&&C.length&&(A=1===k.filter(":lt("+k.index(C)+"):last").find(":tabbable:first").focus().length),A||(A=1===b.find(":tabbable:first").focus().length));break;case l.TAB:c=w.index(m),i.shiftKey&&M&&m.hasClass(g.openClass)?(a.call(f,i,!0),o=y.filter(":lt("+y.index(b)+"):last"),o.children("."+g.panelClass).length&&(A=o.children().attr("aria-expanded","true").addClass(g.openClass).filter("."+g.panelClass).attr("aria-hidden","false").find(":tabbable:last").focus())):i.shiftKey&&c>0?A=1===w.filter(":lt("+c+"):last").focus().length:!i.shiftKey&&c<w.length-1?A=1===w.filter(":gt("+c+"):first").focus().length:e.opera&&"[object Opera]"===opera.toString()&&(w=t(":tabbable"),c=w.index(m),A=i.shiftKey?1===t(":tabbable:lt("+t(":tabbable").index(m)+"):last").focus().length:1===t(":tabbable:gt("+t(":tabbable").index(m)+"):first").focus().length),A&&i.preventDefault();break;case l.SPACE:if(!M)return!0;i.preventDefault(),u.call(f,i);break;case l.ENTER:return!0;default:if(clearTimeout(this.keydownTimeoutID),x+=_!==x?_:"",0===x.length)return;for(this.keydownTimeoutID=setTimeout(function(){x=""},1e3),w=M&&!m.hasClass(g.openClass)?w.filter(":not(."+g.panelClass+" :tabbable)"):b.find(":tabbable"),i.shiftKey&&(w=t(w.get().reverse())),c=0;c<w.length;c++)if(h=w.eq(c),h.is(m)){s=1===x.length?c+1:c;break}for(p=new RegExp("^"+x.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),"i"),c=s;c<w.length;c++)if(h=w.eq(c),d=t.trim(h.text()),p.test(d)){A=!0,h.focus();break}if(!A)for(c=0;c<s;c++)if(h=w.eq(c),d=t.trim(h.text()),p.test(d)){h.focus();break}}f.justFocused=!1}},g=function(e){(t(e.target).is(this.settings.panelClass)||t(e.target).closest(":focusable").length)&&(this.mouseFocused=!0),this.mouseTimeoutID=setTimeout(function(){clearTimeout(this.focusTimeoutID)},1)},m=function(e){clearTimeout(this.mouseTimeoutID),t(e.target).addClass(this.settings.hoverClass),a.call(this,e),t(e.target).is(":tabbable")&&t("html").on("keydown.accessible-megamenu",t.proxy(f,e.target))},v=function(e){var i=this;t(e.target).removeClass(i.settings.hoverClass),i.mouseTimeoutID=setTimeout(function(){a.call(i,e,!0)},250),t(e.target).is(":tabbable")&&t("html").off("keydown.accessible-megamenu")},y=function(e){var i=this.menu;e?(t("html").off("mouseup.outside-accessible-megamenu, touchend.outside-accessible-megamenu, mspointerup.outside-accessible-megamenu,  pointerup.outside-accessible-megamenu"),i.find("[aria-expanded]."+this.settings.panelClass).off("DOMAttrModified.accessible-megamenu")):(t("html").on("mouseup.outside-accessible-megamenu, touchend.outside-accessible-megamenu, mspointerup.outside-accessible-megamenu,  pointerup.outside-accessible-megamenu",t.proxy(c,this)),i.find("[aria-expanded=true]."+this.settings.panelClass).on("DOMAttrModified.accessible-megamenu",t.proxy(h,this)))},{constructor:n,init:function(){var e=this.settings,i=t(this.element),n=i.children().first(),r=n.children();this.start(e,i,n,r)},start:function(e,n,r,s){var a=this;this.settings=e,this.menu=r,this.topnavitems=s,n.attr("role","navigation"),r.addClass(e.menuClass),s.each(function(i,n){var r,s;n=t(n),n.addClass(e.topNavItemClass),r=n.find(":tabbable:first"),s=n.children(":not(:tabbable):last"),o.call(a,r),s.length&&(o.call(a,s),r.attr({"aria-haspopup":!0,"aria-controls":s.attr("id"),"aria-expanded":!1}),s.attr({role:"group","aria-expanded":!1,"aria-hidden":!0}).addClass(e.panelClass).not("[aria-labelledby]").attr("aria-labelledby",r.attr("id")))}),this.panels=r.find("."+e.panelClass),r.on("focusin.accessible-megamenu",":focusable, ."+e.panelClass,t.proxy(d,this)).on("focusout.accessible-megamenu",":focusable, ."+e.panelClass,t.proxy(p,this)).on("keydown.accessible-megamenu",t.proxy(f,this)).on("mouseover.accessible-megamenu",t.proxy(m,this)).on("mouseout.accessible-megamenu",t.proxy(v,this)).on("mousedown.accessible-megamenu",t.proxy(g,this)),w&&r.on("touchstart.accessible-megamenu",t.proxy(u,this)),r.find("hr").attr("role","separator"),t(i.activeElement).closest(r).length&&t(i.activeElement).trigger("focusin.accessible-megamenu")},getDefaults:function(){return this._defaults},getOption:function(t){return this.settings[t]},getAllOptions:function(){return this.settings},setOption:function(t,e,i){this.settings[t]=e,i&&this.init()}}}(),t.fn[s]=function(e){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new t.fn[s].AccessibleMegaMenu(this,e))})},t.fn[s].AccessibleMegaMenu=n,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return o(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),n=isNaN(i);return(n||i>=0)&&o(e,!n)}})}(jQuery,window,document)}.apply(t,arguments)})}(this),define("lib-shim/adobe-accessible-mega-menu",["require","adobe-accessible-mega-menu","jquery"],function(t){"use strict";t("adobe-accessible-mega-menu");var e=t("jquery");e.fn.accessibleMegaMenu.AccessibleMegaMenu.prototype.init=function(){var t=this.settings,i=e(this.element),n=i.children().first();this.start(t,i,i,n)}}),define("components/mega-menu",["require","adobe-accessible-mega-menu"],function(t){"use strict";t("adobe-accessible-mega-menu");var e=function(t,e){this.$el=t};return e.prototype={start:function(){this.$el.accessibleMegaMenu({uuidPrefix:"mega-menu",menuClass:"mega-menu--js-active",topNavItemClass:"mega-menu-top-item",panelClass:"mega-menu-panel",hoverClass:"mega-menu--hover",focusClass:"mega-menu--focus",openClass:"mega-menu--open"})}},e}),define("core/math-v2",[],function(){"use strict";return{lerp:function(t,e,i){return t+i*(e-t)},mod:function(t,e){return(t%e+e)%e},sign:function(t){return t<0?-1:1},polarToCartesian:function(t,e){return[e*Math.cos(t),e*Math.sin(t)]}}}),define("components/features-footer",["require","jquery","core/math-v2"],function(t){"use strict";var e=t("jquery"),i=t("core/math-v2"),n=function(t){this.$el=t};return n.prototype.SLIDE_GESTURE_LENGTH_PERCENT=10,n.prototype.start=function(){this.$el.on("click.features-footer",".js-features-footer-next",this.nextClicked.bind(this)),this.$el.on("click.features-footer",".js-features-footer-previous",this.previousClicked.bind(this)),this.$el.on("touchstart.features-footer",this.touchStarted.bind(this)),this.$el.on("touchmove.features-footer",this.touchMoved.bind(this)),this.$el.on("touchend.features-footer",this.touchEnded.bind(this)),this.$itemsContainer=e(".js-features-footer-items",this.$el),this.$currentTarget=this.$itemsContainer.children().eq(0),this.$dots=e(".js-features-footer-dot",this.$el),this.currentDotIndex=0},n.prototype.stop=function(){this.$el.off(".features-footer")},n.prototype.nextClicked=function(){this.transitionNext()},n.prototype.previousClicked=function(){this.transitionPrevious()},n.prototype.touchStarted=function(t){this.touchStartX=this.touchX(t),this.swiping=!1,this.disableAnimation()},n.prototype.touchMoved=function(t){if(!this.swiping){var e=this.decodeGesture(t);"swipe"===e.type?(this.swiped(e),this.swiping=!0):this.dragged(e)}},n.prototype.touchEnded=function(){this.enableAnimation(),this.$itemsContainer.css("left",0)},n.prototype.swiped=function(t){"left"===t.direction?this.transitionNext():this.transitionPrevious()},n.prototype.dragged=function(t){this.$itemsContainer.css("left",t.delta)},n.prototype.transitionNext=function(){var t=this.nextItem();this.transitionTo(t),this.shiftDot(1)},n.prototype.transitionPrevious=function(){var t=this.previousItem();this.transitionTo(t),this.shiftDot(-1)},n.prototype.transitionTo=function(t){var e=t.position().left,i=parseInt(this.$itemsContainer.css("left"),10);this.disableAnimation(),this.$itemsContainer.css("left",i+e),this.moveItemToFirstInDom(t),t.position(),this.enableAnimation(),this.$itemsContainer.css("left",0),this.$currentTarget=t},n.prototype.moveItemToFirstInDom=function(t){var i=this.$itemsContainer.children(),n=i.index(t);this.$itemsContainer.append(i.slice(0,n)),this.$itemsContainer.children().each(function(t,i){var n=t<3;e(i).attr("aria-hidden",n?"false":"true"),e(i).find("a:not(.js-link-block-cover-link)").attr("tabindex",n?"0":"-1")})},n.prototype.shiftDot=function(t){this.currentDotIndex=i.mod(this.currentDotIndex+t,this.$dots.length),this.$dots.each(function(t,i){e(i).toggleClass("features-footer-dot--active",t===this.currentDotIndex)}.bind(this))},n.prototype.nextItem=function(){var t=this.$currentTarget.next();return t=t.length?t:this.$itemsContainer.children().eq(0)},n.prototype.previousItem=function(){var t=this.$currentTarget.prev();return t=t.length?t:this.$itemsContainer.children().eq(-1)},n.prototype.enableAnimation=function(){this.$el.removeClass("features-footer-disable-transition")},n.prototype.disableAnimation=function(){this.$el.addClass("features-footer-disable-transition")},n.prototype.touchX=function(t){return t.originalEvent.touches[0].clientX-this.$el[0].getBoundingClientRect().left},n.prototype.decodeGesture=function(t){var e=this.touchX(t)-this.touchStartX;if(100/this.$el.width()*Math.abs(e)>=this.SLIDE_GESTURE_LENGTH_PERCENT)return{type:"swipe",direction:i.sign(e)>0?"right":"left"};return{type:"drag",delta:e}},n}),define("components/form-field",[],function(){"use strict";var t=function(t,e,i){this.$input=t,this.messages=e,this.validator=i};return t.prototype.stop=function(){this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=void 0},t.prototype.focusHandler=function(){this.messages.show(this.messages.HELP)},t.prototype.blurHandler=function(){this.messages.hide(this.messages.HELP)},t.prototype.validate=function(){return new Promise(function(t,e){this.validator.validate(this.$input.val(),this.validationHandler.bind(this,t,e)),this.messages.showValidating()}.bind(this))},t.prototype.validationHandler=function(t,e,i,n){if(this.messages.hideValidating(),i||!n)return void e();n.valid?(this.messages.show(this.messages.SUCCESS,n),t()):(this.messages.show(this.messages.ERROR,n),e())},t}),define("components/live-validate-form-field",["require","components/form-field"],function(t){"use strict";var e=t("components/form-field"),i=function(t,i,n,r){e.call(this,t,i,n),this.validationDelay=r,this.lastValue=t.val()};return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.inputHandler=function(){this.hasChanged()&&(this.validator.cancel(),this.messages.hideValidating(),this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(this.updated.bind(this),this.validationDelay))},i.prototype.changeHandler=function(){(this.updateTimeout||this.hasChanged())&&this.updated()},i.prototype.updated=function(){this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=void 0,this.validate()},i.prototype.hasChanged=function(){var t=this.$input.val(),e=t!==this.lastValue;return this.lastValue=t,e},i}),function(t,e){"object"==typeof exports&&exports&&"string"!=typeof exports.nodeName?e(exports):"function"==typeof define&&define.amd?define("mustache",["exports"],e):(t.Mustache={},e(t.Mustache))}(this,function(t){function e(t){return"function"==typeof t}function i(t){return g(t)?"array":typeof t}function n(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function r(t,e){return null!=t&&"object"==typeof t&&e in t}function o(t,e){return m.call(t,e)}function s(t){return!o(v,t)}function a(t){return String(t).replace(/[&<>"'`=\/]/g,function(t){return y[t]})}function l(e,i){function r(t){if("string"==typeof t&&(t=t.split(x,2)),!g(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(n(t[0])+"\\s*"),a=new RegExp("\\s*"+n(t[1])),l=new RegExp("\\s*"+n("}"+t[1]))}if(!e)return[];var o,a,l,d=[],p=[],f=[],m=!1,v=!1;r(i||t.tags);for(var y,C,T,A,_,M,E=new h(e);!E.eos();){if(y=E.pos,T=E.scanUntil(o))for(var P=0,L=T.length;P<L;++P)A=T.charAt(P),s(A)?f.push(p.length):v=!0,p.push(["text",A,y,y+1]),y+=1,"\n"===A&&function(){if(m&&!v)for(;f.length;)delete p[f.pop()];else f=[];m=!1,v=!1}();if(!E.scan(o))break;if(m=!0,C=E.scan(k)||"name",E.scan(b),"="===C?(T=E.scanUntil(w),E.scan(w),E.scanUntil(a)):"{"===C?(T=E.scanUntil(l),E.scan(S),E.scanUntil(a),C="&"):T=E.scanUntil(a),!E.scan(a))throw new Error("Unclosed tag at "+E.pos);if(_=[C,T,y,E.pos],p.push(_),"#"===C||"^"===C)d.push(_);else if("/"===C){if(!(M=d.pop()))throw new Error('Unopened section "'+T+'" at '+y);if(M[1]!==T)throw new Error('Unclosed section "'+M[1]+'" at '+y)}else"name"===C||"{"===C||"&"===C?v=!0:"="===C&&r(T)}if(M=d.pop())throw new Error('Unclosed section "'+M[1]+'" at '+E.pos);return c(u(p))}function u(t){for(var e,i,n=[],r=0,o=t.length;r<o;++r)(e=t[r])&&("text"===e[0]&&i&&"text"===i[0]?(i[1]+=e[1],i[3]=e[3]):(n.push(e),i=e));return n}function c(t){for(var e,i,n=[],r=n,o=[],s=0,a=t.length;s<a;++s)switch(e=t[s],e[0]){case"#":case"^":r.push(e),o.push(e),r=e[4]=[];break;case"/":i=o.pop(),i[5]=e[2],r=o.length>0?o[o.length-1][4]:n;break;default:r.push(e)}return n}function h(t){this.string=t,this.tail=t,this.pos=0}function d(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function p(){this.cache={}}var f=Object.prototype.toString,g=Array.isArray||function(t){return"[object Array]"===f.call(t)},m=RegExp.prototype.test,v=/\S/,y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},b=/\s*/,x=/\s+/,w=/\s*=/,S=/\s*\}/,k=/#|\^|\/|>|\{|&|=|!/;h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var i=e[0];return this.tail=this.tail.substring(i.length),this.pos+=i.length,i},h.prototype.scanUntil=function(t){var e,i=this.tail.search(t);switch(i){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,i),this.tail=this.tail.substring(i)}return this.pos+=e.length,e},d.prototype.push=function(t){return new d(t,this)},d.prototype.lookup=function(t){var i,n=this.cache;if(n.hasOwnProperty(t))i=n[t];else{for(var o,s,a=this,l=!1;a;){if(t.indexOf(".")>0)for(i=a.view,o=t.split("."),s=0;null!=i&&s<o.length;)s===o.length-1&&(l=r(i,o[s])),i=i[o[s++]];else i=a.view[t],l=r(a.view,t);if(l)break;a=a.parent}n[t]=i}return e(i)&&(i=i.call(this.view)),i},p.prototype.clearCache=function(){this.cache={}},p.prototype.parse=function(t,e){var i=this.cache,n=i[t];return null==n&&(n=i[t]=l(t,e)),n},p.prototype.render=function(t,e,i){var n=this.parse(t),r=e instanceof d?e:new d(e);return this.renderTokens(n,r,i,t)},p.prototype.renderTokens=function(t,e,i,n){for(var r,o,s,a="",l=0,u=t.length;l<u;++l)s=void 0,r=t[l],o=r[0],"#"===o?s=this.renderSection(r,e,i,n):"^"===o?s=this.renderInverted(r,e,i,n):">"===o?s=this.renderPartial(r,e,i,n):"&"===o?s=this.unescapedValue(r,e):"name"===o?s=this.escapedValue(r,e):"text"===o&&(s=this.rawValue(r)),void 0!==s&&(a+=s);return a},p.prototype.renderSection=function(t,i,n,r){function o(t){return s.render(t,i,n)}var s=this,a="",l=i.lookup(t[1]);if(l){if(g(l))for(var u=0,c=l.length;u<c;++u)a+=this.renderTokens(t[4],i.push(l[u]),n,r);else if("object"==typeof l||"string"==typeof l||"number"==typeof l)a+=this.renderTokens(t[4],i.push(l),n,r);else if(e(l)){if("string"!=typeof r)throw new Error("Cannot use higher-order sections without the original template");l=l.call(i.view,r.slice(t[3],t[5]),o),null!=l&&(a+=l)}else a+=this.renderTokens(t[4],i,n,r);return a}},p.prototype.renderInverted=function(t,e,i,n){var r=e.lookup(t[1]);if(!r||g(r)&&0===r.length)return this.renderTokens(t[4],e,i,n)},p.prototype.renderPartial=function(t,i,n){if(n){var r=e(n)?n(t[1]):n[t[1]];return null!=r?this.renderTokens(this.parse(r),i,n,r):void 0}},p.prototype.unescapedValue=function(t,e){var i=e.lookup(t[1]);if(null!=i)return i},p.prototype.escapedValue=function(e,i){var n=i.lookup(e[1]);if(null!=n)return t.escape(n)},p.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.3.0",t.tags=["{{","}}"];var C=new p;return t.clearCache=function(){return C.clearCache()},t.parse=function(t,e){return C.parse(t,e)},t.render=function(t,e,n){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+i(t)+'" was given as the first argument for mustache#render(template, view, partials)');return C.render(t,e,n)},t.to_html=function(i,n,r,o){var s=t.render(i,n,r);if(!e(o))return s;o(s)},t.escape=a,t.Scanner=h,t.Context=d,t.Writer=p,t}),define("components/field-messages",["require","jquery","mustache"],function(t){"use strict";var e=t("jquery"),i=t("mustache"),n=function(t,e,i){this.$group=t.parents(".js-form-group"),this.$controls=t.parents(".js-form-group-controls"),this.templates=e,this.options=i||{}};return n.prototype.SHOW_HELP_CLASS="form-validation--show-help-text",n.prototype.ERROR_STATE_CLASS="has-error",n.prototype.SUCCESS_STATE_CLASS="has-success",n.prototype.HELP="help",n.prototype.SUCCESS="success",n.prototype.ERROR="error",n.prototype.show=function(t,e){if(t===this.HELP){if(!!this.messages().length)return;this.showHelp()}t===this.SUCCESS&&(this.clear(),this.showSuccess(e)),t===this.ERROR&&(this.clear(),this.showError(e)),this.lastState=[].slice.call(arguments)},n.prototype.hide=function(t){t===this.HELP&&this.hideHelp()},n.prototype.clear=function(){this.$group.removeClass(this.ERROR_STATE_CLASS),this.$group.removeClass(this.SUCCESS_STATE_CLASS),this.$controls.removeClass(this.SHOW_HELP_CLASS),this.messages().remove()},n.prototype.showValidating=function(){if(this.clear(),!1!==this.options.showValidation){var t=e(i.render(this.templates.validating));this.$controls.append(t)}},n.prototype.hideValidating=function(){this.clear(),this.lastState&&this.show.apply(this,this.lastState)},n.prototype.showSuccess=function(t){if(!1!==this.options.showSuccess){this.$group.addClass(this.SUCCESS_STATE_CLASS);var n=e(i.render(this.templates.success,t));this.$controls.append(n)}},n.prototype.showError=function(t){this.$group.addClass(this.ERROR_STATE_CLASS);var n=e(i.render(this.templates.error,t));this.$controls.append(n)},n.prototype.showHelp=function(){this.$controls.addClass(this.SHOW_HELP_CLASS)},n.prototype.hideHelp=function(){this.$controls.removeClass(this.SHOW_HELP_CLASS)},n.prototype.messages=function(){return this.$controls.find(".js-form-group-success, .js-form-group-error, .js-form-group-validating")},n}),define("components/form-validation.js",["require","jquery","core/ajax","components/live-validate-form-field","components/field-messages"],function(t){"use strict";var e=t("jquery"),i=t("core/ajax"),n=t("components/live-validate-form-field"),r=t("components/field-messages"),o=function(t,e,i){this.name=t,this.$fields=e,this.endpoint=i};o.prototype.validate=function(t,e){var n=this.$fields.serialize();this.request&&this.request.abort(),this.request=i.post(this.endpoint,null,n,this.responseHandler.bind(this,e))},o.prototype.responseHandler=function(t,e,i){t(e,i&&i[this.name])},o.prototype.cancel=function(){this.request&&this.request.abort()};var s=function(t){this.$el=t,this.endpoint=t.data("validation-endpoint"),this.templates={success:this.$el.find(".js-field-success-template").text(),error:this.$el.find(".js-field-errors-template").text(),validating:this.$el.find(".js-field-validating-template").text()}};return s.prototype.VALIDATION_DELAY=2e3,s.prototype.start=function(){this.createFields(),this.bindEvents()},s.prototype.stop=function(){this.$el.off(".form-validation"),e.each(this.fields,function(){this.stop()})},s.prototype.createFields=function(){this.fields={},this.$el.find("input[name]").each(function(t,i){var n=e(i),r=n.attr("name");this.fields[r]=this.createField(n)}.bind(this))},s.prototype.createField=function(t){var e=new r(t,this.templates);return new n(t,e,new o(t.attr("name"),this.$el,this.endpoint),this.VALIDATION_DELAY)},s.prototype.bindEvents=function(){this.$el.on("focusin.form-validation",this.fieldHandler.bind(this,"focusHandler")),this.$el.on("focusout.form-validation",this.fieldHandler.bind(this,"blurHandler")),this.$el.on("change.form-validation",this.fieldHandler.bind(this,"changeHandler")),this.$el.on(["keyup.form-validation","contextmenu.form-validation","input.form-validation"].join(" "),this.fieldHandler.bind(this,"inputHandler"))},s.prototype.fieldHandler=function(t,i){var n=e(i.target).attr("name"),r=this.fields[n];r&&r[t]()},s}),define("components/lazy-buylinks",["require","jquery","core/ajax","uuid","components/disclose-dropdown"],function(t){"use strict";var e=t("jquery"),i=t("core/ajax"),n=t("uuid"),r=t("components/disclose-dropdown"),o=function(t){r.apply(this,arguments),this.$el=t,this.requests=[]};o.prototype=Object.create(r.prototype),o.prototype.constructor=o,o.prototype.selector="[data-lazy-buylink]",o.prototype.eventNamespace=".lazy-buylink";var s=r.prototype;return o.prototype.start=function(){s.start.call(this),this.loadingIndicatorText=this.$el.attr("data-lazy-buylinks-loading-text")},o.prototype.open=function(t){var e=t.data("openedWithKeyboard");t.data("openedWithKeyboard",void 0);var n=this.discloseBody(t);if(n||(n=this.createDiscloseBody(t)),!this.hasBuylinks(n)){var r=t.data("lazyBuylinkUrl"),o=n.attr("id");this.requests[o]=i.get(r,null,null,this.responseHandler.bind(this,e,n))}s.open.call(this,t)},o.prototype.keyboardOpen=function(t){t.data("openedWithKeyboard",!0),s.keyboardOpen.call(this,t)},o.prototype.close=function(t){var e=t.attr("aria-controls");this.requests[e].abort(),s.close.call(this,t)},o.prototype.createDiscloseBody=function(t){var i="lazy-buylink-menu-"+n(),r=e("<div>").attr("id",i).attr("aria-live","polite").addClass(["disclose-hide","buylinks-dropdown-menu","buylinks-dropdown-menu--desktop"].join(" ")),o=e("<span>").addClass("lazy-buylinks-loading").text(this.loadingIndicatorText);return r.append(o),t.after(r),t.attr("aria-controls",i),r},o.prototype.responseHandler=function(t,e,i,n){i||(e.find(".lazy-buylinks-loading").remove(),e.append(n),t&&this.focusFirstItem(e))},o.prototype.hasBuylinks=function(t){return!t.find(".lazy-buylinks-loading").length},o.prototype.isOpen=function(t){return!!t&&s.isOpen.call(this,t)},o.prototype.discloseBody=function(){var t=s.discloseBody.apply(this,arguments);if(t.length)return t},o}),define("components/focus-controls",["require","jquery"],function(t){"use strict";var e=t("jquery"),i=function(){this.$body=e(document.body)};return i.prototype={namespace:".focus-controls",container:".js-focus-controls-container",start:function(){this.$body.on("focusin"+this.namespace,this.container,this.focusin.bind(this)),this.$body.on("focusout"+this.namespace,this.container,this.focusout.bind(this)),this.$body.on("mouseenter"+this.namespace,this.container,this.focusin.bind(this)),this.$body.on("mouseleave"+this.namespace,this.container,this.mouseleave.bind(this)),this.$body.addClass("enable-focus-controls")},stop:function(){this.$body.off(this.namespace),this.$body.removeClass("enable-focus-controls")},focusin:function(t){e(t.target).parents(this.container).addClass("show-focus-controls")},focusout:function(t){e(t.target).parents(this.container).removeClass("show-focus-controls")},mouseleave:function(t){var i=e(t.target).parents(this.container);i.find(".focus-control .disclose-active").length||i.removeClass("show-focus-controls")}},i}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("on-screen",e):t.OnScreen=e()}(this,function(){"use strict";function t(){var t=this.options.container;if(t instanceof HTMLElement){"static"===window.getComputedStyle(t).position&&(t.style.position="relative")}t.addEventListener("scroll",this._scroll),window.addEventListener("resize",this._scroll),this._scroll(),this.attached=!0}function e(t){var e=arguments.length<=1||void 0===arguments[1]?{tolerance:0}:arguments[1];if(!t)throw new Error("You should specify the element you want to test");"string"==typeof t&&(t=document.querySelector(t));var i=t.getBoundingClientRect();return i.bottom-e.tolerance>0&&i.right-e.tolerance>0&&i.left+e.tolerance<(window.innerWidth||document.documentElement.clientWidth)&&i.top+e.tolerance<(window.innerHeight||document.documentElement.clientHeight)}function i(t){var e=arguments.length<=1||void 0===arguments[1]?{tolerance:0,container:""}:arguments[1];if(!t)throw new Error("You should specity the element you want to test");if("string"==typeof t&&(t=document.querySelector(t)),"string"==typeof e&&(e={tolerance:0,container:document.querySelector(e)}),"string"==typeof e.container&&(e.container=document.querySelector(e.container)),e instanceof HTMLElement&&(e={tolerance:0,container:e}),!e.container)throw new Error("You should specify a container element");var i=e.container.getBoundingClientRect();return t.offsetTop+t.clientHeight-e.tolerance>e.container.scrollTop&&t.offsetLeft+t.clientWidth-e.tolerance>e.container.scrollLeft&&t.offsetLeft+e.tolerance<i.width+e.container.scrollLeft&&t.offsetTop+e.tolerance<i.height+e.container.scrollTop}function n(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=arguments.length<=1||void 0===arguments[1]?{tolerance:0}:arguments[1],r=Object.keys(t),o=void 0;r.length&&(o=n.container===window?e:i,r.forEach(function(e){t[e].nodes.forEach(function(i){o(i.node,n)?(i.wasVisible=i.isVisible,i.isVisible=!0):(i.wasVisible=i.isVisible,i.isVisible=!1),!0===i.isVisible&&!1===i.wasVisible&&"function"==typeof t[e].enter&&t[e].enter(i.node),!1===i.isVisible&&!0===i.wasVisible&&"function"==typeof t[e].leave&&t[e].leave(i.node)})}))}function r(){var t=this,e=void 0;return function(){clearTimeout(e),e=setTimeout(function(){n(t.trackedElements,t.options)},t.options.throttle)}}function o(){this.options.container.removeEventListener("scroll",this._scroll),window.removeEventListener("resize",this._scroll),this.attached=!1}function s(t,e){this.trackedElements.hasOwnProperty(e)&&this.trackedElements[e][t]&&delete this.trackedElements[e][t],this.trackedElements[e].enter||this.trackedElements[e].leave||delete this.trackedElements[e]}function a(t,e,i){var n=["enter","leave"];if(!t)throw new Error("No event given. Choose either enter or leave");if(!e)throw new Error("No selector to track");if(n.indexOf(t)<0)throw new Error(t+" event is not supported");this.trackedElements.hasOwnProperty(e)||(this.trackedElements[e]={}),this.trackedElements[e].nodes=[];for(var r=0;r<document.querySelectorAll(e).length;r++){var o={isVisible:!1,wasVisible:!1,node:document.querySelectorAll(e)[r]};this.trackedElements[e].nodes.push(o)}"function"==typeof i&&(this.trackedElements[e][t]=i)}function l(t,e){var i=window.MutationObserver||window.WebKitMutationObserver,n=window.addEventListener;if(i){new i(function(t){(t[0].addedNodes.length||t[0].removedNodes.length)&&e()}).observe(t,{childList:!0,subtree:!0})}else n&&(t.addEventListener("DOMNodeInserted",e,!1),t.addEventListener("DOMNodeRemoved",e,!1))}function u(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{tolerance:0,debounce:100,container:window}:arguments[0];this.options={},this.trackedElements={},Object.defineProperties(this.options,{container:{configurable:!1,enumerable:!1,get:function(){var t=void 0;return"string"==typeof e.container?t=document.querySelector(e.container):e.container instanceof HTMLElement&&(t=e.container),t||window},set:function(t){e.container=t}},debounce:{get:function(){return parseInt(e.debounce,10)||100},set:function(t){e.debounce=t}},tolerance:{get:function(){return parseInt(e.tolerance,10)||0},set:function(t){
e.tolerance=t}}}),Object.defineProperty(this,"_scroll",{enumerable:!1,configurable:!1,writable:!1,value:this._debouncedScroll.call(this)}),l(document.querySelector("body"),function(){Object.keys(t.trackedElements).forEach(function(e){t.on("enter",e),t.on("leave",e)})}),this.attach()}return Object.defineProperties(u.prototype,{_debouncedScroll:{configurable:!1,writable:!1,enumerable:!1,value:r},attach:{configurable:!1,writable:!1,enumerable:!1,value:t},destroy:{configurable:!1,writable:!1,enumerable:!1,value:o},off:{configurable:!1,writable:!1,enumerable:!1,value:s},on:{configurable:!1,writable:!1,enumerable:!1,value:a}}),u.check=e,u}),define("components/async-content",["require","jquery","core/ajax"],function(t){"use strict";var e=t("jquery"),i=t("core/ajax"),n=function(t,e){this.$el=t,this.moduleLoader=e};return n.prototype.load=function(t){this.abort(),this.$el.addClass("async-content-loading"),this.request=i.get(t.url,null,t.data,this.responded.bind(this,t.errorMessage))},n.prototype.stop=function(){this.abort(),this.moduleLoader.stopAllModules(this.$el)},n.prototype.abort=function(){this.request&&this.request.abort()},n.prototype.responded=function(t,e,i){this.$el.removeClass("async-content-loading"),e?this.failed(t):this.succeeded(i)},n.prototype.failed=function(t){if(t){var i=e("<p></p>").text(t).addClass("async-content-error-message");this.$el.append(i),this.$el.addClass("async-content-failed")}},n.prototype.succeeded=function(t){this.$el.html(t),this.$el.addClass("async-content-loaded"),this.moduleLoader.startAllModules(this.$el)},n}),define("components/lazy-load-v2",["require","on-screen","components/async-content"],function(t){"use strict";var e=t("on-screen"),i=0,n=t("components/async-content"),r=function(t,e){this.$el=t,this.app=e,this.asyncContent=new n(t,e.moduleLoader)};return r.prototype.scrollContainer=window,r.prototype.start=function(){if(this.$el.is("[data-lazy-load-when-on-screen]")){this.onScreen=new e({tolerance:0,container:this.scrollContainer});var t=this.$el.attr("id")||"lazy-load-"+i++;this.$el.attr("id",t),this.onScreen.on("enter","#"+t,this.entered.bind(this))}else this.load();this.$el.addClass("async-content-loading")},r.prototype.stop=function(){this.asyncContent.stop(),this.onScreen&&this.onScreen.destroy()},r.prototype.load=function(){var t=this.$el.data("lazy-load-content"),e=this.$el.data("lazy-load-error-message");this.asyncContent.load({url:t,errorMessage:e})},r.prototype.entered=function(){this.onScreen.destroy(),this.load()},r}),define("components/link-block",["require","jquery"],function(t){"use strict";var e=t("jquery"),i=function(t){this.$el=t};return i.prototype={start:function(){this.$el.on("mouseover",".js-link-block-cover-link",function(t){e(t.target).closest(".js-link-block").addClass("link-block--hover")}),this.$el.on("mouseout",".js-link-block-cover-link",function(t){e(t.target).closest(".js-link-block").removeClass("link-block--hover")})}},i}),define("components/logout-form",["require","jquery"],function(t){"use strict";var e=(t("jquery"),function(t,e){this.$el=t});return e.prototype.start=function(){this.$el.on("click.logout-form",".js-logout-button",this.logout.bind(this))},e.prototype.stop=function(){this.$el.off(".logout-form")},e.prototype.logout=function(t){t.preventDefault(),this.$el.submit()},e}),function(t){define("bootstrap",["jquery"],function(){return function(){if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!r&&o.toggle&&/show|hide/.test(e)&&(o.toggle=!1),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.5",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"))&&e.transitioning)){var o=t.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(i.call(r,"hide"),e||r.data("bs.collapse",null));var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[s](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",s].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[s](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(n.TRANSITION_DURATION):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var r=t(n);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var r=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var r=t(this);r.attr("data-target")||n.preventDefault();var o=e(r),s=o.data("bs.collapse"),a=s?"toggle":r.data();i.call(o,a)})}(jQuery)}.apply(t,arguments)})}(this),define("components/masthead",["require","jquery","lodash","bootstrap"],function(t){"use strict";t("jquery"),t("lodash");return t("bootstrap"),function(t){}}),define("components/open-modal",["require","jquery","core/media-size-v2"],function(t){"use strict";var e=t("jquery"),i=t("core/media-size-v2"),n=function(t,e){this.app=e};return n.prototype.start=function(){e("body").on("click.open-modal","[data-open-modal]",this.open.bind(this)),e("body").on("click.open-modal","[data-close-modal]",this.close.bind(this))},n.prototype.stop=function(){e("body").off("click.open-modal")},n.prototype.open=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||i.isMobile()||(t.preventDefault(),this.app.modal.open(e(t.target).data("open-modal")))},n.prototype.close=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.preventDefault(),this.app.modal.close())},n}),define("components/position-disclose-v2",["require","jquery","core/media-size-v2","jquery-ui"],function(t){"use strict";var e=t("jquery"),i=t("core/media-size-v2");t("jquery-ui");var n=function(t){this.$el=t,this.anchor=t.data("position-anchor"),this.my=t.data("position-my"),this.at=t.data("position-at")};return n.prototype.start=function(){this.position(),this.$el.on("disclose-shown.position-disclose",this.position.bind(this))},n.prototype.stop=function(){this.$el.off(".position-disclose")},n.prototype.position=function(){this.$el.position({of:e("#"+this.anchor),my:this.configFor("my"),at:this.configFor("at"),using:this.applyPosition.bind(this),collision:"flipfit"})},n.prototype.applyPosition=function(t,e){this.$el.css(t),this.$el.removeClass(function(t,e){return(e.match(/(^|\s)position--my-\S+/g)||[]).join(" ")}),this.$el.addClass("position--my-"+e[e.important])},n.prototype.configFor=function(t){var e=i.getMediaSize(),n=i.breakpoints.slice().reverse();return n=n.splice(n.indexOf(e)),n.reduce(function(e,i){return e||this.configForBreakpoint(t,i)}.bind(this),!1)},n.prototype.configForBreakpoint=function(t,e){var i=["position",t,e].join("-");return this.$el.data(i)},n}),define("components/prevent-resubmit-v2",["require","jquery"],function(t){"use strict";var e=t("jquery"),i=function(){this.$el=e("body"),this.submitted=!1};return i.prototype={selector:"[data-prevent-resubmit]",start:function(){this.$el.on("submit.preventResubmit",this.selector,this.submitHandler.bind(this)),this.$el.on("prevent-resubmit-done.preventResubmit",this.selector,this.doneHandler.bind(this))},stop:function(){this.$el.off(".preventResubmit")},submitHandler:function(t){var i=e(t.target);if(i.data("prevent-resubmit-submitted"))return void t.preventDefault();var n=i.find("[type=submit]");n.attr("disabled",!0),i.is("[data-loading-indicator]")&&n.after('<span class="form-loading-indicator"></span>'),i.data("prevent-resubmit-submitted",!0)},doneHandler:function(t){var i=e(t.target);i.data("prevent-resubmit-submitted",!1),i.find(".form-loading-indicator").remove(),i.find("[type=submit]").attr("disabled",!1)}},i}),define("components/collapsing-nav",["require","jquery","uuid"],function(t){"use strict";var e=t("jquery"),i=t("uuid"),n=function(t,e){this.$el=t,this.eventMediator=e.eventMediator};return n.prototype={start:function(){var t=i();this.$list=this.$el.find(".js-navlist-items"),this.$tabs=this.$list.find("li");var n=e("<div></div>").addClass("navlist-more-wrap");this.$button=e("<button></button>").text(this.$el.data("moreString")).attr("aria-expanded",!1).attr("aria-controls",t).attr("data-disclose-collapsing-nav",!0).addClass("navlist-more"),n.append(this.$button);var r=this.$list.clone();r.add(r.find("*")).removeAttr("class"),r.addClass("disclose-hide").addClass("navlist-hidden-list").attr("id",t),n.append(r),this.$hiddenTabs=r.find("li"),this.$list.after(n),e(window).on("resize.collapsing-nav",this.resizeHandler.bind(this)),this.recommendedNextSubscription=this.eventMediator.subscribe("recommendednext.started",this.resizeHandler.bind(this)),this.$list.css("position","relative"),this.updateMoreMenu()},stop:function(){e(window).off(".collapsing-nav"),this.eventMediator.unsubscribe(this.recommendedNextSubscription)},updateMoreMenu:function(){var t=this;this.eventMediator.publish("collapsingNav.beforeUpdate",this.$button),this.$tabs.removeClass("navlist-item--hidden");var i=this.$tabs.map(function(){var t=e(this);return Math.floor(t.position().left+t.outerWidth(!0))}).get(),n=this.$list.width();i[i.length-1]>n?(this.showButton(),n-=this.$button.outerWidth(!0)):this.hideButton(),this.$tabs.each(function(r){var o=e(this),s=t.$hiddenTabs.eq(r);i[r]>n?(o.addClass("navlist-item--hidden"),s.show()):(o.removeClass("navlist-item--hidden"),s.hide())})},showButton:function(){this.$button.removeClass("navlist-more--hidden"),this.$el.addClass("navlist--more-visible")},hideButton:function(){this.$button.addClass("navlist-more--hidden"),this.$el.removeClass("navlist--more-visible")},resizeHandler:function(){this.updateMoreMenu()}},n}),define("components/primary-nav",["require","jquery","lodash","components/collapsing-nav"],function(t){"use strict";var e=t("jquery"),i=t("lodash"),n=t("components/collapsing-nav"),r=function(){n.apply(this,arguments)};r.prototype=Object.create(n.prototype),r.prototype.constructor=r;var o=n.prototype;return r.prototype.start=function(){o.start.call(this);var t=i.debounce(this.updateMoreMenu.bind(this),100);e(window).resize(t)},r}),define("components/selectable-range",["require","jquery","core/ajax"],function(t){"use strict";var e=t("jquery"),i=t("core/ajax"),n=function(t,e){this.$el=t,this.app=e};return n.prototype={start:function(){this.endpoint=this.$el.data("selectableRangeEndpoint"),this.selectbox=this.$el.data("selectableRangeSelectbox"),this.changeSubscription=this.app.eventMediator.subscribe("selectbox.change",this.changeHandler.bind(this))},stop:function(){this.app.eventMediator.unsubscribe(this.changeSubscription),this.request&&this.request.abort(),this.app.moduleLoader.stopAllModules(this.$el)},changeHandler:function(t){if(t.hasOwnProperty(this.selectbox)){var e=this,n={},r=t[this.selectbox];r&&(n.range=r),this.request=i.get(this.endpoint,null,n,function(t,i){e.update(i,e.selectbox)})}},update:function(t,i){var n=e("[data-date-filtered-anchor="+i+"]"),r=e(t).find(".js-partial-library-link").attr("href");n.attr("href",r),this.$el.html(t),this.app.moduleLoader.startAllModules(this.$el)}},n}),function(t){define("jquery-selectboxit",["jquery-ui"],function(){return function(){!function(t){"use strict";!function(t,e,i,n){t.widget("selectBox.selectBoxIt",{VERSION:"3.8.0",options:{showEffect:"none",showEffectOptions:{},showEffectSpeed:"medium",hideEffect:"none",hideEffectOptions:{},hideEffectSpeed:"medium",showFirstOption:!0,defaultText:"",defaultIcon:"",downArrowIcon:"",theme:"default",keydownOpen:!0,isMobile:function(){return/iPhone|iPod|iPad|Silk|Android|BlackBerry|Opera Mini|IEMobile/.test(navigator.userAgent||navigator.vendor||e.opera)},native:!1,aggressiveChange:!1,selectWhenHidden:!0,viewport:t(e),similarSearch:!1,copyAttributes:["title","rel"],copyClasses:"button",nativeMousedown:!1,customShowHideEvent:!1,autoWidth:!0,html:!0,populate:"",dynamicPositioning:!0,hideCurrent:!1},getThemes:function(){var e=this,i=t(e.element).attr("data-theme")||"c";return{bootstrap:{focus:"active",hover:"",enabled:"enabled",disabled:"disabled",arrow:"caret",button:"btn",list:"dropdown-menu",container:"bootstrap",open:"open"},jqueryui:{focus:"ui-state-focus",hover:"ui-state-hover",enabled:"ui-state-enabled",disabled:"ui-state-disabled",arrow:"ui-icon ui-icon-triangle-1-s",button:"ui-widget ui-state-default",list:"ui-widget ui-widget-content",container:"jqueryui",open:"selectboxit-open"},jquerymobile:{focus:"ui-btn-down-"+i,hover:"ui-btn-hover-"+i,enabled:"ui-enabled",disabled:"ui-disabled",arrow:"ui-icon ui-icon-arrow-d ui-icon-shadow",button:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+i,list:"ui-btn ui-btn-icon-right ui-btn-corner-all ui-shadow ui-btn-up-"+i,container:"jquerymobile",open:"selectboxit-open"},default:{focus:"selectboxit-focus",hover:"selectboxit-hover",enabled:"selectboxit-enabled",disabled:"selectboxit-disabled",arrow:"selectboxit-default-arrow",button:"selectboxit-btn",list:"selectboxit-list",container:"selectboxit-container",open:"selectboxit-open"}}},isDeferred:function(e){return t.isPlainObject(e)&&e.promise&&e.done},_create:function(e){var n=this,r=n.options.populate,o=n.options.theme;if(n.element.is("select"))return n.widgetProto=t.Widget.prototype,n.originalElem=n.element[0],n.selectBox=n.element,n.options.populate&&n.add&&!e&&n.add(r),n.selectItems=n.element.find("option"),n.firstSelectItem=n.selectItems.slice(0,1),n.documentHeight=t(i).height(),n.theme=t.isPlainObject(o)?t.extend({},n.getThemes().default,o):n.getThemes()[o]?n.getThemes()[o]:n.getThemes().default,n.currentFocus=0,n.blur=!0,n.textArray=[],n.currentIndex=0,n.currentText="",n.flipped=!1,e||(n.selectBoxStyles=n.selectBox.attr("style")),n._createDropdownButton()._createUnorderedList()._copyAttributes()._replaceSelectBox()._addClasses(n.theme)._eventHandlers(),n.originalElem.disabled&&n.disable&&n.disable(),n._ariaAccessibility&&n._ariaAccessibility(),n.isMobile=n.options.isMobile(),n._mobile&&n._mobile(),n.options.native&&this._applyNativeSelect(),n.triggerEvent("create"),n},_createDropdownButton:function(){var e=this,i=e.originalElemId=e.originalElem.id||"",n=e.originalElemValue=e.originalElem.value||"",r=e.originalElemName=e.originalElem.name||"",o=e.options.copyClasses,s=e.selectBox.attr("class")||"";return e.dropdownText=t("<span/>",{id:i&&i+"SelectBoxItText",class:"selectboxit-text",unselectable:"on",text:e.firstSelectItem.text()}).attr("data-val",n),e.dropdownImageContainer=t("<span/>",{class:"selectboxit-option-icon-container"}),e.dropdownImage=t("<i/>",{id:i&&i+"SelectBoxItDefaultIcon",class:"selectboxit-default-icon",unselectable:"on"}),e.dropdown=t("<span/>",{id:i&&i+"SelectBoxIt",class:"selectboxit "+("button"===o?s:"")+" "+(e.selectBox.prop("disabled")?e.theme.disabled:e.theme.enabled),name:r,tabindex:e.selectBox.attr("tabindex")||"0",unselectable:"on"}).append(e.dropdownImageContainer.append(e.dropdownImage)).append(e.dropdownText),e.dropdownContainer=t("<span/>",{id:i&&i+"SelectBoxItContainer",class:e.theme.container+" "+("container"===o?s:"")}).append(e.dropdown),e},_createUnorderedList:function(){var e,i,n,r,o,s,a,l,u,c,h,d,p,f=this,g="",m=f.originalElemId||"",v=t("<ul/>",{id:m&&m+"SelectBoxItOptions",class:"selectboxit-options",tabindex:-1});if(f.options.showFirstOption||(f.selectItems.first().attr("disabled","disabled"),f.selectItems=f.selectBox.find("option").slice(1)),f.selectItems.each(function(m){d=t(this),i="",n="",e=d.prop("disabled"),r=d.attr("data-icon")||"",o=d.attr("data-iconurl")||"",s=o?"selectboxit-option-icon-url":"",a=o?"style=\"background-image:url('"+o+"');\"":"",l=d.attr("data-selectedtext"),u=d.attr("data-text"),h=u||d.text(),p=d.parent(),p.is("optgroup")&&(i="selectboxit-optgroup-option",0===d.index()&&(n='<span class="selectboxit-optgroup-header '+p.first().attr("class")+'"data-disabled="true">'+p.first().attr("label")+"</span>")),g+=n+'<li id="'+m+'" data-val="'+this.value+'" data-disabled="'+e+'" class="'+i+" selectboxit-option "+(t(this).attr("class")||"")+'"><a class="selectboxit-option-anchor"><span class="selectboxit-option-icon-container"><i class="selectboxit-option-icon '+r+" "+(s||f.theme.container)+'"'+a+"></i></span>"+(f.options.html?h:f.htmlEscape(h))+"</a></li>",c=d.attr("data-search"),f.textArray[m]=e?"":c||h,this.selected&&(f._setText(f.dropdownText,l||h),f.currentFocus=m)}),f.options.defaultText||f.selectBox.attr("data-text")){var y=f.options.defaultText||f.selectBox.attr("data-text");f._setText(f.dropdownText,y),f.options.defaultText=y}return v.append(g),f.list=v,f.dropdownContainer.append(f.list),f.listItems=f.list.children("li"),f.listAnchors=f.list.find("a"),f.listItems.first().addClass("selectboxit-option-first"),f.listItems.last().addClass("selectboxit-option-last"),f.list.find("li[data-disabled='true']").not(".optgroupHeader").addClass(f.theme.disabled),f.dropdownImage.addClass(f.selectBox.attr("data-icon")||f.options.defaultIcon||f.listItems.eq(f.currentFocus).find("i").attr("class")),f.dropdownImage.attr("style",f.listItems.eq(f.currentFocus).find("i").attr("style")),f},_replaceSelectBox:function(){var e,i,r=this,o=r.originalElem.id||"",s=r.selectBox.attr("data-size"),a=r.listSize=s===n?"auto":"0"===s?"auto":+s;return r.selectBox.css("display","none").after(r.dropdownContainer),r.dropdownContainer.appendTo("body").addClass("selectboxit-rendering"),r.dropdown.height(),r.downArrow=t("<i/>",{id:o&&o+"SelectBoxItArrow",class:"selectboxit-arrow",unselectable:"on"}),r.downArrowContainer=t("<span/>",{id:o&&o+"SelectBoxItArrowContainer",class:"selectboxit-arrow-container",unselectable:"on"}).append(r.downArrow),r.dropdown.append(r.downArrowContainer),r.listItems.removeClass("selectboxit-selected").eq(r.currentFocus).addClass("selectboxit-selected"),e=r.downArrowContainer.outerWidth(!0),i=r.dropdownImage.outerWidth(!0),r.options.autoWidth&&(r.dropdown.css({width:"auto"}).css({width:r.list.outerWidth(!0)+e+i}),r.list.css({"min-width":r.dropdown.width()})),r.dropdownText.css({"max-width":r.dropdownContainer.outerWidth(!0)-(e+i)}),r.selectBox.after(r.dropdownContainer),r.dropdownContainer.removeClass("selectboxit-rendering"),"number"===t.type(a)&&(r.maxHeight=r.listAnchors.outerHeight(!0)*a),r},_scrollToView:function(t){var e=this,i=e.listItems.eq(e.currentFocus),n=e.list.scrollTop(),r=i.height(),o=i.position().top,s=Math.abs(o),a=e.list.height();return"search"===t?r>a-o?e.list.scrollTop(n+(o-(a-r))):-1>o&&e.list.scrollTop(o-r):"up"===t?-1>o&&e.list.scrollTop(n-s):"down"===t&&r>a-o&&e.list.scrollTop(n+(s-a+r)),e},_callbackSupport:function(e){var i=this;return t.isFunction(e)&&e.call(i,i.dropdown),i},_setText:function(t,e){var i=this;return i.options.html?t.html(e):t.text(e),i},open:function(t){var e=this,i=e.options.showEffect,n=e.options.showEffectSpeed,r=e.options.showEffectOptions,o=e.options.native,s=e.isMobile;return!e.listItems.length||e.dropdown.hasClass(e.theme.disabled)?e:(o||s||this.list.is(":visible")||(e.triggerEvent("open"),e._dynamicPositioning&&e.options.dynamicPositioning&&e._dynamicPositioning(),"none"===i?e.list.show():"show"===i||"slideDown"===i||"fadeIn"===i?e.list[i](n):e.list.show(i,r,n),e.list.promise().done(function(){e._scrollToView("search")})),e._callbackSupport(t),e)},close:function(t){var e=this,i=e.options.hideEffect,n=e.options.hideEffectSpeed,r=e.options.hideEffectOptions,o=e.options.native,s=e.isMobile;return o||s||!e.list.is(":visible")||(e.triggerEvent("close"),"none"===i?e.list.hide():"hide"===i||"slideUp"===i||"fadeOut"===i?e.list[i](n):e.list.hide(i,r,n)),e._callbackSupport(t),e},toggle:function(){var t=this,e=t.list.is(":visible");e?t.close():e||t.open()},_keyMappings:{38:"up",40:"down",13:"enter",8:"backspace",9:"tab",32:"space",27:"esc"},_keydownMethods:function(){var t=this,e=t.list.is(":visible")||!t.options.keydownOpen;return{down:function(){t.moveDown&&e&&t.moveDown()},up:function(){t.moveUp&&e&&t.moveUp()},enter:function(){var e=t.listItems.eq(t.currentFocus);t._update(e),"true"!==e.attr("data-preventclose")&&t.close(),t.triggerEvent("enter")},tab:function(){t.triggerEvent("tab-blur"),t.close()},backspace:function(){t.triggerEvent("backspace")},esc:function(){t.close()}}},_eventHandlers:function(){var e,i,n=this,r=n.options.nativeMousedown,o=n.options.customShowHideEvent,s=n.focusClass,a=n.hoverClass,l=n.openClass;return this.dropdown.on({"click.selectBoxIt":function(){n.dropdown.trigger("focus",!0),n.originalElem.disabled||(n.triggerEvent("click"),r||o||n.toggle())},"mousedown.selectBoxIt":function(){t(this).data("mdown",!0),n.triggerEvent("mousedown"),r&&!o&&n.toggle()},"mouseup.selectBoxIt":function(){n.triggerEvent("mouseup")},"blur.selectBoxIt":function(){n.blur&&(n.triggerEvent("blur"),n.close(),t(this).removeClass(s))},"focus.selectBoxIt":function(e,i){var r=t(this).data("mdown");t(this).removeData("mdown"),r||i||setTimeout(function(){n.triggerEvent("tab-focus")},0),i||(t(this).hasClass(n.theme.disabled)||t(this).addClass(s),n.triggerEvent("focus"))},"keydown.selectBoxIt":function(t){var e=n._keyMappings[t.keyCode],i=n._keydownMethods()[e];i&&(i(),!n.options.keydownOpen||"up"!==e&&"down"!==e||n.open()),i&&"tab"!==e&&t.preventDefault()},"keypress.selectBoxIt":function(t){var e=t.charCode||t.keyCode,i=n._keyMappings[t.charCode||t.keyCode],r=String.fromCharCode(e);n.search&&(!i||i&&"space"===i)&&n.search(r,!0,!0),"space"===i&&t.preventDefault()},"mouseenter.selectBoxIt":function(){n.triggerEvent("mouseenter")},"mouseleave.selectBoxIt":function(){n.triggerEvent("mouseleave")}}),n.list.on({"mouseover.selectBoxIt":function(){n.blur=!1},"mouseout.selectBoxIt":function(){n.blur=!0},"focusin.selectBoxIt":function(){n.dropdown.trigger("focus",!0)}}),n.list.on({"mousedown.selectBoxIt":function(){n._update(t(this)),n.triggerEvent("option-click"),"false"===t(this).attr("data-disabled")&&"true"!==t(this).attr("data-preventclose")&&n.close(),setTimeout(function(){n.dropdown.trigger("focus",!0)},0)},"focusin.selectBoxIt":function(){n.listItems.not(t(this)).removeAttr("data-active"),t(this).attr("data-active","");var e=n.list.is(":hidden");(n.options.searchWhenHidden&&e||n.options.aggressiveChange||e&&n.options.selectWhenHidden)&&n._update(t(this)),t(this).addClass(s)},"mouseup.selectBoxIt":function(){r&&!o&&(n._update(t(this)),n.triggerEvent("option-mouseup"),"false"===t(this).attr("data-disabled")&&"true"!==t(this).attr("data-preventclose")&&n.close())},"mouseenter.selectBoxIt":function(){"false"===t(this).attr("data-disabled")&&(n.listItems.removeAttr("data-active"),t(this).addClass(s).attr("data-active",""),n.listItems.not(t(this)).removeClass(s),t(this).addClass(s),n.currentFocus=+t(this).attr("id"))},"mouseleave.selectBoxIt":function(){"false"===t(this).attr("data-disabled")&&(n.listItems.not(t(this)).removeClass(s).removeAttr("data-active"),t(this).addClass(s),n.currentFocus=+t(this).attr("id"))},"blur.selectBoxIt":function(){t(this).removeClass(s)}},".selectboxit-option"),n.list.on({"click.selectBoxIt":function(t){t.preventDefault()}},"a"),n.selectBox.on({"change.selectBoxIt, internal-change.selectBoxIt":function(t,r){var o,s;r||(o=n.list.find('li[data-val="'+n.originalElem.value+'"]'),o.length&&(n.listItems.eq(n.currentFocus).removeClass(n.focusClass),n.currentFocus=+o.attr("id"))),o=n.listItems.eq(n.currentFocus),s=o.attr("data-selectedtext"),e=o.attr("data-text"),i=e||o.find("a").text(),n._setText(n.dropdownText,s||i),n.dropdownText.attr("data-val",n.originalElem.value),o.find("i").attr("class")&&(n.dropdownImage.attr("class",o.find("i").attr("class")).addClass("selectboxit-default-icon"),n.dropdownImage.attr("style",o.find("i").attr("style"))),n.triggerEvent("changed")},"disable.selectBoxIt":function(){n.dropdown.addClass(n.theme.disabled)},"enable.selectBoxIt":function(){n.dropdown.removeClass(n.theme.disabled)},"open.selectBoxIt":function(){var t,e=n.list.find("li[data-val='"+n.dropdownText.attr("data-val")+"']");e.length||(e=n.listItems.not("[data-disabled=true]").first()),n.currentFocus=+e.attr("id"),t=n.listItems.eq(n.currentFocus),n.dropdown.addClass(l).removeClass(a).addClass(s),n.listItems.removeClass(n.selectedClass).removeAttr("data-active").not(t).removeClass(s),t.addClass(n.selectedClass).addClass(s),n.options.hideCurrent&&(n.listItems.show(),t.hide())},"close.selectBoxIt":function(){n.dropdown.removeClass(l)},"blur.selectBoxIt":function(){n.dropdown.removeClass(s)},"mouseenter.selectBoxIt":function(){t(this).hasClass(n.theme.disabled)||n.dropdown.addClass(a)},"mouseleave.selectBoxIt":function(){n.dropdown.removeClass(a)},destroy:function(t){t.preventDefault(),t.stopPropagation()}}),n},_update:function(t){var e,i=this,n=i.options.defaultText||i.selectBox.attr("data-text"),r=i.listItems.eq(i.currentFocus);"false"===t.attr("data-disabled")&&(i.listItems.eq(i.currentFocus).attr("data-selectedtext"),e=r.attr("data-text"),e||r.text(),(n&&i.options.html?i.dropdownText.html()===n:i.dropdownText.text()===n)&&i.selectBox.val()===t.attr("data-val")?i.triggerEvent("change"):(i.selectBox.val(t.attr("data-val")),i.currentFocus=+t.attr("id"),i.originalElem.value!==i.dropdownText.attr("data-val")&&i.triggerEvent("change")))},_addClasses:function(t){var e=this,i=(e.focusClass=t.focus,e.hoverClass=t.hover,t.button),n=t.list,r=t.arrow,o=t.container;return e.openClass=t.open,e.selectedClass="selectboxit-selected",e.downArrow.addClass(e.selectBox.attr("data-downarrow")||e.options.downArrowIcon||r),e.dropdownContainer.addClass(o),e.dropdown.addClass(i),e.list.addClass(n),e},refresh:function(t,e){var i=this;return i._destroySelectBoxIt()._create(!0),e||i.triggerEvent("refresh"),i._callbackSupport(t),i},htmlEscape:function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},triggerEvent:function(t){var e=this,i=e.options.showFirstOption?e.currentFocus:e.currentFocus-1>=0?e.currentFocus:0;return e.selectBox.trigger(t,{selectbox:e.selectBox,selectboxOption:e.selectItems.eq(i),dropdown:e.dropdown,dropdownOption:e.listItems.eq(e.currentFocus)}),e},_copyAttributes:function(){var t=this;return t._addSelectBoxAttributes&&t._addSelectBoxAttributes(),t},_realOuterWidth:function(t){if(t.is(":visible"))return t.outerWidth(!0);var e,i=t.clone();return i.css({visibility:"hidden",display:"block",position:"absolute"}).appendTo("body"),e=i.outerWidth(!0),i.remove(),e}});var r=t.selectBox.selectBoxIt.prototype;r.add=function(e,i){this._populate(e,function(e){var n,r,o=this,s=t.type(e),a=0,l=[],u=o._isJSON(e),c=u&&o._parseJSON(e);if(e&&("array"===s||u&&c.data&&"array"===t.type(c.data))||"object"===s&&e.data&&"array"===t.type(e.data)){for(o._isJSON(e)&&(e=c),e.data&&(e=e.data),r=e.length;r-1>=a;a+=1)n=e[a],t.isPlainObject(n)?l.push(t("<option/>",n)):"string"===t.type(n)&&l.push(t("<option/>",{text:n,value:n}));o.selectBox.append(l)}else e&&"string"===s&&!o._isJSON(e)?o.selectBox.append(e):e&&"object"===s?o.selectBox.append(t("<option/>",e)):e&&o._isJSON(e)&&t.isPlainObject(o._parseJSON(e))&&o.selectBox.append(t("<option/>",o._parseJSON(e)));return o.dropdown?o.refresh(function(){o._callbackSupport(i)},!0):o._callbackSupport(i),o})},r._parseJSON=function(e){return JSON&&JSON.parse&&JSON.parse(e)||t.parseJSON(e)},r._isJSON=function(t){var e=this;try{return e._parseJSON(t),!0}catch(t){return!1}},r._populate=function(e,i){var n=this;return e=t.isFunction(e)?e.call():e,n.isDeferred(e)?e.done(function(t){i.call(n,t)}):i.call(n,e),n},r._ariaAccessibility=function(){var e=this,i=t("label[for='"+e.originalElem.id+"']");return e.dropdownContainer.attr({role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":"false","aria-owns":e.list[0].id}),e.dropdownText.attr({"aria-live":"polite"}),e.dropdown.on({"disable.selectBoxIt":function(){e.dropdownContainer.attr("aria-disabled","true")},"enable.selectBoxIt":function(){e.dropdownContainer.attr("aria-disabled","false")}}),i.length&&e.dropdownContainer.attr("aria-labelledby",i[0].id),e.list.attr({role:"listbox","aria-hidden":"true"}),e.listItems.attr({role:"option"}),e.selectBox.on({"open.selectBoxIt":function(){e.list.attr("aria-hidden","false"),e.dropdownContainer.attr("aria-expanded","true")},"close.selectBoxIt":function(){e.list.attr("aria-hidden","true"),e.dropdownContainer.attr("aria-expanded","false")}}),e},r._addSelectBoxAttributes=function(){var e=this;return e._addAttributes(e.selectBox.prop("attributes"),e.dropdown),e.selectItems.each(function(i){e._addAttributes(t(this).prop("attributes"),e.listItems.eq(i))}),e},r._addAttributes=function(e,i){var n=this,r=n.options.copyAttributes;return e.length&&t.each(e,function(e,n){var o=n.name.toLowerCase(),s=n.value;"null"===s||-1===t.inArray(o,r)&&-1===o.indexOf("data")||i.attr(o,s)}),n},r.destroy=function(t){var e=this;return e._destroySelectBoxIt(),e.widgetProto.destroy.call(e),e._callbackSupport(t),e},r._destroySelectBoxIt=function(){var e=this;return e.dropdown.off(".selectBoxIt"),t.contains(e.dropdownContainer[0],e.originalElem)&&e.dropdownContainer.before(e.selectBox),e.dropdownContainer.remove(),e.selectBox.removeAttr("style").attr("style",e.selectBoxStyles),e.selectBox.show(),e.triggerEvent("destroy"),e},r.disable=function(t){var e=this;return e.options.disabled||(e.close(),e.selectBox.attr("disabled","disabled"),e.dropdown.removeAttr("tabindex").removeClass(e.theme.enabled).addClass(e.theme.disabled),e.setOption("disabled",!0),e.triggerEvent("disable")),e._callbackSupport(t),e},r.disableOption=function(e,i){var n,r,o,s=this;return"number"===t.type(e)&&(s.close(),n=s.selectBox.find("option").eq(e),s.triggerEvent("disable-option"),n.attr("disabled","disabled"),s.listItems.eq(e).attr("data-disabled","true").addClass(s.theme.disabled),
s.currentFocus===e&&(r=s.listItems.eq(s.currentFocus).nextAll("li").not("[data-disabled='true']").first().length,o=s.listItems.eq(s.currentFocus).prevAll("li").not("[data-disabled='true']").first().length,r?s.moveDown():o?s.moveUp():s.disable())),s._callbackSupport(i),s},r._isDisabled=function(){var t=this;return t.originalElem.disabled&&t.disable(),t},r._dynamicPositioning=function(){var e=this;if("number"===t.type(e.listSize))e.list.css("max-height",e.maxHeight||"none");else{var i=e.dropdown.offset().top,n=e.list.data("max-height")||e.list.outerHeight(),r=e.dropdown.outerHeight(),o=e.options.viewport,s=o.height(),a=t.isWindow(o.get(0))?o.scrollTop():o.offset().top,l=s+a>=i+r+n,u=!l;if(e.list.data("max-height")||e.list.data("max-height",e.list.outerHeight()),u)if(e.dropdown.offset().top-a>=n)e.list.css("max-height",n),e.list.css("top",e.dropdown.position().top-e.list.outerHeight());else{var c=Math.abs(i+r+n-(s+a)),h=Math.abs(e.dropdown.offset().top-a-n);h>c?(e.list.css("max-height",n-c-r/2),e.list.css("top","auto")):(e.list.css("max-height",n-h-r/2),e.list.css("top",e.dropdown.position().top-e.list.outerHeight()))}else e.list.css("max-height",n),e.list.css("top","auto")}return e},r.enable=function(t){var e=this;return e.options.disabled&&(e.triggerEvent("enable"),e.selectBox.removeAttr("disabled"),e.dropdown.attr("tabindex",0).removeClass(e.theme.disabled).addClass(e.theme.enabled),e.setOption("disabled",!1),e._callbackSupport(t)),e},r.enableOption=function(e,i){var n,r=this;return"number"===t.type(e)&&(n=r.selectBox.find("option").eq(e),r.triggerEvent("enable-option"),n.removeAttr("disabled"),r.listItems.eq(e).attr("data-disabled","false").removeClass(r.theme.disabled)),r._callbackSupport(i),r},r.moveDown=function(t){var e=this;e.currentFocus+=1;var i="true"===e.listItems.eq(e.currentFocus).attr("data-disabled"),n=e.listItems.eq(e.currentFocus).nextAll("li").not("[data-disabled='true']").first().length;if(e.currentFocus===e.listItems.length)e.currentFocus-=1;else{if(i&&n)return e.listItems.eq(e.currentFocus-1).blur(),void e.moveDown();i&&!n?e.currentFocus-=1:(e.listItems.eq(e.currentFocus-1).blur().end().eq(e.currentFocus).focusin(),e._scrollToView("down"),e.triggerEvent("moveDown"))}return e._callbackSupport(t),e},r.moveUp=function(t){var e=this;e.currentFocus-=1;var i="true"===e.listItems.eq(e.currentFocus).attr("data-disabled"),n=e.listItems.eq(e.currentFocus).prevAll("li").not("[data-disabled='true']").first().length;if(-1===e.currentFocus)e.currentFocus+=1;else{if(i&&n)return e.listItems.eq(e.currentFocus+1).blur(),void e.moveUp();i&&!n?e.currentFocus+=1:(e.listItems.eq(this.currentFocus+1).blur().end().eq(e.currentFocus).focusin(),e._scrollToView("up"),e.triggerEvent("moveUp"))}return e._callbackSupport(t),e},r._setCurrentSearchOption=function(t){var e=this;return(e.options.aggressiveChange||e.options.selectWhenHidden||e.listItems.eq(t).is(":visible"))&&!0!==e.listItems.eq(t).data("disabled")&&(e.listItems.eq(e.currentFocus).blur(),e.currentIndex=t,e.currentFocus=t,e.listItems.eq(e.currentFocus).focusin(),e._scrollToView("search"),e.triggerEvent("search")),e},r._searchAlgorithm=function(t,e){var i,n,r,o,s=this,a=!1,l=s.textArray,u=s.currentText;for(i=t,r=l.length;r>i;i+=1){for(o=l[i],n=0;r>n;n+=1)-1!==l[n].search(e)&&(a=!0,n=r);if(a||(s.currentText=s.currentText.charAt(s.currentText.length-1).replace(/[|()\[{.+*?$\\]/g,"\\$0"),u=s.currentText),e=new RegExp(u,"gi"),u.length<3){if(e=new RegExp(u.charAt(0),"gi"),-1!==o.charAt(0).search(e))return s._setCurrentSearchOption(i),(o.substring(0,u.length).toLowerCase()!==u.toLowerCase()||s.options.similarSearch)&&(s.currentIndex+=1),!1}else if(-1!==o.search(e))return s._setCurrentSearchOption(i),!1;if(o.toLowerCase()===s.currentText.toLowerCase())return s._setCurrentSearchOption(i),s.currentText="",!1}return!0},r.search=function(t,e,i){var n=this;return i?n.currentText+=t.replace(/[|()\[{.+*?$\\]/g,"\\$0"):n.currentText=t.replace(/[|()\[{.+*?$\\]/g,"\\$0"),n._searchAlgorithm(n.currentIndex,new RegExp(n.currentText,"gi"))&&n._searchAlgorithm(0,n.currentText),n._callbackSupport(e),n},r._updateMobileText=function(){var t,e,i,n=this;t=n.selectBox.find("option").filter(":selected"),e=t.attr("data-text"),i=e||t.text(),n._setText(n.dropdownText,i),n.list.find('li[data-val="'+t.val()+'"]').find("i").attr("class")&&n.dropdownImage.attr("class",n.list.find('li[data-val="'+t.val()+'"]').find("i").attr("class")).addClass("selectboxit-default-icon")},r._applyNativeSelect=function(){var t=this;return t.dropdownContainer.append(t.selectBox),t.dropdown.attr("tabindex","-1"),t.selectBox.css({display:"block",visibility:"visible",width:t._realOuterWidth(t.dropdown),height:t.dropdown.outerHeight(),opacity:"0",position:"absolute",top:"0",left:"0",cursor:"pointer","z-index":"999999",margin:t.dropdown.css("margin"),padding:"0","-webkit-appearance":"menulist-button"}),t.originalElem.disabled&&t.triggerEvent("disable"),this},r._mobileEvents=function(){var t=this;t.selectBox.on({"changed.selectBoxIt":function(){t.hasChanged=!0,t._updateMobileText(),t.triggerEvent("option-click")},"mousedown.selectBoxIt":function(){t.hasChanged||!t.options.defaultText||t.originalElem.disabled||(t._updateMobileText(),t.triggerEvent("option-click"))},"enable.selectBoxIt":function(){t.selectBox.removeClass("selectboxit-rendering")},"disable.selectBoxIt":function(){t.selectBox.addClass("selectboxit-rendering")}})},r._mobile=function(){var t=this;return t.isMobile&&(t._applyNativeSelect(),t._mobileEvents()),this},r.remove=function(e,i){var n,r,o=this,s=t.type(e),a=0,l="";if("array"===s){for(r=e.length;r-1>=a;a+=1)n=e[a],"number"===t.type(n)&&(l+=l.length?", option:eq("+n+")":"option:eq("+n+")");o.selectBox.find(l).remove()}else"number"===s?o.selectBox.find("option").eq(e).remove():o.selectBox.find("option").remove();return o.dropdown?o.refresh(function(){o._callbackSupport(i)},!0):o._callbackSupport(i),o},r.selectOption=function(e,i){var n=this,r=t.type(e);return"number"===r?n.selectBox.val(n.selectItems.eq(e).val()).change():"string"===r&&n.selectBox.val(e).change(),n._callbackSupport(i),n},r.setOption=function(e,i,n){var r=this;return"string"===t.type(e)&&(r.options[e]=i),r.refresh(function(){r._callbackSupport(n)},!0),r},r.setOptions=function(e,i){var n=this;return t.isPlainObject(e)&&(n.options=t.extend({},n.options,e)),n.refresh(function(){n._callbackSupport(i)},!0),n},r.wait=function(t,e){var i=this;return i.widgetProto._delay.call(i,e,t),i}}(window.jQuery,window,document)}()}.apply(t,arguments)})}(this),define("components/selectbox",["require","jquery","core/media-size-v2","jquery-selectboxit"],function(t){"use strict";var e=t("jquery"),i=t("core/media-size-v2");t("jquery-selectboxit");var n=function(t,e){this.$el=t,this.app=e};return n.prototype={start:function(){this.app.eventMediator.subscribe("mediaSize.change",this.updateIsMobile.bind(this));var t={autoWidth:!1,copyClasses:"container",isMobile:this.isMobile};e.each(this.$el.data(),function(e,i){if(0===e.indexOf("selectbox")){var n=e.substr(9,1).toLowerCase()+e.substr(10);t[n]=i}}),this.selectBox=this.$el.selectBoxIt(t).data("selectBox-selectBoxIt"),this.$selectBoxIt=this.$el.next(),this.$selectBoxItOptions=e(".selectboxit-options",this.$selectBoxIt),this.$el.on("change",this.changeHandler.bind(this)),this.$el.on("option-click",this.removeFocusStyle.bind(this)),this.$el.on("tab-blur",this.resetFocusStyle.bind(this)),this.$selectBoxItOptions.on("mouseleave",this.removeOptionFocusStyle.bind(this)),this.$selectBoxItOptions.on("mouseenter",this.resetOptionFocusStyle.bind(this)),this.$el.on("moveUp moveDown open",this.resetOptionFocusStyle.bind(this))},updateIsMobile:function(){this.selectBox.setOptions({isMobile:this.isMobile})},isMobile:function(){return i.isMobile()},changeHandler:function(t){var e={};e[this.$el.attr("name")]=this.$el.val(),this.app.eventMediator.publish("selectbox.change",e)},removeFocusStyle:function(){this.$selectBoxIt.addClass("selectbox--remove-focus")},resetFocusStyle:function(){this.$selectBoxIt.removeClass("selectbox--remove-focus")},removeOptionFocusStyle:function(){this.$selectBoxIt.addClass("selectbox--remove-option-focus")},resetOptionFocusStyle:function(){this.$selectBoxIt.removeClass("selectbox--remove-option-focus")}},n}),define("core/media-size-events",["require","core/media-size-v2","jquery"],function(t){"use strict";var e=t("core/media-size-v2"),i=t("jquery"),n=function(t,e){this.eventMediator=e.eventMediator};return n.prototype={resizeHandler:function(){var t=e.getMediaSize();this.lastSize!==t&&this.eventMediator.publish("mediaSize.change",{isMobile:e.isMobile()}),this.lastSize=t},start:function(){this.lastSize=e.getMediaSize(),i(window).on("resize.mediaSizeEvents",this.resizeHandler.bind(this))},stop:function(){i(window).off(".mediaSizeEvents")}},n}),function(t,e){if("function"==typeof define&&define.amd)define("lib/jquery-serialize-object/jquery-serialize-object-2.5.0.min",["exports","jquery"],function(t,i){return e(t,i)});else if("undefined"!=typeof exports){var i=require("jquery");e(exports,i)}else e(t,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e){function i(t,i){function r(t,e,i){return t[e]=i,t}function o(t,e){for(var i,o=t.match(n.key);void 0!==(i=o.pop());)if(n.push.test(i)){var a=s(t.replace(/\[\]$/,""));e=r([],a,e)}else n.fixed.test(i)?e=r([],i,e):n.named.test(i)&&(e=r({},i,e));return e}function s(t){return void 0===p[t]&&(p[t]=0),p[t]++}function a(t){switch(e('[name="'+t.name+'"]',i).attr("type")){case"checkbox":return"on"===t.value||t.value;default:return t.value}}function l(e){if(!n.validate.test(e.name))return this;var i=o(e.name,a(e));return d=t.extend(!0,d,i),this}function u(e){if(!t.isArray(e))throw new Error("formSerializer.addPairs expects an Array");for(var i=0,n=e.length;n>i;i++)this.addPair(e[i]);return this}function c(){return d}function h(){return JSON.stringify(c())}var d={},p={};this.addPair=l,this.addPairs=u,this.serialize=c,this.serializeJSON=h}var n={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return i.patterns=n,i.serializeObject=function(){return new i(e,this).addPairs(this.serializeArray()).serialize()},i.serializeJSON=function(){return new i(e,this).addPairs(this.serializeArray()).serializeJSON()},void 0!==e.fn&&(e.fn.serializeObject=i.serializeObject,e.fn.serializeJSON=i.serializeJSON),t.FormSerializer=i,i}),define("community/shout-alerts",["require","jquery"],function(t){"use strict";var e=t("jquery"),i={POSTING_MESSAGES:"POSTING",ACTION_MESSAGES:"ACTION",clearActionMessages:function(t,e){i.clearMessages(i.ACTION_MESSAGES,t,e)},displayActionErrorMessages:function(t,e,n,r){i.displayErrorMessages(i.ACTION_MESSAGES,t,e,n,r)},clearPostingMessages:function(t,e){i.clearMessages(i.POSTING_MESSAGES,t,e)},displayPostingErrorMessages:function(t,e,n,r){i.displayErrorMessages(i.POSTING_MESSAGES,t,e,n,r)},clearMessages:function(t,e,i){var r=n(i,t);e.find(r).empty()},displayErrorMessages:function(t,i,r,o,s){var a=n(r,t),l=o&&o.errors?o.errors:[{message:s}],u=i.find(a);l.forEach(function(t){u.append(e('<p class="alert alert-danger" role="alert">'+t.message+"</p>"))})}},n=function(t,e){return e==i.POSTING_MESSAGES?'[data-shout-form-messages-for="'+t+'"]':'[data-shout-action-messages-for="'+t+'"]'};return i}),define("community/shoutbox",["require","jquery","jquery-cookie","lib/jquery-serialize-object/jquery-serialize-object-2.5.0.min","components/confirm","core/ajax","uuid","community/shout-alerts"],function(t){"use strict";var e=t("jquery");t("jquery-cookie"),t("lib/jquery-serialize-object/jquery-serialize-object-2.5.0.min");var i=t("components/confirm"),n=t("core/ajax"),r=t("uuid"),o=t("community/shout-alerts"),s=function(t,e){this.$el=t,this.app=e,this.confirm=new i(t,e)};return s.prototype.start=function(){this.confirm.start(),this.replyTemplate=this.$el.find(".js-reply-template").html(),this.shoutFailedMessage=this.$el.data("shout-failed"),this.deleteFailedMessage=this.$el.data("delete-failed"),this.maxReplyDepth=parseInt(this.$el.data("max-reply-depth"),10),this.$el.on("change.comments keyup.comments paste.comments",".js-shout-input",this.updateCharCount.bind(this)),this.$el.on("submit.comments",".js-post-shout",this.postForm.bind(this)),this.$el.on("submit.comments",".js-delete-shout",this.deleteShout.bind(this)),this.$el.on("click.comments",".js-shout-reply",this.replyClicked.bind(this)),this.$el.on("click.comments",".js-shout-reply-cancel",this.replyCancelClicked.bind(this)),this.$el.on("click.comments",".js-more-replies",this.moreRepliesClicked.bind(this)),this.$el.find(".js-more-replies").data("in-progress",!1)},s.prototype.stop=function(){this.$el.off(".comments"),this.confirm.stop()},s.prototype.updateCharCount=function(t){var i=e(t.target),n=i.val().length;i.parents("form").find(".js-char-count").html(n)},s.prototype.postForm=function(t){t.preventDefault();var i=e(t.target),r=i.attr("action");o.clearPostingMessages(this.$el,r);var s=i.serializeObject();n.post(r,null,s,this.postResponded.bind(this,i))},s.prototype.postResponded=function(t,e,i){if(t.trigger("prevent-resubmit-done"),e||"string"!=typeof i){var n=t.attr("action");return void o.displayPostingErrorMessages(this.$el,n,i,this.shoutFailedMessage)}var r=this.container(t);this.updateList(r,i),this.$el.find(".js-shout-input").val("").change()},s.prototype.updateList=function(t,i){var n=t.is(".js-shout-list-item"),r=t.find(".js-shout-list").eq(0);if(r.length){var o=e(i).find(".js-shout-list-item");n?r.append(o):r.prepend(o)}else n?t.find(".js-shout-replies-insertion-hook").eq(0).replaceWith(i):t.append(i)},s.prototype.deleteShout=function(t){if(!t.isDefaultPrevented()){t.preventDefault();var i=e(t.target),r=i.attr("action");o.clearActionMessages(this.$el,r);var s=i.serializeObject();n.post(r,null,s,this.deleteResponded.bind(this,i))}},s.prototype.deleteResponded=function(t,e,i){if(e||!i||!i.result){var n=t.attr("action");return void o.displayActionErrorMessages(this.$el,n,i,this.deleteFailedMessage)}t.parents(".js-shout-list-item").first().remove()},s.prototype.replyClicked=function(t){t.preventDefault();var i=e(t.target),n=this.addGetReplyUi(i);i.is(".shout-reply--open")?(this.hideReplyForm(n),this.replyButtonClose(i)):(this.showReplyForm(n,i),this.replyButtonCloseAll(n),this.replyButtonOpen(i,n))},s.prototype.replyCancelClicked=function(t){var i=e(t.target).parents(".js-shout-reply-ui");this.hideReplyForm(i),this.replyButtonCloseAll(i)},s.prototype.addGetReplyUi=function(t){var i=this.container(t);i.parents(".js-shouts-container").length>=this.maxReplyDepth&&(i=this.container(i));var n=i.children(".js-shout-reply-ui");return n.length||(n=e(this.replyTemplate),n.addClass("shout-reply-ui--hidden"),n.find("form").attr("action",t.attr("href")),n.find("[data-shout-form-messages-for]").attr("data-shout-form-messages-for",t.attr("href")),n.attr("id","reply-ui-"+r()),i.append(n)),n},s.prototype.showReplyForm=function(t,e){t.removeClass("shout-reply-ui--hidden"),t.find("textarea").focus(),this.replyButtonOpen(e,t)},s.prototype.hideReplyForm=function(t){t.addClass("shout-reply-ui--hidden")},s.prototype.replyButtonOpen=function(t,e){t.attr("aria-controls",e.attr("id")),t.attr("aria-expanded",!0),t.addClass("shout-reply--open")},s.prototype.replyButtonClose=function(t){t.attr("aria-expanded",!1),t.removeClass("shout-reply--open")},s.prototype.replyButtonCloseAll=function(t){var e=t.attr("id"),i=this.$el.find("[aria-controls="+e+"]");this.replyButtonClose(i)},s.prototype.container=function(t){return t.parents(".js-shouts-container").eq(0)},s.prototype.moreRepliesClicked=function(t){t.preventDefault();var i=e(t.target);if(!i.data("in-progress")){i.data("in-progress",!0),i.addClass("shout-more-replies-loading");var r=i.attr("href"),o={},s=i.is("[data-more-replies-after]");s&&(o.more="after"),n.get(r,null,o,this.moreRepliesLoaded.bind(this,i,s))}},s.prototype.moreRepliesLoaded=function(t,i,n,r){if(t.data("in-progress",!1),t.removeClass("shout-more-replies-loading"),!n){var o=e("<div>"+r+"</div>"),s=o.find("ul:first > li"),a=t.siblings(".shout-list");i?a.append(s):a.prepend(s);var l=i?"> [data-more-replies-after]":"> [data-more-replies-before]",u=o.find(l);u.length?t.attr("href",u.attr("href")):t.remove()}},s}),define("community/report",["require","jquery","core/ajax","community/shout-alerts","lib/jquery-serialize-object/jquery-serialize-object-2.5.0.min"],function(t){"use strict";var e=t("jquery"),i=t("core/ajax"),n=t("community/shout-alerts");t("lib/jquery-serialize-object/jquery-serialize-object-2.5.0.min");var r=function(t){this.$el=t};return r.prototype.start=function(){this.errorMessage=this.$el.data("report-failed"),this.$el.on("submit.report",".js-report",this.submitted.bind(this))},r.prototype.stop=function(){this.$el.off(".report")},r.prototype.submitted=function(t){t.preventDefault();var r=e(t.target),o=r.attr("action");n.clearActionMessages(this.$el,o);var s=r.serializeObject();i.post(o,null,s,this.responded.bind(this,r))},r.prototype.responded=function(t,i,r){if(i||r&&!1===r.result){var o=t.attr("action");return void n.displayActionErrorMessages(this.$el,o,r,this.errorMessage)}var s=t.parents(".js-shout"),a=e(r).find(".js-shout").eq(0);s.replaceWith(a)},r}),define("player/controls",["require","core/ajax","jquery"],function(t){"use strict";function e(t){var e=Math.floor(t/3600),i=Math.floor(t%3600/60),n=Math.floor(t%60);return e<10&&(e="0"+e),i<10&&(i="0"+i),n<10&&(n="0"+n),e>0?[e,i,n].join(":"):[i,n].join(":")}var i=t("core/ajax"),n=function(t,e){this.$el=t,this.app=e},r=t("jquery");return n.prototype={ERROR_MESSAGE_DURATION:5e3,constructor:n,start:function(){var t=this;this.$artworkLink=this.$el.find(".js-artwork"),this.$artwork=this.$artworkLink.find("img"),this.$source=this.$el.find(".js-source"),this.$switchDevice=this.$el.find(".js-switch-device"),this.$listeningOn=this.$el.find(".js-player-bar-listening-on"),this.$elapsedLabel=this.$el.find(".js-progress-elapsed"),this.$remainingLabel=this.$el.find(".js-progress-remaining"),this.$progressSlug=this.$el.find(".js-progress-slug"),this.$playPauseButton=this.$el.find(".js-play-pause"),this.$previousButton=this.$el.find(".js-previous"),this.$nextButton=this.$el.find(".js-next"),this.$loveButton=this.$el.find(".js-love"),this.$sourceButtons=this.$el.find(".js-switch-source"),this.pauseString=this.$playPauseButton.data("string-pause"),this.pauseAnalyticsAction=this.$playPauseButton.data("analytics-action-pause"),this.playString=this.$playPauseButton.text().trim(),this.playAnalyticsAction=this.$playPauseButton.data("analytics-action"),this.defaultArtwork=this.$artwork.attr("src"),this.$nextButton.on("click.player.controls",function(e){e.preventDefault(),t.app.player.next()}),this.$previousButton.on("click.player.controls",function(e){e.preventDefault(),t.app.player.previous()}),this.$loveButton.on("click.player.controls",function(e){if(r(e.target).hasClass("js-click-enabled")){var n=t.track.userLoves;t.track.userLoves=!n,t.updateLoveButton(),t.track.userLoves&&(t.$loveButton.addClass("disable-hover"),t.$loveButton.on("mouseout.player.controls",function(){t.$loveButton.removeClass("disable-hover"),t.$loveButton.off("mouseout.player.controls")}));var o={track:t.track.trackName,artist:t.track.artistName};n&&(o.unlove=!0),i.post(t.track.loveUrl,null,o,function(e){e&&(t.track.userLoves=n,t.updateLoveButton())})}}),this.$sourceButtons.on("click",function(e){e.preventDefault();var i=r(this),n=i.data("source");t.app.player.play(n)}),this.$switchDevice.on("click",this.app.player.switchDevice.bind(this.app.player)),this.app.eventMediator.subscribe("player.track.positionChanged",this.updateTrackPosition.bind(this)),this.app.eventMediator.subscribe("player.track.playing",this.showPlayingStatus.bind(this)),this.app.eventMediator.subscribe("player.track.paused",this.showPlayButton.bind(this)),this.app.eventMediator.subscribe("player.track.stopped",this.disable.bind(this)),this.app.eventMediator.subscribe("player.track.finished",this.disable.bind(this)),this.app.eventMediator.subscribe("player.ad.playing",this.adPlaying.bind(this)),this.app.eventMediator.subscribe("player.deviceChanged",this.deviceChanged.bind(this))},showPlayingStatus:function(t){this.updateProviderClass(t.affiliate),this.updateAnalyticsLabels(t.affiliate),this.enable(),this.track=t,this.fetchAdditionalTrackDetails(),this.$remainingLabel.text("-"+e(t.duration)),this.$source.attr("href",t[t.affiliate+"Url"]),this.showPauseButton(),this.enableSourceButtons(t.availableAffiliates)},updateTrackPosition:function(t){this.$elapsedLabel.text(e(t)),t>this.track.duration&&(t=this.track.duration),this.$remainingLabel.text("-"+e(this.track.duration-t)),this.$progressSlug.width(t/this.track.duration*100+"%")},updateProviderClass:function(t){this.providerClass&&this.$el.removeClass(this.providerClass),this.providerClass="player-bar--provider-"+t,this.$el.addClass(this.providerClass)},updateAnalyticsLabels:function(t){this.$el.find("[data-analytics-action]").attr("data-analytics-label",t)},enable:function(){this.$el.removeClass("inactive").removeClass("is-playing-ad"),this.$playPauseButton.attr("disabled",!1),this.$previousButton.attr("disabled",!1),this.app.player.hasNext()?(this.$nextButton.addClass("inactive"),this.$nextButton.attr("disabled",!0)):(this.$nextButton.removeClass("inactive"),this.$nextButton.attr("disabled",!1))},disable:function(){this.$el.addClass("inactive"),this.$playPauseButton.attr("disabled",!0),this.$previousButton.attr("disabled",!0),this.$nextButton.attr("disabled",!0),this.$loveButton.attr("disabled",!0),this.$loveButton.removeClass("player-bar-btn--loved"),this.abortAdditionalTrackDetails(),this.updateArtwork()},adPlaying:function(){this.$el.addClass("is-playing-ad"),this.$playPauseButton.attr("disabled",!0),this.$previousButton.attr("disabled",!0),this.$nextButton.attr("disabled",!0),this.$loveButton.removeClass("player-bar-btn--loved"),this.updateArtwork()},deviceChanged:function(t){this.$listeningOn.text(t.message)},showPauseButton:function(){var t=this;this.$playPauseButton.off(".player.controls").on("click.player.controls",function(e){e.preventDefault(),t.app.player.pause()}).removeClass("player-bar-btn--play").addClass("player-bar-btn--pause").data("analytics-action",this.pauseAnalyticsAction).text(this.pauseString)},showPlayButton:function(){var t=this;this.$playPauseButton.off(".player.controls").on("click.player.controls",function(e){e.preventDefault(),t.app.player.resume()}).removeClass("player-bar-btn--pause").addClass("player-bar-btn--play").data("analytics-action",this.playAnalyticsAction).text(this.playString)},enableSourceButtons:function(t){this.$sourceButtons.each(function(e){var i=r(this),n=i.data("source");i.toggle(_(t).contains(n))})},fetchAdditionalTrackDetails:function(){this.detailsRequest=i.get(this.track.trackUrl+"/+playerdetails",null,null,function(t,e){t||(this.track.userLoves=e.loves,this.track.loveUrl=e.love_url,this.updateLoveButton(),this.updateArtwork(e))}.bind(this))},abortAdditionalTrackDetails:function(){this.detailsRequest&&this.detailsRequest.abort()},updateArtwork:function(t){t=t||{},this.$artwork.attr("src",t.image||this.defaultArtwork),t.album_url?this.$artworkLink.attr("href",t.album_url):this.$artworkLink.removeAttr("href")},updateLoveButton:function(){var t=this.$loveButton;this.track.userLoves?(t.addClass("player-bar-btn--loved"),t.text(t.data("unloveCopy"))):(t.removeClass("player-bar-btn--loved"),t.text(t.data("loveCopy"))),t.hasClass("js-click-enabled")&&t.attr("disabled",!1)}},n}),define("player/inline-youtube-playlink",["require","shim/youtube","jquery"],function(t){"use strict";var e=t("shim/youtube"),i=t("jquery"),n=function(t){this.$el=t};return n.prototype.start=function(){this.videoId=this.$el.data("youtube-id"),this.$target=i("#"+this.$el.data("inline-video-target")),this.$el.on("click.inline-youtube-playlink",this.play.bind(this))},n.prototype.stop=function(){this.$el.off(".inline-youtube-playlink")},n.prototype.play=function(t){t.preventDefault();var n=this.$target.find(".embedded-video");n.length||(n=i('<div class="embedded-video" />'),this.$target.append(n)),this.$target.addClass("inline-playback-container--active"),e().then(function(){this.player=new YT.Player(n.get(0),{playerVars:{iv_load_policy:3},videoId:this.videoId,events:{onReady:function(t){t.target.playVideo()}}})}.bind(this))},n}),define("player/scrobble-client",["require","core/ajax","lodash"],function(t){"use strict";var e=t("core/ajax"),i=t("lodash"),n=["spotify"];return function(t,r){function o(){e.post("/player/now-playing",null,{artist:f.artistName,track:f.trackName,duration:Math.round(f.duration)})}function s(){a()}function a(){var t=Date.now();g=setTimeout(function(){c(Date.now()-t)},1e3)}function l(){clearTimeout(g)}function u(){l(),m=0,v=!1,f=null,p=null}function c(t){if(m+=t,!v&&f.duration>=30&&h())return v=!0,void e.post("/player/scrobble",null,{timestamp:p,artist:f.artistName,track:f.trackName,duration:Math.round(f.duration)});a()}function h(){return d(m)>=f.duration/2||d(m)>=240}function d(t){return Math.round(t/1e3)}var p,f,g,m=0,v=!1;r.eventMediator.subscribe("player.track.paused",l),r.eventMediator.subscribe("player.track.stopped",u),r.eventMediator.subscribe("player.track.finished",u),r.eventMediator.subscribe("player.track.playing",function(t){t&&i(n).contains(t.affiliate)||(p=p||d((new Date).getTime()),t&&(f=t),s(),o())})}}),define("player/tracking",["require","core/ajax"],function(t){"use strict";var e=t("core/ajax"),i=function(t,e){e.eventMediator.subscribe("player.track.tuning",this.tuningHandler.bind(this)),e.eventMediator.subscribe("player.track.unavailable",this.unavailableHandler.bind(this))};return i.prototype.tuningHandler=function(t){this.track=t},i.prototype.unavailableHandler=function(){if(this.track){var t={artist:this.track.artistName,track:this.track.trackName,affiliate:this.track.affiliate,id:this.track[this.track.affiliate+"Id"]};e.get("/player/unavailable",null,t)}},i}),define("player/providers/youtube/youtube-proxy",[],function(){"use strict";var t=function(t,e){this.youtubePlayer=t,e.on("click",this.stop.bind(this))};return t.prototype={play:function(t){this.youtubePlayer.loadVideoById(t.youtubeId),this.youtubePlayer.playVideo()},resume:function(){this.youtubePlayer.playVideo()},pause:function(){this.youtubePlayer.pauseVideo()},stop:function(){this.youtubePlayer.stopVideo()},getDuration:function(){return this.youtubePlayer.getDuration()},getPosition:function(){return this.youtubePlayer.getCurrentTime()}},t}),define("player/providers/youtube/youtube-exception",[],function(){"use strict";var t={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."},e=function(e){this.name="YoutubeException",this.message=t[e]||"No description",this.errorCode=e};return e.prototype=new Error,e}),define("core/timeout-loop",[],function(){"use strict";var t=function(t,e,i){this.callback=t,this.delay=e,i?this.tick():this.delayTick()};return t.prototype.tick=function(){this.delayTick(),this.callback()},t.prototype.stop=function(){clearTimeout(this.timeout)},t.prototype.delayTick=function(){this.timeout=setTimeout(this.tick.bind(this),this.delay)},t}),function(t){t.fn.onScreen=function(e){var i={container:window,direction:"vertical",toggleClass:null,doIn:null,doOut:null,tolerance:0,throttle:null,lazyAttr:null,lazyPlaceholder:"data:image/gif;base64,R0lGODlhEAAFAIAAAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAAACwAAAAAEAAFAAACCIyPqcvtD00BACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIQTGCiywKPmjxUNhjtMlWrAgAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFEiyUf6wCEBHvLPemIHdTzCMDegkACH5BAkJAAYALAAAAAAQAAUAgoSChLS2tIyKjLy+vIyOjMTCxP///wAAAAMUWCQ09jAaAiqQmFosdeXRUAkBCCUAIfkECQkACAAsAAAAABAABQCDvLq83N7c3Nrc9Pb0xMLE/P78vL68/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCEwkCnKGbegvQn4RjGMx8F1HxBi5Il4oEiap2DcVYlpZwQAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCDwnCGHEcIMxPn4VAGMQNBx0zQEZHkiYNiap5RaBKG9EQAh+QQJCQAJACwAAAAAEAAFAIOEgoTMysyMjozs6uyUlpSMiozMzsyUkpTs7uz///8AAAAAAAAAAAAAAAAAAAAAAAAEGTBJiYgoBM09DfhAwHEeKI4dGKLTIHzCwEUAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCAQSTmMEGaco8+UBSACwWBqHxKOJYd+q1iaXFoRRMbtEQAh+QQJCQAIACwAAAAAEAAFAIO8urzc3tzc2tz09vTEwsT8/vy8vrz8+vz///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAEIhBJWc6wJZAtJh3gcRBAaXiIZV2kiRbgNZbA6VXiUAhGL0QAIfkECQkABgAsAAAAABAABQCChIKEtLa0jIqMvL68jI6MxMLE////AAAAAxRoumxFgoxGCbiANos145e3DJcQJAAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFFi6XCQwtCmAHbPVm9kGWKcEQxkkACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIRlI8SAZsPYnuJMUCRnNksWwAAOw==",debug:!1};return"remove"!==e&&t.extend(i,e),this.each(function(){function n(){return C?b<g-i.tolerance&&c<b+v-i.tolerance:b<p-i.tolerance&&b>-v+i.tolerance}function r(){return C?b+(v-i.tolerance)<c||b>g-i.tolerance:b>p-i.tolerance||-v+i.tolerance>b}function o(){return C?x<m-i.tolerance&&h<x+y-i.tolerance:x<f-i.tolerance&&x>-y+i.tolerance}function s(){return C?x+(y-i.tolerance)<h||x>m-i.tolerance:x>f-i.tolerance||-y+i.tolerance>x}function a(){return!S&&("horizontal"===i.direction?o():n())}function l(){return!!S&&("horizontal"===i.direction?s():r())}function u(t,e,i){var n,r,o;return function(){r=arguments,o=!0,i=i||this,n||function(){o?(t.apply(i,r),o=!1,n=setTimeout(arguments.callee,e)):n=null}()}}var c,h,d,p,f,g,m,v,y,b,x,w=this,S=!1,k=t(this),C=t.isWindow(i.container);if("remove"===e)return void function(){t(w).off("scroll.onScreen resize.onScreen"),t(window).off("resize.onScreen")}();var T=function(){if(C||"static"!==t(i.container).css("position")||t(i.container).css("position","relative"),d=t(i.container),p=d.height(),f=d.width(),g=d.scrollTop()+p,m=d.scrollLeft()+f,v=k.outerHeight(!0),y=k.outerWidth(!0),C){var e=k.offset();b=e.top,x=e.left}else{var n=k.position();b=n.top,x=n.left}if(c=d.scrollTop(),h=d.scrollLeft(),i.debug,a()){if(i.toggleClass&&k.addClass(i.toggleClass),t.isFunction(i.doIn)&&i.doIn.call(k[0]),i.lazyAttr&&"IMG"===k.prop("tagName")){var r=k.attr(i.lazyAttr);r!==k.prop("src")&&(k.css({background:"url("+i.lazyPlaceholder+") 50% 50% no-repeat",minHeight:"5px",minWidth:"16px"}),k.prop("src",r).load(function(){t(this).css({background:"none"})}))}S=!0}else l()&&(i.toggleClass&&k.removeClass(i.toggleClass),t.isFunction(i.doOut)&&i.doOut.call(k[0]),S=!1)};window.location.hash?u(T,50):T(),i.throttle&&(T=u(T,i.throttle)),t(i.container).on("scroll.onScreen resize.onScreen",T),C||t(window).on("resize.onScreen",T),"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=jQuery:"function"==typeof define&&define.amd&&define("jquery-onscreen",[],function(){return jQuery})})}}(jQuery),define("player/providers/youtube/youtube-provider",["require","jquery","player/providers/youtube/youtube-proxy","player/providers/youtube/youtube-exception","shim/youtube","debug","core/timeout-loop","jquery-onscreen"],function(t){"use strict";var e=t("jquery"),i=t("player/providers/youtube/youtube-proxy"),n=t("player/providers/youtube/youtube-exception"),r=t("shim/youtube"),o=t("debug"),s=t("core/timeout-loop");t("jquery-onscreen");var a=function(t,e){this.$el=t,this.app=e,this.resizeSubscription=null};return a.prototype={scrollContainer:window,start:function(){this.hide(),r().then(this._initialiseYoutubePlayer.bind(this)),
this.app.eventMediator.subscribe("partialRefresh.beforeReplace",function(){this.isActive()&&(e(this.scrollContainer).onScreen("remove"),this.showVideoInPersistentPlayer(),this.stopListeningToPageResizeEvents())}.bind(this),!1),this.$close=this.$el.find(".js-close-player")},stop:function(){this._destroyYoutubeIframe()},isActive:function(){return this.$el.hasClass("video-player--in-place")||this.$el.hasClass("video-player--floating")},publish:function(t,e){var i={provider:"youtube"};void 0!==e&&(i.message=e),this.app.eventMediator.publish(t,i)},show:function(){if(!this.isActive()){this.$el.attr("aria-hidden",!1);var t=e("body").find("[data-player-now-playing]"),i=t.parents(".video-preview-playlink");i.length?(this.showVideoOverPreview(i),i.onScreen({tolerance:250,container:this.scrollContainer,doIn:function(t){this.showVideoOverPreview(t),this.listenToPageResizeEvents(t)}.bind(this,i),doOut:function(){this.showVideoInPersistentPlayer(),this.stopListeningToPageResizeEvents()}.bind(this)})):(this.showVideoInPersistentPlayer(),this.stopListeningToPageResizeEvents())}},showVideoOverPreview:function(t){t.addClass("video-preview-playlink--show-skip-link"),this.$el.addClass("video-player--in-place"),this.$el.removeClass("video-player--floating"),this.$el.css("top",t.offset().top),this.$el.find(".js-player").css("width",t.css("width")),this.$el.find(".js-player").css("height",t.css("height"))},showVideoInPersistentPlayer:function(){this.$el.addClass("video-player--floating"),this.$el.removeClass("video-player--in-place"),this.$el.css("top","auto"),this.$el.find(".js-player").css("width",""),this.$el.find(".js-player").css("height","")},listenToPageResizeEvents:function(t){this.resizeSubscription||(this.resizeSubscription=this.app.eventMediator.subscribe("mediaSize.change",function(t,e){e&&e.isMobile?this.showVideoInPersistentPlayer():this.showVideoOverPreview(t)}.bind(this,t)))},stopListeningToPageResizeEvents:function(){this.app.eventMediator.unsubscribe(this.resizeSubscription),this.resizeSubscription=null},hide:function(){e(this.scrollContainer).onScreen("remove"),this.stopListeningToPageResizeEvents(),this.$el.removeClass("video-player--floating"),this.$el.removeClass("video-player--in-place"),this.$el.find(".js-player").css("width",""),this.$el.find(".js-player").css("height",""),this.$el.attr("aria-hidden",!0)},_destroyYoutubeIframe:function(){this.player.destroy()},_initialiseYoutubePlayer:function(){var t=this;try{this.player=new YT.Player(t.$el.find(".js-player").get(0),{playerVars:{iv_load_policy:3},events:{onReady:t._onYoutubeReady.bind(t),onStateChange:t._onYoutubeStateChange.bind(t),onError:t._onYoutubeError.bind(t)}})}catch(t){this.publish("player.provider.proxy.error",t)}},_onYoutubeReady:function(){this.youtubeProxy=new i(this.player,this.$close),this.publish("player.provider.proxy.ready",this.youtubeProxy)},_onYoutubeStateChange:function(t){switch(o.info("YouTube StateChange:",t),t.data){case YT.PlayerState.UNSTARTED:this.hide(),this.stopPublishingPlayerPosition(),this.publish("player.provider.proxy.stopped");break;case YT.PlayerState.ENDED:this.stopDetectingAd(),this.hide(),this.stopPublishingPlayerPosition(),this.publish("player.provider.proxy.finished");break;case YT.PlayerState.PLAYING:this.stopDetectingAd(),this.show(),this.publish("player.provider.proxy.playing"),this.startPublishingPlayerPosition();break;case YT.PlayerState.PAUSED:this.stopDetectingAd(),this.show(),this.stopPublishingPlayerPosition(),this.publish("player.provider.proxy.paused");break;case YT.PlayerState.BUFFERING:this.stopDetectingAd(),this.startDetectingAd()}},_onYoutubeError:function(t){this.publish("player.provider.proxy.unavailable",new n(t.data))},startDetectingAd:function(){var t=!1;this.adPositionLoop=new s(function(){var e=this.player.getCurrentTime();!1!==t&&e>t&&(this.show(),this.publish("player.ad.playing"),this.stopDetectingAd()),t=e}.bind(this),1e3,!0)},stopDetectingAd:function(){this.adPositionLoop&&this.adPositionLoop.stop()},startPublishingPlayerPosition:function(){this.positionLoop=new s(function(){var t=this.player.getCurrentTime();this.publish("player.provider.proxy.positionChanged",t)}.bind(this),1e3,!0)},stopPublishingPlayerPosition:function(){this.positionLoop&&this.positionLoop.stop()}},a}),define("social/auth-window",["require","core/ajax","core/browser-api","jquery"],function(t){"use strict";function e(t,e,i){return new Promise(function(n,r){e.location=t,o.window.addEventListener("message",function(t){if(t.origin===window.location.protocol+"//"+window.location.host){var o=t.data&&t.data[i];o&&!0===o.authenticated&&(e.close(),n(o)),o&&!1===o.authenticated&&(e.close(),r(o))}})})}function i(t,e){var i=s(o.window),n=o.window.screenLeft?o.window.screenLeft:o.window.screenX,r=o.window.screenTop?o.window.screenTop:o.window.screenY,a=i.width(),l=i.height(),u={left:n+a/2-t/2,top:r+l/2-e/2,width:t,height:e};return s.map(u,function(t,e){return[e,t].join("=")}).join(",")}function n(t,e){t.closed?e():setTimeout(n.bind({},t,e),a)}var r=t("core/ajax"),o=t("core/browser-api"),s=t("jquery"),a=500;return{status:function(t,s){var a=o.window.open("","_blank",i(720,720));return new Promise(function(i,o){n(a,o),r.get(t,{},{},function(t,n){n.authenticated?(a.close(),i(n)):e(n.authenticationUrl,a,s).then(i).catch(o)})})},reauthenticate:function(t,s){var a=o.window.open("","_blank",i(720,720));return new Promise(function(i,o){n(a,o),r.get(t,{},{},function(t,n){e(n.authenticationUrl,a,s).then(i).catch(o)})})}}}),define("social/spotify",["require","core/ajax","social/auth-window"],function(t){"use strict";var e=t("core/ajax"),i=t("social/auth-window"),n={accessToken:function(){return new Promise(function(t,i){e.get("/social/spotify-status",void 0,void 0,function(e,n){!e&&n.authenticated?t(n):i(n)})})},authenticate:function(){return i.status("/social/spotify-status","spotify_authentication").then(n.accessToken)},switchAccount:function(){return i.reauthenticate("/social/spotify-switch-account","spotify_authentication").then(n.accessToken)}};return n}),define("player/providers/spotify/spotify-auth",["require","social/spotify"],function(t){"use strict";var e=t("social/spotify"),i=function(t,e,i){this.modal=t,this.modalPaths=e,this.errorCallback=i};return i.prototype.REFRESH_TOKEN_ADVANCE=59e3,i.prototype.connect=function(){return this.fetchAccessToken()},i.prototype.getPremium=function(){return this.actionModal(this.modalPaths.premium,e.switchAccount).then(this.storeAndAutoRefreshAccessToken.bind(this))},i.prototype.authenticate=function(){var t=this.actionModal(this.modalPaths.auth,e.authenticate);return t.catch(this.errorCallback),t},i.prototype.fetchAccessToken=function(){return e.accessToken().catch(this.authenticate.bind(this)).then(this.storeAndAutoRefreshAccessToken.bind(this))},i.prototype.storeAndAutoRefreshAccessToken=function(t){this.accessToken=t.accessToken,this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(this.fetchAccessToken.bind(this),1e3*t.expires-this.REFRESH_TOKEN_ADVANCE)},i.prototype.actionModal=function(t,e){return new Promise(function(i,n){var r=this.modal,o={actions:{connect:function(){e().then(function(t){i(t),r.close()}).catch(function(){n(),r.close()})}},onclose:n};r.open(t,o)}.bind(this))},i}),define("player/providers/spotify/spotify-api",["require","jquery","core/ajax","debug"],function(t){"use strict";var e=t("jquery"),i=t("core/ajax"),n=t("debug"),r=function(t,e){this.auth=t,this.notPremiumCallback=e,this.requestId=0};return r.prototype.SendFormat={JSON_BODY:"json",QUERY_STRING:"query"},r.prototype.play=function(t,e){var i="/me/player/play";return e&&(i+="?device_id="+e),this.send("PUT",i,{uris:["spotify:track:"+t]},this.SendFormat.JSON_BODY)},r.prototype.pause=function(){return this.send("PUT","/me/player/pause")},r.prototype.resume=function(t){var e;return t&&(e={device_id:t}),this.send("PUT","/me/player/play",e,this.SendFormat.QUERY_STRING)},r.prototype.seek=function(t,e){return this.send("PUT","/me/player/seek",{position_ms:Math.round(t),device_id:e},this.SendFormat.QUERY_STRING)},r.prototype.resolveId=function(t,e){return this.send("GET","/tracks/"+t,{market:e}).then(function(t){return t.id})},r.prototype.user=function(){return this.send("GET","/me")},r.prototype.subscribeToState=function(t){return this.send("PUT","/me/notifications/player",{connection_id:t},this.SendFormat.QUERY_STRING)},r.prototype.state=function(t){return this.send("GET","/me/player",{market:t})},r.prototype.fetchDevices=function(){return this.send("GET","/me/player/devices").then(function(t){return t.devices})},r.prototype.selectDevice=function(t,e){return this.send("PUT","/me/player",{device_ids:[t],play:e},this.SendFormat.JSON_BODY)},r.prototype.send=function(t,r,o,s){return this.handleAuthErrors(function(){var a=this.requestId++;n.info("Spotify request #"+a+":",t,r,o,s);var l="https://api.spotify.com/v1"+r,u=o;o&&"GET"!==t&&(s===this.SendFormat.JSON_BODY?u=JSON.stringify(o):s===this.SendFormat.QUERY_STRING&&(l+="?"+e.param(o),u=void 0));var c={headers:{Authorization:"Bearer "+this.auth.accessToken}},h=i.request(t,l,c,u),d=n.info.bind(n,"Spotify response #"+a+":");return h.then(d),h.catch(d),h}.bind(this))},r.prototype.handleAuthErrors=function(t){var e=t(),i=e.catch(function(e){var i=e&&e.error&&e.error.status;return 403===i&&this.notPremiumCallback(t),401===i?this.auth.connect().then(t):Promise.reject(e)}.bind(this));return i.abort=function(){i.aborted=!0,e.abort()},i},r}),define("player/providers/spotify/spotify-state",["require","core/browser-api","debug"],function(t){"use strict";var e=t("core/browser-api"),i=t("debug"),n=function(t,e,i,n){this.api=t,this.auth=e,this.market=i,this.stateCallback=n.stateCallback,this.inactiveCallback=n.inactiveCallback,this.deviceStateCallback=n.deviceStateCallback};return n.prototype.subscribe=function(){return new Promise(function(t,i){this.socket=new e.WebSocket("wss://dealer.spotify.com?access_token="+this.auth.accessToken),this.delayPing(),this.socket.addEventListener("message",this.messageHandler.bind(this,t,i))}.bind(this))},n.prototype.unsubscribe=function(){clearInterval(this.timeout),this.socket.close()},n.prototype.ping=function(){this.socket.readyState===this.socket.OPEN?(this.socket.send(JSON.stringify({type:"ping"})),this.delayPing()):this.socket.readyState===this.socket.CLOSED&&this.subscribe()},n.prototype.delayPing=function(){this.timeout=setTimeout(this.ping.bind(this),3e4)},n.prototype.messageHandler=function(t,e,n){var r=JSON.parse(n.data);if(i.info("Spotify message:",r),"PUT"===r.method){var o=decodeURIComponent(r.uri.split("/").slice(-1).pop());this.api.subscribeToState(o).then(t,e)}var s=r.payloads&&r.payloads[0]&&r.payloads[0].events||[];s.some(this.isPlayerStateChangeEvent)&&this.updatePlayerState(),s.some(this.isDeviceStateChangeEvent)&&this.updateDeviceState()},n.prototype.isPlayerStateChangeEvent=function(t){return"PLAYER_STATE_CHANGED"===t.type},n.prototype.isDeviceStateChangeEvent=function(t){return"DEVICE_STATE_CHANGED"===t.type},n.prototype.updatePlayerState=function(){var t=this.fetchState();t.then(this.transformState).then(this.stateCallback),t.then(function(t){this.deviceStateCallback(t.device)}.bind(this))},n.prototype.updateDeviceState=function(){this.fetchState().then(function(t){this.deviceStateCallback(t.device),t.device.is_active||this.inactiveCallback()}.bind(this))},n.prototype.fetchState=function(){return this.stateRequest&&this.stateRequest.abort(),this.stateRequest=this.api.state(this.market),this.stateRequest},n.prototype.transformState=function(t){var e={};return e.status=t.is_playing,t.item?(e.track={track_resource:{uri:t.item.uri},length:t.item.duration_ms/1e3},t.item.is_playable?e.playing_position=t.progress_ms/1e3:e.status=!1):e.track={track_type:"ad"},e},n}),define("player/providers/spotify/spotify-events",[],function(){"use strict";return{CONNECTED:"connected",STATE:"state",DEVICE_CHANGED:"device",ERROR:"error"}}),define("player/providers/spotify/spotify-errors",[],function(){"use strict";return{UNAUTHORIZED:"unauthorized",NOT_PREMIUM:"not_premium",INACTIVE_DEVICE:"inactive_device",NO_DEVICE_SELECTED:"no_client_selected"}}),define("player/providers/spotify/spotify-device-modal",["require","jquery","mustache"],function(t){var e=t("jquery"),i=t("mustache"),n=function(t,e){this.modal=t,this.spotifyApi=e};return n.prototype.selectDevice=function(t){return new Promise(function(e,i){this.modal.open(t,{onopen:this.updateDevices.bind(this),onclose:i,actions:{"select-device":this.deviceSelected.bind(this,e),"refresh-devices":this.updateDevices.bind(this)}})}.bind(this))},n.prototype.deviceSelected=function(t,i){var n=e(i.target),r=n.find(".js-device-selector");t({id:r.val(),name:r.find("option:selected").text()}),this.modal.close()},n.prototype.updateDevices=function(){var t=e(".js-modal-body"),i=this.renderDevices.bind(this,t);this.spotifyApi.fetchDevices().then(i).catch(function(){i()})},n.prototype.renderDevices=function(t,n){var r=!(!n||!n.length);t.find(".device-selector-loading").addClass("hidden"),t.find(".device-selector-none-found").toggleClass("hidden",r);var o=t.find(".js-device-selector"),s=o.data("incompatibleTemplate");o.find("option").remove(),n&&n.forEach(function(t){var n=t.is_restricted?i.render(s,t):t.name,r=e("<option>",{value:t.id,text:n});t.is_active&&r.attr("selected","selected"),t.is_restricted&&r.attr("disabled","disabled"),o.append(r)}),t.find(".device-selector-options").toggleClass("hidden",!r)},n}),define("player/providers/spotify/spotify-client",["require","player/providers/spotify/spotify-auth","player/providers/spotify/spotify-api","player/providers/spotify/spotify-state","player/providers/spotify/spotify-events","player/providers/spotify/spotify-errors","player/providers/spotify/spotify-device-modal"],function(t){"use strict";var e=t("player/providers/spotify/spotify-auth"),i=t("player/providers/spotify/spotify-api"),n=t("player/providers/spotify/spotify-state"),r=t("player/providers/spotify/spotify-events"),o=t("player/providers/spotify/spotify-errors"),s=t("player/providers/spotify/spotify-device-modal"),a=function(t,n,r){this.auth=new e(t,n,this.unauthorizedError.bind(this)),this.api=new i(this.auth,this.notPremiumError.bind(this)),this.modal=t,this.modalPaths=n,this.deviceModal=new s(this.modal,this.api),this.events=r,this.requestId=0,this.deviceId=null};return a.prototype.connect=function(){this.auth.connect().then(this.selectInitialDevice.bind(this)).then(this.updateMarket.bind(this)).then(this.subscribe.bind(this)).then(this.publish.bind(this,r.CONNECTED))},a.prototype.play=function(t,e){if(this.playpauseRequest&&this.playpauseRequest.abort(),this.playpauseRequest=this.api.play(t,this.deviceId),e){var i=this.seek.bind(this,e);this.playpauseRequest.then(i)}},a.prototype.pause=function(){this.playpauseRequest&&this.playpauseRequest.abort(),this.playpauseRequest=this.api.pause()},a.prototype.resume=function(){this.playpauseRequest&&this.playpauseRequest.abort(),this.playpauseRequest=this.api.resume(this.deviceId)},a.prototype.seek=function(t){this.api.seek(1e3*t,this.deviceId)},a.prototype.resolveId=function(t){return this.api.resolveId(t,this.market)},a.prototype.updateState=function(){this.state.updatePlayerState()},a.prototype.selectDevice=function(){return this.deviceModal.selectDevice(this.modalPaths.initialDeviceDetection).then(this.handleDeviceUpdate.bind(this))},a.prototype.updateMarket=function(){return this.api.user().then(function(t){return t.hasOwnProperty("country")?(this.market=t.country,Promise.resolve()):Promise.reject()}.bind(this))},a.prototype.subscribe=function(){var t={stateCallback:this.onStateChange.bind(this),inactiveCallback:this.inactiveError.bind(this),deviceStateCallback:this.handleDeviceUpdate.bind(this)};return this.state=new n(this.api,this.auth,this.market,t),this.state.subscribe()},a.prototype.notPremiumError=function(t){var e=this.publish.bind(this,r.ERROR,o.NOT_PREMIUM),i=this.auth.getPremium();i.catch(e),i.then(this.state.unsubscribe.bind(this.state)).then(this.updateMarket.bind(this)).then(this.subscribe.bind(this)).then(t)},a.prototype.selectInitialDevice=function(){var t=this.selectDevice();return t.catch(this.noDeviceSelected.bind(this)),t},a.prototype.unauthorizedError=function(){this.publish(r.ERROR,o.UNAUTHORIZED)},a.prototype.inactiveError=function(){this.publish(r.ERROR,o.INACTIVE_DEVICE),this.state.unsubscribe();var t=this.deviceModal.selectDevice(this.modalPaths.inactive).then(this.handleDeviceUpdate.bind(this));t.then(this.state.subscribe.bind(this.state)).then(this.publish.bind(this,r.CONNECTED)),t.catch(this.noDeviceSelected.bind(this))},a.prototype.handleDeviceUpdate=function(t){this.deviceId!==t.id&&(this.deviceId=t.id,this.publish(r.DEVICE_CHANGED,t.name))},a.prototype.onStateChange=function(t){this.publish(r.STATE,t)},a.prototype.noDeviceSelected=function(){this.publish(r.ERROR,o.NO_DEVICE_SELECTED)},a.prototype.publish=function(t,e){this.events.hasOwnProperty(t)&&this.events[t](e)},a.prototype.showInactiveModal=function(){this.modal.open(this.modalPaths.inactive)},a}),define("player/providers/spotify/spotify-proxy",["require","machina","player/providers/spotify/spotify-client","player/providers/spotify/spotify-events","player/providers/spotify/spotify-errors","debug"],function(t){"use strict";var e=t("machina"),i=t("player/providers/spotify/spotify-client"),n=t("player/providers/spotify/spotify-events"),r=t("player/providers/spotify/spotify-errors"),o=t("debug"),s={_onEnter:function(){this.stopPublishingPlayerPosition(),this.publish("player.provider.proxy.paused")},play:"Tuning",resume:"Resume",stop:"Stopped",playing:"Playing",unexpectedTrack:"PausedUnexpected",inactiveDevice:"PausedInactiveDevice",deviceManuallySwitched:"PausedWithNewDevice",stopped:"Stopped"},a=e.Fsm.extend({eventListeners:{transition:[function(t){o.info("Spotify proxy transition:",t.fromState,"->",t.toState)}]},initialState:"Uninitialized",states:{Uninitialized:{play:"Initialize",initialized:"Ready"},Initialize:{_onEnter:function(){this.track=this.currentActionArgs[1],this.publish("player.spotify.initialising"),this.client.connect()},play:function(){this.deferUntilTransition("Uninitialized"),this.transition("Uninitialized")},initialized:"Tuning",stopped:"Aborted"},Ready:{play:"Tuning"},Tuning:{_onEnter:function(){this.duration=!1,this.track=this.currentActionArgs[1]||this.track,this.requestedTrackId=this.track.spotifyId,this.resumePausedAd(),this.secondPlayAttempt=!1,this.client.play(this.track.spotifyId)},stop:function(){this.client.pause(),this.transition("Stopped")},pause:function(){this.client.pause()},playing:"Playing",stopped:"Stopped",unexpectedTrack:function(){var t=this.currentActionArgs[1];this.client.resolveId(this.requestedTrackId).then(function(e){t.trackId()===e&&(this.requestedTrackId=e,this.handle("playing",t.duration()),this.handle("positionChanged",t.position()))}.bind(this))},unavailable:function(){this.transition("Ready"),this.publish("player.provider.proxy.unavailable")}},Aborted:{_onEnter:function(){this.publish("player.spotify.abort"),this.transition("Uninitialized")}},Stopping:{_onEnter:function(){this.client.pause()},paused:"Stopped",playing:function(){this.client.updateState()}},Playing:{_onEnter:function(){this.duration=this.currentActionArgs[1],this.publish("player.provider.proxy.playing")},play:"Tuning",pause:function(){this.client.pause()},stop:"Stopping",paused:"Paused",unexpectedTrack:"PausedUnexpected",inactiveDevice:"PausedInactiveDevice",deviceManuallySwitched:"ResumeLastPosition",stopped:"Stopped",adPlaying:"AdPlaying",finished:"Finished",positionChanged:function(){this.startPublishingPlayerPosition()}},Resume:{_onEnter:function(){this.client.resume()},play:"Tuning",pause:"Pause",stop:"Stopped",playing:"Playing",stopped:"Stopped"},ResumeLastPosition:{_onEnter:function(){this.client.play(this.requestedTrackId,this.lastPosition)},play:"Tuning",pause:"Pause",stop:"Stopped",playing:"Playing",stopped:"Stopped"},Pause:{_onEnter:function(){this.client.pause()},play:"Tuning",resume:"Resume",stop:"Stopped",paused:"Paused",stopped:"Stopped"},Paused:s,PausedInactiveDevice:Object.assign({},s,{resume:"ResumeLastPosition",initialized:"ResumeLastPosition"}),PausedUnexpected:Object.assign({},s,{resume:"ResumeLastPosition"}),PausedWithNewDevice:Object.assign({},s,{resume:"ResumeLastPosition"}),AdPlaying:{_onEnter:function(){this.stopPublishingPlayerPosition(),this.publish("player.ad.playing")},finished:"Finished",playing:"Playing"},Stopped:{_onEnter:function(){this.stopPublishingPlayerPosition(),this.transition("Ready"),this.publish("player.provider.proxy.stopped")}},Finished:{_onEnter:function(){this.stopPublishingPlayerPosition(),this.transition("Ready"),this.publish("player.provider.proxy.finished")}}}}),l=function(t){this._state=t};l.prototype={isUnavailable:function(){return void 0===this.position()&&!1===this._state.status},isAd:function(){return"ad"===this._state.track.track_type},isPlaying:function(){return!this.isPaused()&&!this.isFinished()},isPaused:function(){return!1===this._state.status},isFinished:function(){var t=this.position(),e=t>this.duration()-1;return!1===this._state.status?0===this.position()||e:e},trackId:function(){return this._state.track.track_resource.uri.split("spotify:track:")[1]},position:function(){return this._state.playing_position},duration:function(){return this._state.track.length}};var u=function(t,e){this.app=t;var r={};r[n.CONNECTED]=function(){this.stateManager.handle("initialized")}.bind(this),r[n.STATE]=function(t){this.playerStateHandler(new l(t))}.bind(this),r[n.DEVICE_CHANGED]=this.publish.bind(this,"player.deviceChanged"),r[n.ERROR]=this.errorHandler.bind(this),this.client=new i(t.modal,e,r),this.stateManager=new(a.extend({publish:this.publish.bind(this),stopPublishingPlayerPosition:this.stopPublishingPlayerPosition.bind(this),startPublishingPlayerPosition:this.startPublishingPlayerPosition.bind(this),client:this.client,resumePausedAd:this.resumePausedAd.bind(this)})),this.publish("player.provider.proxy.ready",this)};return u.prototype={play:function(t){this.stateManager.handle("play",t)},pause:function(){this.stateManager.handle("pause")},resume:function(){this.stateManager.handle("resume")},stop:function(){this.stateManager.handle("stop")},switchDevice:function(){this.client.selectDevice().then(function(){this.stateManager.handle("deviceManuallySwitched")}.bind(this))},getDuration:function(){return this.stateManager.duration},playerStateHandler:function(t){return this.lastState=t,t.isAd()?void this.stateManager.handle("adPlaying"):this.isRequestedTrack(t)&&t.isUnavailable()?void this.stateManager.handle("unavailable"):this.isRequestedTrack(t)||t.isUnavailable()?t.isPlaying()?(this.stateManager.handle("playing",t.duration()),void this.stateManager.handle("positionChanged")):t.isFinished()?void this.stateManager.handle("finished"):(this.stateManager.handle("positionChanged"),void this.stateManager.handle("paused")):void this.stateManager.handle("unexpectedTrack",t)},errorHandler:function(t){t===r.UNAUTHORIZED&&this.publish("player.spotify.error.auth-error"),t===r.NOT_PREMIUM&&this.stateManager.handle("stopped"),t===r.INACTIVE_DEVICE&&this.stateManager.handle("inactiveDevice"),t===r.NO_DEVICE_SELECTED&&this.stateManager.handle("stopped")},resumePausedAd:function(){this.lastState&&this.lastState.isAd()&&this.lastState.isPaused()&&this.client.resume()},isRequestedTrack:function(t){return void 0!==this.stateManager.requestedTrackId&&t.trackId()===this.stateManager.requestedTrackId},publish:function(t,e){var i={provider:"spotify"};void 0!==e&&(i.message=e),this.app.eventMediator.publish(t,i)},startPublishingPlayerPosition:function(){this.stopPublishingPlayerPosition(),this.publishPlayerPosition(this.lastState.position())},publishPlayerPosition:function(t){this.stateManager.lastPosition=t,this.publish("player.provider.proxy.positionChanged",t),this.lastPublishedPositionTimestamp=Date.now(),this._playerPositionTimeout=setTimeout(function(){var e=(Date.now()-this.lastPublishedPositionTimestamp)/1e3;this.publishPlayerPosition(t+e)}.bind(this),1e3)},stopPublishingPlayerPosition:function(){clearTimeout(this._playerPositionTimeout)}},u}),define("player/providers/spotify/spotify-provider",["require","player/providers/spotify/spotify-proxy"],function(t){"use strict";var e=t("player/providers/spotify/spotify-proxy"),i=function(t,e){this.app=e,this.$el=t};return i.prototype={start:function(){var t={auth:this.$el.data("spotify-auth-modal"),premium:this.$el.data("spotify-premium-modal"),inactive:this.$el.data("spotify-inactive-modal"),initialDeviceDetection:this.$el.data("spotify-initial-device-modal")};new e(this.app,t)}},i}),define("social/facebook-api",["require"],function(t){"use strict";var e;return function(i,n){return e||(e=new Promise(function(e){window.fbAsyncInit=function(){window.FB.init({appId:i,cookie:!0,status:!0,version:n}),e(window.FB)},t(["facebook-sdk"])}))}}),define("social/facebook",["require","social/facebook-api"],function(t){"use strict";var e,i=t("social/facebook-api");return{init:function(t){e=i(t,"v2.7")},login:function(){var t=function(t){return new Promise(function(e,i){function n(n){n.authResponse&&e(t),i("AUTHENTICATION_FAILED")}t.login(n,{scope:"publish_actions",return_scopes:!0})})},i=function(t){var e=t.getAuthResponse();if(-1!=(e.grantedScopes?e.grantedScopes.split(","):[]).indexOf("publish_actions"))return t;throw"PERMISSIONS_DENIED"};return e.then(t).then(i)},logout:function(){return new Promise(function(t){e.then(function(e){this.loginStatus(e).then(function(i){"connected"===i||"not_authorized"===i?e.logout(t):t()})}.bind(this))}.bind(this))},userInfo:function(){return new Promise(function(t){e.then(function(e){var i=e.getAuthResponse().userID;e.api("/v2.8/"+i,{fields:["name","link"]},function(e){t(e)})})})},isAuthenticated:function(){return new Promise(function(t){e.then(function(e){this.loginStatus(e).then(function(e){t("connected"===e?!0:!1)})}.bind(this))}.bind(this))},loginStatus:function(t){return new Promise(function(e){t.getLoginStatus(function(t){e(t.status)})})}}}),define("social/twitter",["require","social/auth-window"],function(t){"use strict";var e=t("social/auth-window");return{authenticate:function(){return e.status("/social/twitter-status","twitter_authentication")},reauthenticate:function(){return e.reauthenticate("/social/twitter-reauthenticate","twitter_authentication")}}}),define("stats/animation-loop",["require","core/browser-api"],function(t){"use strict";var e=t("core/browser-api"),i=function(t){this.rafref=0,this.update=t};return i.prototype.start=function(){if(0===this.rafref){var t=this.tick.bind(this,!1);this.rafref=e.window.requestAnimationFrame(t)}},i.prototype.stop=function(){0!==this.rafref&&(e.window.cancelAnimationFrame(this.rafref),this.rafref=0)},i.prototype.tick=function(t,i){t=t||i;var n=this.tick.bind(this,t);this.rafref=e.window.requestAnimationFrame(n);var r=i-t;this.update(r)},i}),define("stats/tooltip",["require","jquery"],function(t){"use strict";var e=t("jquery"),i=function(){};return i.prototype.start=function(){this.$el=e("<div />").addClass("user-dashboard-tooltip").appendTo(document.body),this.hide()},i.prototype.stop=function(){this.$el.remove()},i.prototype.show=function(t,e,i){this.$el.text(i),this.move(t,e),this.$el.show()},i.prototype.move=function(t,e){this.$el.css({left:t+10,top:e+10})},i.prototype.hide=function(){this.$el.hide()},i}),define("core/svg-utils-v2",["require","core/math-v2"],function(t){"use strict";var e=t("core/math-v2");return{addLink:function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","a");i.setAttributeNS("http://www.w3.org/1999/xlink","href",e),t.after(i).appendTo(i)},arcPath:function(t,i,n,r){var o=e.polarToCartesian(i,n);return["A",n,n,0,Math.abs(t-i)>Math.PI===r!=t>i?1:0,r?1:0,o[0],o[1]]}}}),define("stats/point-tooltips",["require","core/svg-utils-v2"],function(t){"use strict";var e=t("core/svg-utils-v2"),i=function(t,e,i){this.app=t,this.tooltip=i,this.points=e,this.start()};return i.prototype.start=function(){this.points.forEach(this.bindTooltipToPoint.bind(this)),this.points.forEach(this.addLink.bind(this))},i.prototype.stop=function(){this.points.forEach(this.unbindTooltip.bind(this))},i.prototype.bindTooltipToPoint=function(t){t.$el.mouseover(function(e){this.tooltip.show(e.clientX,e.clientY,t.point.tooltip)}.bind(this)),t.$el.mousemove(function(t){this.tooltip.move(t.clientX,t.clientY)}.bind(this)),t.$el.mouseout(function(){this.tooltip.hide()}.bind(this))},i.prototype.addLink=function(t){t.point.link&&e.addLink(t.$el,t.point.link)},i.prototype.unbindTooltip=function(t){t.$el.off()},i}),define("stats/bar-chart-v2",["require","lodash","jquery","stats/tooltip","stats/point-tooltips","highcharts"],function(t){"use strict";function e(t){return n.some(t.data,"value")}function i(t,e){return n.max(t.map(function(t){return(t.value||0)*e}))}var n=t("lodash"),r=t("jquery"),o=t("stats/tooltip"),s=t("stats/point-tooltips"),a=t("highcharts"),l=function(t){this.app=t,this.addedSeries=[]};return l.prototype.start=function(){this.tooltip=new o,this.tooltip.start()},l.prototype.stop=function(){this.tooltip.stop(),this.addedSeries.forEach(function(t){t.tooltips&&t.tooltips.stop()})},l.prototype.render=function(t,o,s){o=n.filter(o,e);var l=n.filter(o,{type:"column"}).length,u=r(t).width(),c=15*l,h=u/o[0].data.length,d=(h-c)/2,p=d/h,f=n.max(o.map(function(t){var e="line"==t.type?1.05:1;return i(t.data,e)})),g=n.some(o,function(t){return n.some(t.data,"link")});this.chart=new a.Chart({chart:{renderTo:t,spacingBottom:0,spacingTop:0,spacingLeft:0,spacingRight:0},legend:{enabled:!1},tooltip:{enabled:!1},title:{text:""},credits:{enabled:!1},xAxis:{categories:s,tickWidth:0,lineWidth:0,labels:{autoRotation:!1}},yAxis:{visible:!1,tickPositions:[0,f]},plotOptions:{column:{pointPadding:0,borderWidth:0,groupPadding:p,cursor:!!g&&"pointer"}},series:[]}),o.forEach(this.addSeries.bind(this))},l.prototype.addSeries=function(t){var e=t.data.map(function(t){return{y:0,link:t.link}}),i=this.chart.addSeries({color:t.color,type:t.type,data:e}),n=i.points.map(function(t){return{$el:r(t.graphic.element),point:t}}),o=new s(this.app,n,this.tooltip),a=t.data.map(function(t){return{y:t.value,tooltip:t.tooltip,link:t.link}});this.addedSeries.push({chartSeries:i,data:a,tooltips:o})},l.prototype.animate=function(){this.addedSeries.forEach(function(t){t.chartSeries.setData(t.data)})},l}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define("rasterize-html",[],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.rasterizeHTML=t()}}(function(){var t;return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[s]={exports:{}};e[s][0].call(c.exports,function(t){var i=e[s][1][t];return r(i||t)},c,c.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(e,i,n){!function(r,o){"function"==typeof t&&t.amd?t(["url","xmlserializer","sane-domparser-error","inlineresources"],function(t,e,i,n){return r.rasterizeHTML=o(t,e,i,n)}):"object"==typeof n?i.exports=o(e("url"),e("xmlserializer"),e("sane-domparser-error"),e("inlineresources")):r.rasterizeHTML=o(r.url,r.xmlserializer,r.sanedomparsererror,r.inlineresources)}(this,function(t,e,i,n){var r=function(t){"use strict";var e={},i=[];e.joinUrl=function(e,i){return e?t.resolve(e,i):i},e.getConstantUniqueIdFor=function(t){return i.indexOf(t)<0&&i.push(t),i.indexOf(t)},e.clone=function(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i};var n=function(t){return"object"==typeof t&&null!==t},r=function(t){
return n(t)&&Object.prototype.toString.apply(t).match(/\[object (Canvas|HTMLCanvasElement)\]/i)};return e.parseOptionalParameters=function(t){var i={canvas:null,options:{}};return null==t[0]||r(t[0])?(i.canvas=t[0]||null,i.options=e.clone(t[1])):i.options=e.clone(t[0]),i},e}(t),o=function(t){"use strict";var e={},i=function(t,e,i){var n=t[e];return t[e]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(this,[t,n])},n};return e.baseUrlRespectingXhr=function(e,n){return function(){var r=new e;return i(r,"open",function(e,i){var r=e.shift(),o=e.shift(),s=t.joinUrl(n,o);return i.apply(this,[r,s].concat(e))}),r}},e.finishNotifyingXhr=function(t){var e,n=0,r=0,o=!1,s=new Promise(function(t){e=function(){n-r<=0&&o&&t({totalCount:n})}}),a=function(){var o=new t;return i(o,"send",function(t,e){return n+=1,e.apply(this,arguments)}),o.addEventListener("load",function(){r+=1,e()}),o};return a.waitForRequestsToFinish=function(){return o=!0,e(),s},a},e}(r),s=function(){"use strict";var t={},e=function(t){return Array.prototype.slice.call(t)};t.addClassName=function(t,e){t.className+=" "+e},t.addClassNameRecursively=function(e,i){t.addClassName(e,i),e.parentNode!==e.ownerDocument&&t.addClassNameRecursively(e.parentNode,i)};var i=function(t,i){var n=t.parentStyleSheet,r=e(n.cssRules).indexOf(t);n.insertRule(i,r+1),n.deleteRule(r)},n=function(t,e){var n=t.cssText.replace(/^[^\{]+/,"");i(t,e+" "+n)},r=function(t){return e(t).reduce(function(t,e){return t+e.cssText},"")},o=function(t){t.textContent=r(t.sheet.cssRules)},s=function(t){var e=document.implementation.createHTMLDocument(""),i=document.createElement("style");i.textContent=t.textContent,e.body.appendChild(i),t.sheet=i.sheet},a=function(t){return"((?:^|[^.#:\\w])|(?=\\W))("+t.join("|")+")(?=\\W|$)"},l=function(t,i,r){var l=a(i);e(t.querySelectorAll("style")).forEach(function(t){void 0===t.sheet&&s(t);var i=e(t.sheet.cssRules).filter(function(t){return t.selectorText&&new RegExp(l,"i").test(t.selectorText)});i.length&&(i.forEach(function(t){var e=t.selectorText.replace(new RegExp(l,"gi"),function(t,e,i){return e+r(i)});e!==t.selectorText&&n(t,e)}),o(t))})};return t.rewriteCssSelectorWith=function(t,e,i){l(t,[e],function(){return i})},t.lowercaseCssTypeSelectors=function(t,e){l(t,e,function(t){return t.toLowerCase()})},t.findHtmlOnlyNodeNames=function(t){var e,i=t.ownerDocument.createTreeWalker(t,NodeFilter.SHOW_ELEMENT),n={},r={};do{e=i.currentNode.tagName.toLowerCase(),"http://www.w3.org/1999/xhtml"===i.currentNode.namespaceURI?n[e]=!0:r[e]=!0}while(i.nextNode());return Object.keys(n).filter(function(t){return!r[t]})},t}(),a=function(t){"use strict";var e={},i=function(t){return Array.prototype.slice.call(t)},n={active:!0,hover:!0,focus:!1,target:!1};return e.fakeUserAction=function(e,i,r){var o=e.querySelector(i),s=":"+r,a="rasterizehtml"+r;o&&(n[r]?t.addClassNameRecursively(o,a):t.addClassName(o,a),t.rewriteCssSelectorWith(e,s,"."+a))},e.persistInputValues=function(t){var e=t.querySelectorAll("input"),n=t.querySelectorAll("textarea"),r=function(t){return"checkbox"===t.type||"radio"===t.type};i(e).filter(r).forEach(function(t){t.checked?t.setAttribute("checked",""):t.removeAttribute("checked")}),i(e).filter(function(t){return!r(t)}).forEach(function(t){t.setAttribute("value",t.value)}),i(n).forEach(function(t){t.textContent=t.value})},e.rewriteTagNameSelectorsToLowerCase=function(e){t.lowercaseCssTypeSelectors(e,t.findHtmlOnlyNodeNames(e))},e}(s),l=function(t,e,i,n){"use strict";var r={},o=function(t,e,i,n){var r=t.createElement(e);return r.style.visibility="hidden",r.style.width=i+"px",r.style.height=n+"px",r.style.position="absolute",r.style.top=-1e4-n+"px",r.style.left=-1e4-i+"px",t.getElementsByTagName("body")[0].appendChild(r),r},s=function(t){return t>0?new Promise(function(e){setTimeout(e,t)}):Promise.resolve()};r.executeJavascript=function(t,i){return new Promise(function(r){var a=o(n.document,"iframe",i.width,i.height),l=t.outerHTML,u=[],c=i.executeJsTimeout||0,h=function(){var t=a.contentDocument;n.document.getElementsByTagName("body")[0].removeChild(a),r({document:t,errors:u})},d=a.contentWindow.XMLHttpRequest,p=e.finishNotifyingXhr(d),f=e.baseUrlRespectingXhr(p,i.baseUrl);a.onload=function(){s(c).then(p.waitForRequestsToFinish).then(h)},a.contentDocument.open(),a.contentWindow.XMLHttpRequest=f,a.contentWindow.onerror=function(t){u.push({resourceType:"scriptExecution",msg:t})},a.contentDocument.write("<!DOCTYPE html>"),a.contentDocument.write(l),a.contentDocument.close()})};var a=function(t,e,i){var n=t.createElement("iframe");return n.style.width=e+"px",n.style.height=i+"px",n.style.visibility="hidden",n.style.position="absolute",n.style.top=-1e4-i+"px",n.style.left=-1e4-e+"px",n.sandbox="allow-same-origin",n.scrolling="no",n},l=function(t,e,i){var r=Math.floor(t/i),o=Math.floor(e/i);return a(n.document,r,o)},u=function(t,e,i,n){return{width:Math.max(t.width*n,e),height:Math.max(t.height*n,i)}},c=function(t,e){var i=t.querySelector(e);if(i)return i;if(t.ownerDocument.querySelector(e)===t)return t;throw{message:"Clipping selector not found"}},h=function(t,e,i,r,o){var s,a,l,h,d,p,f,g,m=Math.max(t.scrollWidth,t.clientWidth),v=Math.max(t.scrollHeight,t.clientHeight);return e?(p=c(t,e),f=p.getBoundingClientRect(),s=f.top,a=f.left,l=f.width,h=f.height):(s=0,a=0,l=m,h=v),g=u({width:l,height:h},i,r,o),d=n.getComputedStyle(t.ownerDocument.documentElement).fontSize,{left:a,top:s,width:g.width,height:g.height,viewportWidth:m,viewportHeight:v,rootFontSize:d}},d=function(t,e){var i=t.tagName;return e.querySelector(i)},p=function(t){var e=t.tagName.toLowerCase();return"html"===e||"body"===e?t.outerHTML:'<body style="margin: 0;">'+t.outerHTML+"</body>"};r.calculateDocumentContentSize=function(t,e){return new Promise(function(i,r){var o,s=e.zoom||1;o=l(e.width,e.height,s),n.document.getElementsByTagName("body")[0].appendChild(o),o.onload=function(){var a,l=o.contentDocument;try{a=h(d(t,l),e.clip,e.width,e.height,s),i(a)}catch(t){r(t)}finally{n.document.getElementsByTagName("body")[0].removeChild(o)}},o.contentDocument.open(),o.contentDocument.write("<!DOCTYPE html>"),o.contentDocument.write(p(t)),o.contentDocument.close()})},r.parseHtmlFragment=function(t){var e=n.document.implementation.createHTMLDocument("");e.documentElement.innerHTML=t;var i=e.querySelector("body").firstChild;if(!i)throw"Invalid source";return i};var f=function(t,e){var i,r,o,s,a=/<html((?:\s+[^>]*)?)>/im.exec(e),l=n.document.implementation.createHTMLDocument("");if(a)for(i="<div"+a[1]+"></div>",l.documentElement.innerHTML=i,o=l.querySelector("div"),r=0;r<o.attributes.length;r++)s=o.attributes[r],t.documentElement.setAttribute(s.name,s.value)};r.parseHTML=function(t){var e=n.document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=t,f(e,t),e};var g=function(t){try{return i.failOnParseError(t)}catch(t){throw{message:"Invalid source",originalError:t}}};r.validateXHTML=function(t){var e=new DOMParser,i=e.parseFromString(t,"application/xml");g(i)};var m=null,v=function(t,e){return"none"===e||"repeated"===e?(null!==m&&"repeated"===e||(m=Date.now()),t+"?_="+m):t},y=function(e,i){return new Promise(function(n,r){var o=new window.XMLHttpRequest,s=t.joinUrl(i.baseUrl,e),a=v(s,i.cache),l=function(t){r({message:"Unable to load page",originalError:t})};o.addEventListener("load",function(){200===o.status||0===o.status?n(o.responseXML):l(o.statusText)},!1),o.addEventListener("error",function(t){l(t)},!1);try{o.open("GET",a,!0),o.responseType="document",o.send(null)}catch(t){l(t)}})};return r.loadDocument=function(t,e){return y(t,e).then(function(t){return g(t)})},r}(r,o,i,window),u=function(t){"use strict";var e,i={},n=function(t,e){return e?URL.createObjectURL(new Blob([t],{type:"image/svg+xml"})):"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(t)},r=function(t){t instanceof Blob&&URL.revokeObjectURL(t)},o='<svg xmlns="http://www.w3.org/2000/svg" width="1" height="1"><foreignObject></foreignObject></svg>',s=function(t){return new Promise(function(e,i){var n=document.createElement("canvas"),r=new Image;r.onload=function(){var t=n.getContext("2d");try{t.drawImage(r,0,0),n.toDataURL("image/png"),e(!0)}catch(t){e(!1)}},r.onerror=i,r.src=t})},a=function(){var t=n(o,!0);return s(t).then(function(e){return r(t),!e&&s(n(o,!1)).then(function(t){return t})},function(){return!1})},l=function(){if(t.Blob)try{return new Blob(["<b></b>"],{type:"text/xml"}),!0}catch(t){}return!1},u=function(){return new Promise(function(e,i){l&&t.URL?a().then(function(t){e(!t)},function(){i()}):e(!1)})},c=function(){return void 0===e&&(e=u()),e},h=function(t){return c().then(function(e){return n(t,e)})};return i.renderSvg=function(t){return new Promise(function(e,i){var n,o,s=function(){o.onload=null,o.onerror=null},a=function(){n&&r(n)};o=new Image,o.onload=function(){s(),a(),e(o)},o.onerror=function(){a(),i()},h(t).then(function(t){n=t,o.src=n},i)})},i}(window),c=function(t,e,i,n){"use strict";var r={},o=function(t,e){var i=e||1,n={width:t.width,height:t.height,"font-size":t.rootFontSize};return 1!==i&&(n.style="transform:scale("+i+"); transform-origin: 0 0;"),n},s=function(t){var e,i,n,r;return e=Math.round(t.viewportWidth),i=Math.round(t.viewportHeight),n=-t.left,r=-t.top,{x:n,y:r,width:e,height:i}},a=function(t){var e=t.style||"";t.style=e+"float: left;"},l=function(t){t.externalResourcesRequired=!0},u=function(t){var e=Object.keys(t);return e.length?" "+e.map(function(e){return e+'="'+t[e]+'"'}).join(" "):""},c=function(t,i,r){var c=n.serializeToString(t);e.validateXHTML(c);var h=s(i);return a(h),l(h),'<svg xmlns="http://www.w3.org/2000/svg"'+u(o(i,r))+'><style scoped="">html::-webkit-scrollbar { display: none; }</style><foreignObject'+u(h)+">"+c+"</foreignObject></svg>"};return r.getSvgForDocument=function(t,e,n){return i.rewriteTagNameSelectorsToLowerCase(t),c(t,e,n)},r.drawDocumentAsSvg=function(t,n){return["hover","active","focus","target"].forEach(function(e){n[e]&&i.fakeUserAction(t,n[e],e)}),e.calculateDocumentContentSize(t,n).then(function(e){return r.getSvgForDocument(t,e,n.zoom)})},r}(0,l,a,e),h=function(t,e,i,n,r,o){"use strict";var s={},a=function(t){return{message:"Error rendering page",originalError:t}},l=function(t){return r.renderSvg(t).then(function(e){return{image:e,svg:t}},function(t){throw a(t)})},u=function(t,e){try{e.getContext("2d").drawImage(t,0,0)}catch(t){throw a(t)}},c=function(t,e,i){return n.drawDocumentAsSvg(t,i).then(l).then(function(t){return e&&u(t.image,e),t})},h=function(t,n){return e.executeJavascript(t,n).then(function(t){var e=t.document;return i.persistInputValues(e),{document:e,errors:t.errors}})};return s.rasterize=function(e,i,n){var r;return r=t.clone(n),r.inlineScripts=!0===n.executeJs,o.inlineReferences(e,r).then(function(t){return n.executeJs?h(e,n).then(function(e){return{element:e.document.documentElement,errors:t.concat(e.errors)}}):{element:e,errors:t}}).then(function(t){return c(t.element,i,n).then(function(e){return{image:e.image,svg:e.svg,errors:t.errors}})})},s}(r,l,a,c,u,n);return function(t,e,i){"use strict";var n={},r=function(t,e){var i=t?t.width:300,n=t?t.height:200;return{width:void 0!==e.width?e.width:i,height:void 0!==e.height?e.height:n}},o=function(e){var i,n=r(e.canvas,e.options);return i=t.clone(e.options),i.width=n.width,i.height=n.height,i};n.drawDocument=function(){var e=arguments[0],n=Array.prototype.slice.call(arguments,1),r=t.parseOptionalParameters(n),s=e.documentElement?e.documentElement:e;return i.rasterize(s,r.canvas,o(r))};var s=function(t,i,r){var o=e.parseHTML(t);return n.drawDocument(o,i,r)};n.drawHTML=function(){var e=arguments[0],i=Array.prototype.slice.call(arguments,1),n=t.parseOptionalParameters(i);return s(e,n.canvas,n.options)};var a=function(e,i,n){var r=document.implementation.createHTMLDocument("");r.replaceChild(e.documentElement,r.documentElement);var o=n?t.clone(n):{};return n.baseUrl||(o.baseUrl=i),{document:r,options:o}},l=function(t,i,r){return e.loadDocument(t,r).then(function(e){var o=a(e,t,r);return n.drawDocument(o.document,i,o.options)})};return n.drawURL=function(){var e=arguments[0],i=Array.prototype.slice.call(arguments,1),n=t.parseOptionalParameters(i);return l(e,n.canvas,n.options)},n}(r,l,h)})},{inlineresources:32,"sane-domparser-error":37,url:6,xmlserializer:38}],2:[function(e,i,n){(function(e){!function(r){function o(t){throw new RangeError(I[t])}function s(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function a(t,e){var i=t.split("@"),n="";return i.length>1&&(n=i[0]+"@",t=i[1]),t=t.replace(j,"."),n+s(t.split("."),e).join(".")}function l(t){for(var e,i,n=[],r=0,o=t.length;r<o;)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<o?(i=t.charCodeAt(r++),56320==(64512&i)?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--)):n.push(e);return n}function u(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=N(t>>>10&1023|55296),t=56320|1023&t),e+=N(t)}).join("")}function c(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:k}function h(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,i){var n=0;for(t=i?O(t/_):t>>1,t+=O(t/e);t>D*T>>1;n+=k)t=O(t/D);return O(n+(D+1)*t/(t+A))}function p(t){var e,i,n,r,s,a,l,h,p,f,g=[],m=t.length,v=0,y=E,b=M;for(i=t.lastIndexOf(P),i<0&&(i=0),n=0;n<i;++n)t.charCodeAt(n)>=128&&o("not-basic"),g.push(t.charCodeAt(n));for(r=i>0?i+1:0;r<m;){for(s=v,a=1,l=k;r>=m&&o("invalid-input"),h=c(t.charCodeAt(r++)),(h>=k||h>O((S-v)/a))&&o("overflow"),v+=h*a,p=l<=b?C:l>=b+T?T:l-b,!(h<p);l+=k)f=k-p,a>O(S/f)&&o("overflow"),a*=f;e=g.length+1,b=d(v-s,e,0==s),O(v/e)>S-y&&o("overflow"),y+=O(v/e),v%=e,g.splice(v++,0,y)}return u(g)}function f(t){var e,i,n,r,s,a,u,c,p,f,g,m,v,y,b,x=[];for(t=l(t),m=t.length,e=E,i=0,s=M,a=0;a<m;++a)(g=t[a])<128&&x.push(N(g));for(n=r=x.length,r&&x.push(P);n<m;){for(u=S,a=0;a<m;++a)(g=t[a])>=e&&g<u&&(u=g);for(v=n+1,u-e>O((S-i)/v)&&o("overflow"),i+=(u-e)*v,e=u,a=0;a<m;++a)if(g=t[a],g<e&&++i>S&&o("overflow"),g==e){for(c=i,p=k;f=p<=s?C:p>=s+T?T:p-s,!(c<f);p+=k)b=c-f,y=k-f,x.push(N(h(f+b%y,0))),c=O(b/y);x.push(N(h(c,0))),s=d(i,v,n==r),i=0,++n}++i,++e}return x.join("")}function g(t){return a(t,function(t){return L.test(t)?p(t.slice(4).toLowerCase()):t})}function m(t){return a(t,function(t){return R.test(t)?"xn--"+f(t):t})}var v="object"==typeof n&&n&&!n.nodeType&&n,y="object"==typeof i&&i&&!i.nodeType&&i,b="object"==typeof e&&e;b.global!==b&&b.window!==b&&b.self!==b||(r=b);var x,w,S=2147483647,k=36,C=1,T=26,A=38,_=700,M=72,E=128,P="-",L=/^xn--/,R=/[^\x20-\x7E]/,j=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=k-C,O=Math.floor,N=String.fromCharCode;if(x={version:"1.4.1",ucs2:{decode:l,encode:u},decode:p,encode:f,toASCII:m,toUnicode:g},"function"==typeof t&&"object"==typeof t.amd&&t.amd)t("punycode",function(){return x});else if(v&&y)if(i.exports==v)y.exports=x;else for(w in x)x.hasOwnProperty(w)&&(v[w]=x[w]);else r.punycode=x}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,i){function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,i,o){e=e||"&",i=i||"=";var s={};if("string"!=typeof t||0===t.length)return s;var a=/\+/g;t=t.split(e);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=t.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var h,d,p,f,g=t[c].replace(a,"%20"),m=g.indexOf(i);m>=0?(h=g.substr(0,m),d=g.substr(m+1)):(h=g,d=""),p=decodeURIComponent(h),f=decodeURIComponent(d),n(s,p)?r(s[p])?s[p].push(f):s[p]=[s[p],f]:s[p]=f}return s};var r=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],4:[function(t,e,i){function n(t,e){if(t.map)return t.map(e);for(var i=[],n=0;n<t.length;n++)i.push(e(t[n],n));return i}var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,i,a){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?n(s(t),function(s){var a=encodeURIComponent(r(s))+i;return o(t[s])?n(t[s],function(t){return a+encodeURIComponent(r(t))}).join(e):a+encodeURIComponent(r(t[s]))}).join(e):a?encodeURIComponent(r(a))+i+encodeURIComponent(r(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},s=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},{}],5:[function(t,e,i){"use strict";i.decode=i.parse=t("./decode"),i.encode=i.stringify=t("./encode")},{"./decode":3,"./encode":4}],6:[function(t,e,i){function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,i){if(t&&u.isObject(t)&&t instanceof n)return t;var r=new n;return r.parse(t,e,i),r}function o(t){return u.isString(t)&&(t=r(t)),t instanceof n?t.format():n.prototype.format.call(t)}function s(t,e){return r(t,!1,!0).resolve(e)}function a(t,e){return t?r(t,!1,!0).resolveObject(e):e}var l=t("punycode"),u=t("./util");i.parse=r,i.resolve=s,i.resolveObject=a,i.format=o,i.Url=n;var c=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,p=["<",">",'"',"`"," ","\r","\n","\t"],f=["{","}","|","\\","^","`"].concat(p),g=["'"].concat(f),m=["%","/","?",";","#"].concat(g),v=["/","?","#"],y=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},S={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},k=t("querystring");n.prototype.parse=function(t,e,i){if(!u.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),r=-1!==n&&n<t.indexOf("#")?"?":"#",o=t.split(r),s=/\\/g;o[0]=o[0].replace(s,"/"),t=o.join(r);var a=t;if(a=a.trim(),!i&&1===t.split("#").length){var h=d.exec(a);if(h)return this.path=a,this.href=a,this.pathname=h[1],h[2]?(this.search=h[2],this.query=e?k.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var p=c.exec(a);if(p){p=p[0];var f=p.toLowerCase();this.protocol=f,a=a.substr(p.length)}if(i||p||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var C="//"===a.substr(0,2);!C||p&&w[p]||(a=a.substr(2),this.slashes=!0)}if(!w[p]&&(C||p&&!S[p])){for(var T=-1,A=0;A<v.length;A++){var _=a.indexOf(v[A]);-1!==_&&(-1===T||_<T)&&(T=_)}var M,E;E=-1===T?a.lastIndexOf("@"):a.lastIndexOf("@",T),-1!==E&&(M=a.slice(0,E),a=a.slice(E+1),this.auth=decodeURIComponent(M)),T=-1;for(var A=0;A<m.length;A++){var _=a.indexOf(m[A]);-1!==_&&(-1===T||_<T)&&(T=_)}-1===T&&(T=a.length),this.host=a.slice(0,T),a=a.slice(T),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var L=this.hostname.split(/\./),A=0,R=L.length;A<R;A++){var j=L[A];if(j&&!j.match(y)){for(var I="",D=0,O=j.length;D<O;D++)j.charCodeAt(D)>127?I+="x":I+=j[D];if(!I.match(y)){var N=L.slice(0,A),q=L.slice(A+1),z=j.match(b);z&&(N.push(z[1]),q.unshift(z[2])),q.length&&(a="/"+q.join(".")+a),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=l.toASCII(this.hostname));var B=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+B,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!x[f])for(var A=0,R=g.length;A<R;A++){var $=g[A];if(-1!==a.indexOf($)){var H=encodeURIComponent($);H===$&&(H=escape($)),a=a.split($).join(H)}}var U=a.indexOf("#");-1!==U&&(this.hash=a.substr(U),a=a.slice(0,U));var W=a.indexOf("?");if(-1!==W?(this.search=a.substr(W),this.query=a.substr(W+1),e&&(this.query=k.parse(this.query)),a=a.slice(0,W)):e&&(this.search="",this.query={}),a&&(this.pathname=a),S[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",G=this.search||"";this.path=B+G}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(o=k.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||S[e])&&!1!==r?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),s=s.replace("#","%23"),e+r+i+s+n},n.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(u.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var i=new n,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];i[s]=this[s]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var a=Object.keys(t),l=0;l<a.length;l++){var c=a[l];"protocol"!==c&&(i[c]=t[c])}return S[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!S[t.protocol]){for(var h=Object.keys(t),d=0;d<h.length;d++){var p=h[d];i[p]=t[p]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||w[t.protocol])i.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),i.pathname=f.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var g=i.pathname||"",m=i.search||"";i.path=g+m}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var v=i.pathname&&"/"===i.pathname.charAt(0),y=t.host||t.pathname&&"/"===t.pathname.charAt(0),b=y||v||i.host&&t.pathname,x=b,k=i.pathname&&i.pathname.split("/")||[],f=t.pathname&&t.pathname.split("/")||[],C=i.protocol&&!S[i.protocol];if(C&&(i.hostname="",i.port=null,i.host&&(""===k[0]?k[0]=i.host:k.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),b=b&&(""===f[0]||""===k[0])),y)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,k=f;else if(f.length)k||(k=[]),k.pop(),k=k.concat(f),i.search=t.search,i.query=t.query;else if(!u.isNullOrUndefined(t.search)){if(C){i.hostname=i.host=k.shift();var T=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");T&&(i.auth=T.shift(),i.host=i.hostname=T.shift())}return i.search=t.search,i.query=t.query,u.isNull(i.pathname)&&u.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!k.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var A=k.slice(-1)[0],_=(i.host||t.host||k.length>1)&&("."===A||".."===A)||""===A,M=0,E=k.length;E>=0;E--)A=k[E],"."===A?k.splice(E,1):".."===A?(k.splice(E,1),M++):M&&(k.splice(E,1),M--);if(!b&&!x)for(;M--;M)k.unshift("..");!b||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),_&&"/"!==k.join("/").substr(-1)&&k.push("");var P=""===k[0]||k[0]&&"/"===k[0].charAt(0);if(C){i.hostname=i.host=P?"":k.length?k.shift():"";var T=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");T&&(i.auth=T.shift(),i.host=i.hostname=T.shift())}return b=b||i.host&&k.length,b&&!P&&k.unshift(""),k.length?i.pathname=k.join("/"):(i.pathname=null,i.path=null),u.isNull(i.pathname)&&u.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},n.prototype.parseHost=function(){var t=this.host,e=h.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{"./util":7,punycode:2,querystring:5}],7:[function(t,e,i){"use strict";e.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},{}],8:[function(e,i,n){!function(e,r){"function"==typeof t&&t.amd?t(r):"object"==typeof n?i.exports=r():e.ayepromise=r()}(this,function(){"use strict";var t={},e=function(){var t=!1;return function(e){return function(){t||(t=!0,e.apply(null,arguments))}}},i=function(t){var e=t&&t.then;if("object"==typeof t&&"function"==typeof e)return function(){return e.apply(t,arguments)}},n=function(e,i){var n=t.defer(),o=function(t,e){setTimeout(function(){var i;try{i=t(e)}catch(t){return void n.reject(t)}i===n.promise?n.reject(new TypeError("Cannot resolve promise with itself")):n.resolve(i)},1)},s=function(t){e&&e.call?o(e,t):n.resolve(t)},a=function(t){i&&i.call?o(i,t):n.reject(t)};return{promise:n.promise,handle:function(t,e){t===r?s(e):a(e)}}},r=1;return t.defer=function(){var t,o=0,s=[],a=function(e,i){o=e,t=i,s.forEach(function(e){e.handle(o,t)}),s=null},l=function(t){a(r,t)},u=function(t){a(2,t)},c=function(e,i){var r=n(e,i);return 0===o?s.push(r):r.handle(o,t),r.promise},h=function(t){var i=e();try{t(i(d),i(u))}catch(t){i(u)(t)}},d=function(t){var e;try{e=i(t)}catch(t){return void u(t)}e?h(e):l(t)},p=e();return{resolve:p(d),reject:p(u),promise:{then:c,fail:function(t){return c(null,t)}}}},t})},{}],9:[function(t,e,i){e.exports=function(){function e(t,e,i,n,r,o){this.message=t,this.expected=e,this.found=i,this.offset=n,this.line=r,this.column=o,this.name="SyntaxError"}function i(i){function n(t){return W!==t&&(W>t&&(W=0,G={line:1,column:1,seenCR:!1}),function(t,e,n){var r,o;for(r=e;r<n;r++)o=i.charAt(r),"\n"===o?(t.seenCR||t.line++,t.column=1,t.seenCR=!1):"\r"===o||"\u2028"===o||"\u2029"===o?(t.line++,t.column=1,t.seenCR=!0):(t.column++,t.seenCR=!1)}(G,W,t),W=t),G}function r(t){H<X||(H>X&&(X=H,V=[]),V.push(t))}function o(t,r,o){var s=n(o),a=o<i.length?i.charAt(o):null;return null!==r&&function(t){var e=1;for(t.sort(function(t,e){return t.description<e.description?-1:t.description>e.description?1:0});e<t.length;)t[e-1]===t[e]?t.splice(e,1):e++}(r),new e(null!==t?t:function(t,e){var i,n,r,o=new Array(t.length);for(r=0;r<t.length;r++)o[r]=t[r].description;return i=t.length>1?o.slice(0,-1).join(", ")+" or "+o[t.length-1]:o[0],n=e?'"'+function(t){function e(t){return t.charCodeAt(0).toString(16).toUpperCase()}return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(t){return"\\x0"+e(t)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(t){return"\\x"+e(t)}).replace(/[\u0180-\u0FFF]/g,function(t){return"\\u0"+e(t)}).replace(/[\u1080-\uFFFF]/g,function(t){return"\\u"+e(t)})}(e)+'"':"end of input","Expected "+i+" but "+n+" found."}(r,a),r,a,o,s.line,s.column)}function s(){var t,e;return t=a(),t===v&&(t=H,e=[],e!==v&&(U=t,e=x()),t=e),t}function a(){var t,e,n,o,s,u;if(t=H,(e=l())!==v){for(n=[],o=f();o!==v;)n.push(o),o=f();if(n!==v)if(44===i.charCodeAt(H)?(o=S,H++):(o=v,0===Y&&r(k)),o!==v){for(s=[],u=f();u!==v;)s.push(u),u=f();s!==v?(u=a(),u!==v?(U=t,e=C(e,u),t=e):(H=t,t=w)):(H=t,t=w)}else H=t,t=w;else H=t,t=w}else H=t,t=w;return t===v&&(t=H,e=l(),e!==v&&(U=t,e=T(e)),t=e),t}function l(){var t;return t=u(),t===v&&(t=d()),t}function u(){var t,e,i,n;if(t=H,(e=c())!==v){if(i=[],(n=f())!==v)for(;n!==v;)i.push(n),n=f();else i=w;i!==v?(n=h(),n!==v?(U=t,e=A(e,n),t=e):(H=t,t=w)):(H=t,t=w)}else H=t,t=w;return t===v&&(t=H,e=c(),e!==v&&(U=t,e=_(e)),t=e),t}function c(){var t,e,n,o;return t=H,i.substr(H,4)===M?(e=M,H+=4):(e=v,0===Y&&r(E)),e!==v?(n=p(),n!==v?(41===i.charCodeAt(H)?(o=P,H++):(o=v,0===Y&&r(L)),o!==v?(U=t,e=R(n),t=e):(H=t,t=w)):(H=t,t=w)):(H=t,t=w),t}function h(){var t,e,n,o;return t=H,i.substr(H,7)===j?(e=j,H+=7):(e=v,0===Y&&r(I)),e!==v?(n=p(),n!==v?(41===i.charCodeAt(H)?(o=P,H++):(o=v,0===Y&&r(L)),o!==v?(U=t,e=R(n),t=e):(H=t,t=w)):(H=t,t=w)):(H=t,t=w),t}function d(){var t,e,n,o;return t=H,i.substr(H,6)===D?(e=D,H+=6):(e=v,0===Y&&r(O)),e!==v?(n=p(),n!==v?(41===i.charCodeAt(H)?(o=P,H++):(o=v,0===Y&&r(L)),o!==v?(U=t,e=N(n),t=e):(H=t,t=w)):(H=t,t=w)):(H=t,t=w),t}function p(){var t,e,n;if(t=H,e=[],q.test(i.charAt(H))?(n=i.charAt(H),H++):(n=v,0===Y&&r(z)),n!==v)for(;n!==v;)e.push(n),q.test(i.charAt(H))?(n=i.charAt(H),H++):(n=v,0===Y&&r(z));else e=w;return e!==v&&(U=t,e=B(e)),t=e}function f(){var t;return F.test(i.charAt(H))?(t=i.charAt(H),H++):(t=v,0===Y&&r($)),t}var g,m=arguments.length>1?arguments[1]:{},v={},y={start:s},b=s,x=function(){return[]},w=v,S=",",k={type:"literal",value:",",description:'","'},C=function(t,e){return[t].concat(e)},T=function(t){return[t]},A=function(t,e){return{url:t,format:e}},_=function(t){return{url:t}},M="url(",E={type:"literal",value:"url(",description:'"url("'},P=")",L={type:"literal",value:")",description:'")"'},R=function(t){return t},j="format(",I={type:"literal",value:"format(",description:'"format("'},D="local(",O={type:"literal",value:"local(",description:'"local("'},N=function(t){return{local:t}},q=/^[^)]/,z={type:"class",value:"[^)]",description:"[^)]"},B=function(t){return K.extractValue(t.join(""))},F=/^[ \t\r\n\f]/,$={type:"class",value:"[ \\t\\r\\n\\f]",description:"[ \\t\\r\\n\\f]"},H=0,U=0,W=0,G={line:1,column:1,seenCR:!1},X=0,V=[],Y=0;if("startRule"in m){if(!(m.startRule in y))throw new Error("Can't start parsing from rule \""+m.startRule+'".');b=y[m.startRule]}var K=t("../util");if((g=b())!==v&&H===i.length)return g;throw g!==v&&H<i.length&&r({type:"end",description:"end of input"}),o(null,V,X)}return function(t,e){function i(){this.constructor=t}i.prototype=e.prototype,t.prototype=new i}(e,Error),{SyntaxError:e,parse:i}}()},{"../util":11}],10:[function(t,e,i){var n=t("./grammar");i.SyntaxError=function(t,e){this.message=t,this.offset=e},i.parse=function(t){try{return n.parse(t)}catch(t){throw new i.SyntaxError(t.message,t.offset)}},i.serialize=function(t){return t.map(function(t){var e;return t.url?(e='url("'+t.url+'")',t.format&&(e+=' format("'+t.format+'")')):e='local("'+t.local+'")',e}).join(", ")}},{"./grammar":9}],11:[function(t,e,i){var n=function(t){var e=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return t.replace(e,"$1")},r=function(t){var e=/^"(.*)"$/,i=/^'(.*)'$/;return e.test(t)?t.replace(e,"$1"):i.test(t)?t.replace(i,"$1"):t};i.extractValue=function(t){return r(n(t))}},{}],12:[function(t,e,i){var n={CSSRule:t("./CSSRule").CSSRule,MatcherList:t("./MatcherList").MatcherList};n.CSSDocumentRule=function(){n.CSSRule.call(this),this.matcher=new n.MatcherList,this.cssRules=[]},n.CSSDocumentRule.prototype=new n.CSSRule,n.CSSDocumentRule.prototype.constructor=n.CSSDocumentRule,n.CSSDocumentRule.prototype.type=10,Object.defineProperty(n.CSSDocumentRule.prototype,"cssText",{get:function(){for(var t=[],e=0,i=this.cssRules.length;e<i;e++)t.push(this.cssRules[e].cssText);return"@-moz-document "+this.matcher.matcherText+" {"+t.join("")+"}"}}),i.CSSDocumentRule=n.CSSDocumentRule},{"./CSSRule":18,"./MatcherList":24}],13:[function(t,e,i){var n={CSSStyleDeclaration:t("./CSSStyleDeclaration").CSSStyleDeclaration,CSSRule:t("./CSSRule").CSSRule};n.CSSFontFaceRule=function(){n.CSSRule.call(this),this.style=new n.CSSStyleDeclaration,this.style.parentRule=this},n.CSSFontFaceRule.prototype=new n.CSSRule,n.CSSFontFaceRule.prototype.constructor=n.CSSFontFaceRule,n.CSSFontFaceRule.prototype.type=5,Object.defineProperty(n.CSSFontFaceRule.prototype,"cssText",{get:function(){return"@font-face {"+this.style.cssText+"}"}}),i.CSSFontFaceRule=n.CSSFontFaceRule},{"./CSSRule":18,"./CSSStyleDeclaration":19}],14:[function(t,e,i){var n={
CSSRule:t("./CSSRule").CSSRule,CSSStyleSheet:t("./CSSStyleSheet").CSSStyleSheet,MediaList:t("./MediaList").MediaList};n.CSSImportRule=function(){n.CSSRule.call(this),this.href="",this.media=new n.MediaList,this.styleSheet=new n.CSSStyleSheet},n.CSSImportRule.prototype=new n.CSSRule,n.CSSImportRule.prototype.constructor=n.CSSImportRule,n.CSSImportRule.prototype.type=3,Object.defineProperty(n.CSSImportRule.prototype,"cssText",{get:function(){var t=this.media.mediaText;return"@import url("+this.href+")"+(t?" "+t:"")+";"},set:function(t){for(var e,i,n=0,r="",o="";i=t.charAt(n);n++)switch(i){case" ":case"\t":case"\r":case"\n":case"\f":"after-import"===r?r="url":o+=i;break;case"@":r||t.indexOf("@import",n)!==n||(r="after-import",n+="import".length,o="");break;case"u":if("url"===r&&t.indexOf("url(",n)===n){if(-1===(e=t.indexOf(")",n+1)))throw n+': ")" not found';n+="url(".length;var s=t.slice(n,e);s[0]===s[s.length-1]&&('"'!==s[0]&&"'"!==s[0]||(s=s.slice(1,-1))),this.href=s,n=e,r="media"}break;case'"':if("url"===r){if(!(e=t.indexOf('"',n+1)))throw n+": '\"' not found";this.href=t.slice(n+1,e),n=e,r="media"}break;case"'":if("url"===r){if(!(e=t.indexOf("'",n+1)))throw n+': "\'" not found';this.href=t.slice(n+1,e),n=e,r="media"}break;case";":"media"===r&&o&&(this.media.mediaText=o.trim());break;default:"media"===r&&(o+=i)}}}),i.CSSImportRule=n.CSSImportRule},{"./CSSRule":18,"./CSSStyleSheet":21,"./MediaList":25}],15:[function(t,e,i){var n={CSSRule:t("./CSSRule").CSSRule,CSSStyleDeclaration:t("./CSSStyleDeclaration").CSSStyleDeclaration};n.CSSKeyframeRule=function(){n.CSSRule.call(this),this.keyText="",this.style=new n.CSSStyleDeclaration,this.style.parentRule=this},n.CSSKeyframeRule.prototype=new n.CSSRule,n.CSSKeyframeRule.prototype.constructor=n.CSSKeyframeRule,n.CSSKeyframeRule.prototype.type=9,Object.defineProperty(n.CSSKeyframeRule.prototype,"cssText",{get:function(){return this.keyText+" {"+this.style.cssText+"} "}}),i.CSSKeyframeRule=n.CSSKeyframeRule},{"./CSSRule":18,"./CSSStyleDeclaration":19}],16:[function(t,e,i){var n={CSSRule:t("./CSSRule").CSSRule};n.CSSKeyframesRule=function(){n.CSSRule.call(this),this.name="",this.cssRules=[]},n.CSSKeyframesRule.prototype=new n.CSSRule,n.CSSKeyframesRule.prototype.constructor=n.CSSKeyframesRule,n.CSSKeyframesRule.prototype.type=8,Object.defineProperty(n.CSSKeyframesRule.prototype,"cssText",{get:function(){for(var t=[],e=0,i=this.cssRules.length;e<i;e++)t.push("  "+this.cssRules[e].cssText);return"@"+(this._vendorPrefix||"")+"keyframes "+this.name+" { \n"+t.join("\n")+"\n}"}}),i.CSSKeyframesRule=n.CSSKeyframesRule},{"./CSSRule":18}],17:[function(t,e,i){var n={CSSRule:t("./CSSRule").CSSRule,MediaList:t("./MediaList").MediaList};n.CSSMediaRule=function(){n.CSSRule.call(this),this.media=new n.MediaList,this.cssRules=[]},n.CSSMediaRule.prototype=new n.CSSRule,n.CSSMediaRule.prototype.constructor=n.CSSMediaRule,n.CSSMediaRule.prototype.type=4,Object.defineProperty(n.CSSMediaRule.prototype,"cssText",{get:function(){for(var t=[],e=0,i=this.cssRules.length;e<i;e++)t.push(this.cssRules[e].cssText);return"@media "+this.media.mediaText+" {"+t.join("")+"}"}}),i.CSSMediaRule=n.CSSMediaRule},{"./CSSRule":18,"./MediaList":25}],18:[function(t,e,i){var n={};n.CSSRule=function(){this.parentRule=null,this.parentStyleSheet=null},n.CSSRule.UNKNOWN_RULE=0,n.CSSRule.STYLE_RULE=1,n.CSSRule.CHARSET_RULE=2,n.CSSRule.IMPORT_RULE=3,n.CSSRule.MEDIA_RULE=4,n.CSSRule.FONT_FACE_RULE=5,n.CSSRule.PAGE_RULE=6,n.CSSRule.KEYFRAMES_RULE=7,n.CSSRule.KEYFRAME_RULE=8,n.CSSRule.MARGIN_RULE=9,n.CSSRule.NAMESPACE_RULE=10,n.CSSRule.COUNTER_STYLE_RULE=11,n.CSSRule.SUPPORTS_RULE=12,n.CSSRule.DOCUMENT_RULE=13,n.CSSRule.FONT_FEATURE_VALUES_RULE=14,n.CSSRule.VIEWPORT_RULE=15,n.CSSRule.REGION_STYLE_RULE=16,n.CSSRule.prototype={constructor:n.CSSRule},i.CSSRule=n.CSSRule},{}],19:[function(t,e,i){var n={};n.CSSStyleDeclaration=function(){this.length=0,this.parentRule=null,this._importants={}},n.CSSStyleDeclaration.prototype={constructor:n.CSSStyleDeclaration,getPropertyValue:function(t){return this[t]||""},setProperty:function(t,e,i){if(this[t]){Array.prototype.indexOf.call(this,t)<0&&(this[this.length]=t,this.length++)}else this[this.length]=t,this.length++;this[t]=e,this._importants[t]=i},removeProperty:function(t){if(!(t in this))return"";var e=Array.prototype.indexOf.call(this,t);if(e<0)return"";var i=this[t];return this[t]="",Array.prototype.splice.call(this,e,1),i},getPropertyCSSValue:function(){},getPropertyPriority:function(t){return this._importants[t]||""},getPropertyShorthand:function(){},isPropertyImplicit:function(){},get cssText(){for(var t=[],e=0,i=this.length;e<i;++e){var n=this[e],r=this.getPropertyValue(n),o=this.getPropertyPriority(n);o&&(o=" !"+o),t[e]=n+": "+r+o+";"}return t.join(" ")},set cssText(t){var e,i;for(e=this.length;e--;)i=this[e],this[i]="";Array.prototype.splice.call(this,0,this.length),this._importants={};var r=n.parse("#bogus{"+t+"}").cssRules[0].style,o=r.length;for(e=0;e<o;++e)i=r[e],this.setProperty(r[e],r.getPropertyValue(i),r.getPropertyPriority(i))}},i.CSSStyleDeclaration=n.CSSStyleDeclaration,n.parse=t("./parse").parse},{"./parse":29}],20:[function(t,e,i){var n={CSSStyleDeclaration:t("./CSSStyleDeclaration").CSSStyleDeclaration,CSSRule:t("./CSSRule").CSSRule};n.CSSStyleRule=function(){n.CSSRule.call(this),this.selectorText="",this.style=new n.CSSStyleDeclaration,this.style.parentRule=this},n.CSSStyleRule.prototype=new n.CSSRule,n.CSSStyleRule.prototype.constructor=n.CSSStyleRule,n.CSSStyleRule.prototype.type=1,Object.defineProperty(n.CSSStyleRule.prototype,"cssText",{get:function(){return this.selectorText?this.selectorText+" {"+this.style.cssText+"}":""},set:function(t){var e=n.CSSStyleRule.parse(t);this.style=e.style,this.selectorText=e.selectorText}}),n.CSSStyleRule.parse=function(t){for(var e,i,r,o=0,s="selector",a=o,l="",u={selector:!0,value:!0},c=new n.CSSStyleRule,h="";r=t.charAt(o);o++)switch(r){case" ":case"\t":case"\r":case"\n":case"\f":if(u[s])switch(t.charAt(o-1)){case" ":case"\t":case"\r":case"\n":case"\f":break;default:l+=" "}break;case'"':if(a=o+1,!(e=t.indexOf('"',a)+1))throw'" is missing';l+=t.slice(o,e),o=e-1;break;case"'":if(a=o+1,!(e=t.indexOf("'",a)+1))throw"' is missing";l+=t.slice(o,e),o=e-1;break;case"/":if("*"===t.charAt(o+1)){if(o+=2,-1===(e=t.indexOf("*/",o)))throw new SyntaxError("Missing */");o=e+1}else l+=r;break;case"{":"selector"===s&&(c.selectorText=l.trim(),l="",s="name");break;case":":"name"===s?(i=l.trim(),l="",s="value"):l+=r;break;case"!":"value"===s&&t.indexOf("!important",o)===o?(h="important",o+="important".length):l+=r;break;case";":"value"===s?(c.style.setProperty(i,l.trim(),h),h="",l="",s="name"):l+=r;break;case"}":if("value"===s)c.style.setProperty(i,l.trim(),h),h="",l="";else{if("name"===s)break;l+=r}s="selector";break;default:l+=r}return c},i.CSSStyleRule=n.CSSStyleRule},{"./CSSRule":18,"./CSSStyleDeclaration":19}],21:[function(t,e,i){var n={StyleSheet:t("./StyleSheet").StyleSheet,CSSStyleRule:t("./CSSStyleRule").CSSStyleRule};n.CSSStyleSheet=function(){n.StyleSheet.call(this),this.cssRules=[]},n.CSSStyleSheet.prototype=new n.StyleSheet,n.CSSStyleSheet.prototype.constructor=n.CSSStyleSheet,n.CSSStyleSheet.prototype.insertRule=function(t,e){if(e<0||e>this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");var i=n.parse(t).cssRules[0];return i.parentStyleSheet=this,this.cssRules.splice(e,0,i),e},n.CSSStyleSheet.prototype.deleteRule=function(t){if(t<0||t>=this.cssRules.length)throw new RangeError("INDEX_SIZE_ERR");this.cssRules.splice(t,1)},n.CSSStyleSheet.prototype.toString=function(){for(var t="",e=this.cssRules,i=0;i<e.length;i++)t+=e[i].cssText+"\n";return t},i.CSSStyleSheet=n.CSSStyleSheet,n.parse=t("./parse").parse},{"./CSSStyleRule":20,"./StyleSheet":26,"./parse":29}],22:[function(t,e,i){var n={};n.CSSValue=function(){},n.CSSValue.prototype={constructor:n.CSSValue,set cssText(t){var e=this._getConstructorName();throw new Error('DOMException: property "cssText" of "'+e+'" is readonly and can not be replaced with "'+t+'"!')},get cssText(){var t=this._getConstructorName();throw new Error('getter "cssText" of "'+t+'" is not implemented!')},_getConstructorName:function(){return this.constructor.toString().match(/function\s([^\(]+)/)[1]}},i.CSSValue=n.CSSValue},{}],23:[function(t,e,i){var n={CSSValue:t("./CSSValue").CSSValue};n.CSSValueExpression=function(t,e){this._token=t,this._idx=e},n.CSSValueExpression.prototype=new n.CSSValue,n.CSSValueExpression.prototype.constructor=n.CSSValueExpression,n.CSSValueExpression.prototype.parse=function(){for(var t,e=this._token,i=this._idx,n="",r="",o="",s=[];;++i){if(""===(n=e.charAt(i))){o="css expression error: unfinished expression!";break}switch(n){case"(":s.push(n),r+=n;break;case")":s.pop(n),r+=n;break;case"/":(t=this._parseJSComment(e,i))?t.error?o="css expression error: unfinished comment in expression!":i=t.idx:(t=this._parseJSRexExp(e,i))?(i=t.idx,r+=t.text):r+=n;break;case"'":case'"':t=this._parseJSString(e,i,n),t?(i=t.idx,r+=t.text):r+=n;break;default:r+=n}if(o)break;if(0===s.length)break}return o?{error:o}:{idx:i,expression:r}},n.CSSValueExpression.prototype._parseJSComment=function(t,e){var i,n=t.charAt(e+1);if("/"===n||"*"===n){var r,o,s=e;if("/"===n?o="\n":"*"===n&&(o="*/"),-1!==(r=t.indexOf(o,s+1+1)))return r=r+o.length-1,i=t.substring(e,r+1),{idx:r,text:i};return{error:"css expression error: unfinished comment in expression!"}}return!1},n.CSSValueExpression.prototype._parseJSString=function(t,e,i){var n,r=this._findMatchedIdx(t,e,i);return-1!==r&&(n=t.substring(e,r+i.length),{idx:r,text:n})},n.CSSValueExpression.prototype._parseJSRexExp=function(t,e){var i=t.substring(0,e).replace(/\s+$/,"");if([/^$/,/\($/,/\[$/,/\!$/,/\+$/,/\-$/,/\*$/,/\/\s+/,/\%$/,/\=$/,/\>$/,/<$/,/\&$/,/\|$/,/\^$/,/\~$/,/\?$/,/\,$/,/delete$/,/in$/,/instanceof$/,/new$/,/typeof$/,/void$/].some(function(t){return t.test(i)}))return this._parseJSString(t,e,"/");return!1},n.CSSValueExpression.prototype._findMatchedIdx=function(t,e,i){for(var n,r=e;;){if(-1===(n=t.indexOf(i,r+1))){n=-1;break}var o=t.substring(e+1,n),s=o.match(/\\+$/);if(!s||s[0]%2==0)break;r=n}return t.indexOf("\n",e+1)<n&&(n=-1),n},i.CSSValueExpression=n.CSSValueExpression},{"./CSSValue":22}],24:[function(t,e,i){var n={};n.MatcherList=function(){this.length=0},n.MatcherList.prototype={constructor:n.MatcherList,get matcherText(){return Array.prototype.join.call(this,", ")},set matcherText(t){for(var e=t.split(","),i=this.length=e.length,n=0;n<i;n++)this[n]=e[n].trim()},appendMatcher:function(t){-1===Array.prototype.indexOf.call(this,t)&&(this[this.length]=t,this.length++)},deleteMatcher:function(t){var e=Array.prototype.indexOf.call(this,t);-1!==e&&Array.prototype.splice.call(this,e,1)}},i.MatcherList=n.MatcherList},{}],25:[function(t,e,i){var n={};n.MediaList=function(){this.length=0},n.MediaList.prototype={constructor:n.MediaList,get mediaText(){return Array.prototype.join.call(this,", ")},set mediaText(t){for(var e=t.split(","),i=this.length=e.length,n=0;n<i;n++)this[n]=e[n].trim()},appendMedium:function(t){-1===Array.prototype.indexOf.call(this,t)&&(this[this.length]=t,this.length++)},deleteMedium:function(t){var e=Array.prototype.indexOf.call(this,t);-1!==e&&Array.prototype.splice.call(this,e,1)}},i.MediaList=n.MediaList},{}],26:[function(t,e,i){var n={};n.StyleSheet=function(){this.parentStyleSheet=null},i.StyleSheet=n.StyleSheet},{}],27:[function(t,e,i){var n={CSSStyleSheet:t("./CSSStyleSheet").CSSStyleSheet,CSSStyleRule:t("./CSSStyleRule").CSSStyleRule,CSSMediaRule:t("./CSSMediaRule").CSSMediaRule,CSSStyleDeclaration:t("./CSSStyleDeclaration").CSSStyleDeclaration,CSSKeyframeRule:t("./CSSKeyframeRule").CSSKeyframeRule,CSSKeyframesRule:t("./CSSKeyframesRule").CSSKeyframesRule};n.clone=function t(e){var i=new n.CSSStyleSheet,r=e.cssRules;if(!r)return i;for(var o={1:n.CSSStyleRule,4:n.CSSMediaRule,8:n.CSSKeyframesRule,9:n.CSSKeyframeRule},s=0,a=r.length;s<a;s++){var l=r[s],u=i.cssRules[s]=new o[l.type],c=l.style;if(c){for(var h=u.style=new n.CSSStyleDeclaration,d=0,p=c.length;d<p;d++){var f=h[d]=c[d];h[f]=c[f],h._importants[f]=c.getPropertyPriority(f)}h.length=c.length}l.hasOwnProperty("keyText")&&(u.keyText=l.keyText),l.hasOwnProperty("selectorText")&&(u.selectorText=l.selectorText),l.hasOwnProperty("mediaText")&&(u.mediaText=l.mediaText),l.hasOwnProperty("cssRules")&&(u.cssRules=t(l).cssRules)}return i},i.clone=n.clone},{"./CSSKeyframeRule":15,"./CSSKeyframesRule":16,"./CSSMediaRule":17,"./CSSStyleDeclaration":19,"./CSSStyleRule":20,"./CSSStyleSheet":21}],28:[function(t,e,i){"use strict";i.CSSStyleDeclaration=t("./CSSStyleDeclaration").CSSStyleDeclaration,i.CSSRule=t("./CSSRule").CSSRule,i.CSSStyleRule=t("./CSSStyleRule").CSSStyleRule,i.MediaList=t("./MediaList").MediaList,i.CSSMediaRule=t("./CSSMediaRule").CSSMediaRule,i.CSSImportRule=t("./CSSImportRule").CSSImportRule,i.CSSFontFaceRule=t("./CSSFontFaceRule").CSSFontFaceRule,i.StyleSheet=t("./StyleSheet").StyleSheet,i.CSSStyleSheet=t("./CSSStyleSheet").CSSStyleSheet,i.CSSKeyframesRule=t("./CSSKeyframesRule").CSSKeyframesRule,i.CSSKeyframeRule=t("./CSSKeyframeRule").CSSKeyframeRule,i.MatcherList=t("./MatcherList").MatcherList,i.CSSDocumentRule=t("./CSSDocumentRule").CSSDocumentRule,i.CSSValue=t("./CSSValue").CSSValue,i.CSSValueExpression=t("./CSSValueExpression").CSSValueExpression,i.parse=t("./parse").parse,i.clone=t("./clone").clone},{"./CSSDocumentRule":12,"./CSSFontFaceRule":13,"./CSSImportRule":14,"./CSSKeyframeRule":15,"./CSSKeyframesRule":16,"./CSSMediaRule":17,"./CSSRule":18,"./CSSStyleDeclaration":19,"./CSSStyleRule":20,"./CSSStyleSheet":21,"./CSSValue":22,"./CSSValueExpression":23,"./MatcherList":24,"./MediaList":25,"./StyleSheet":26,"./clone":27,"./parse":29}],29:[function(t,e,i){var n={};n.parse=function(t){for(var e,i,r,o,s,a,l,u,c,h,d=0,p="before-selector",f="",g={selector:!0,value:!0,atRule:!0,"importRule-begin":!0,importRule:!0,atBlock:!0,"documentRule-begin":!0},m=new n.CSSStyleSheet,v=m,y="",b=/@(-(?:\w+-)+)?keyframes/g,x=function(e){var i=t.substring(0,d).split("\n"),n=i.length,r=i.pop().length+1,o=new Error(e+" (line "+n+", char "+r+")");throw o.line=n,o.char=r,o.styleSheet=m,o};h=t.charAt(d);d++)switch(h){case" ":case"\t":case"\r":case"\n":case"\f":g[p]&&(f+=h);break;case'"':e=d+1;do{(e=t.indexOf('"',e)+1)||x('Unmatched "')}while("\\"===t[e-2]);switch(f+=t.slice(d,e),d=e-1,p){case"before-value":p="value";break;case"importRule-begin":p="importRule"}break;case"'":e=d+1;do{(e=t.indexOf("'",e)+1)||x("Unmatched '")}while("\\"===t[e-2]);switch(f+=t.slice(d,e),d=e-1,p){case"before-value":p="value";break;case"importRule-begin":p="importRule"}break;case"/":"*"===t.charAt(d+1)?(d+=2,e=t.indexOf("*/",d),-1===e?x("Missing */"):d=e+1):f+=h,"importRule-begin"===p&&(f+=" ",p="importRule");break;case"@":if(t.indexOf("@-moz-document",d)===d){p="documentRule-begin",c=new n.CSSDocumentRule,c.__starts=d,d+="-moz-document".length,f="";break}if(t.indexOf("@media",d)===d){p="atBlock",s=new n.CSSMediaRule,s.__starts=d,d+="media".length,f="";break}if(t.indexOf("@import",d)===d){p="importRule-begin",d+="import".length,f+="@import";break}if(t.indexOf("@font-face",d)===d){p="fontFaceRule-begin",d+="font-face".length,l=new n.CSSFontFaceRule,l.__starts=d,f="";break}b.lastIndex=d;var w=b.exec(t);if(w&&w.index===d){p="keyframesRule-begin",u=new n.CSSKeyframesRule,u.__starts=d,u._vendorPrefix=w[1],d+=w[0].length-1,f="";break}"selector"===p&&(p="atRule"),f+=h;break;case"{":"selector"===p||"atRule"===p?(o.selectorText=f.trim(),o.style.__starts=d,f="",p="before-name"):"atBlock"===p?(s.media.mediaText=f.trim(),v=i=s,s.parentStyleSheet=m,f="",p="before-selector"):"fontFaceRule-begin"===p?(i&&(l.parentRule=i),l.parentStyleSheet=m,o=l,f="",p="before-name"):"keyframesRule-begin"===p?(u.name=f.trim(),i&&(u.parentRule=i),u.parentStyleSheet=m,v=i=u,f="",p="keyframeRule-begin"):"keyframeRule-begin"===p?(o=new n.CSSKeyframeRule,o.keyText=f.trim(),o.__starts=d,f="",p="before-name"):"documentRule-begin"===p&&(c.matcher.matcherText=f.trim(),i&&(c.parentRule=i),v=i=c,c.parentStyleSheet=m,f="",p="before-selector");break;case":":"name"===p?(r=f.trim(),f="",p="before-value"):f+=h;break;case"(":if("value"===p)if("expression"===f.trim()){var S=new n.CSSValueExpression(t,d).parse();S.error?x(S.error):(f+=S.expression,d=S.idx)}else p="value-parenthesis",f+=h;else f+=h;break;case")":"value-parenthesis"===p&&(p="value"),f+=h;break;case"!":"value"===p&&t.indexOf("!important",d)===d?(y="important",d+="important".length):f+=h;break;case";":switch(p){case"value":o.style.setProperty(r,f.trim(),y),y="",f="",p="before-name";break;case"atRule":f="",p="before-selector";break;case"importRule":a=new n.CSSImportRule,a.parentStyleSheet=a.styleSheet.parentStyleSheet=m,a.cssText=f+h,m.cssRules.push(a),f="",p="before-selector";break;default:f+=h}break;case"}":switch(p){case"value":o.style.setProperty(r,f.trim(),y),y="";case"before-name":case"name":o.__ends=d+1,i&&(o.parentRule=i),o.parentStyleSheet=m,v.cssRules.push(o),f="",p=v.constructor===n.CSSKeyframesRule?"keyframeRule-begin":"before-selector";break;case"keyframeRule-begin":case"before-selector":case"selector":i||x("Unexpected }"),v.__ends=d+1,m.cssRules.push(v),v=m,i=null,f="",p="before-selector"}break;default:switch(p){case"before-selector":p="selector",o=new n.CSSStyleRule,o.__starts=d;break;case"before-name":p="name";break;case"before-value":p="value";break;case"importRule-begin":p="importRule"}f+=h}return m},i.parse=n.parse,n.CSSStyleSheet=t("./CSSStyleSheet").CSSStyleSheet,n.CSSStyleRule=t("./CSSStyleRule").CSSStyleRule,n.CSSImportRule=t("./CSSImportRule").CSSImportRule,n.CSSMediaRule=t("./CSSMediaRule").CSSMediaRule,n.CSSFontFaceRule=t("./CSSFontFaceRule").CSSFontFaceRule,n.CSSStyleDeclaration=t("./CSSStyleDeclaration").CSSStyleDeclaration,n.CSSKeyframeRule=t("./CSSKeyframeRule").CSSKeyframeRule,n.CSSKeyframesRule=t("./CSSKeyframesRule").CSSKeyframesRule,n.CSSValueExpression=t("./CSSValueExpression").CSSValueExpression,n.CSSDocumentRule=t("./CSSDocumentRule").CSSDocumentRule},{"./CSSDocumentRule":12,"./CSSFontFaceRule":13,"./CSSImportRule":14,"./CSSKeyframeRule":15,"./CSSKeyframesRule":16,"./CSSMediaRule":17,"./CSSStyleDeclaration":19,"./CSSStyleRule":20,"./CSSStyleSheet":21,"./CSSValueExpression":23}],30:[function(t,e,i){var n=t("./cssSupport"),r=function(t){var e=/^[\t\r\f\n ]*(.+?)[\t\r\f\n ]*$/;return t.replace(e,"$1")};i.extractCssUrl=function(t){var e,i=/^url\(([^\)]+)\)/;if(!i.test(t))throw new Error("Invalid url");return e=i.exec(t)[1],n.unquoteString(r(e))};var o=function(t){var e,i="(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+)",n="(?:\\s*"+i+")+",r=new RegExp(n,"g"),o=[];if(t.match(new RegExp("^\\s*((?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+)(?:\\s*,\\s*((?:\\s*(url\\(\\s*(?:\"[^\"]*\"|'[^']*'|[^\\(]+)\\s*\\)|[^,\\s]+))+))*\\s*$"))){for(e=r.exec(t);e;)o.push(function(t){var e,n=new RegExp(i,"g"),r=[];for(e=n.exec(t);e;)r.push(e[1]),e=n.exec(t);return r}(e[0])),e=r.exec(t);return o}return[]},s=function(t){var e,n;for(e=0;e<t.length;e++)try{return n=i.extractCssUrl(t[e]),{url:n,idx:e}}catch(t){}};i.parse=function(t){return o(t).map(function(t){var e=s(t);return e?{preUrl:t.slice(0,e.idx),url:e.url,postUrl:t.slice(e.idx+1)}:{preUrl:t}})},i.serialize=function(t){return t.map(function(t){var e=[].concat(t.preUrl);return t.url&&e.push('url("'+t.url+'")'),t.postUrl&&(e=e.concat(t.postUrl)),e.join(" ")}).join(", ")}},{"./cssSupport":31}],31:[function(t,e,i){"use strict";var n;try{n=t("cssom")}catch(t){}i.unquoteString=function(t){var e=/^"(.*)"$/,i=/^'(.*)'$/;return e.test(t)?t.replace(e,"$1"):i.test(t)?t.replace(i,"$1"):t};var r=function(t){var e,i=document.implementation.createHTMLDocument(""),n=document.createElement("style");return n.textContent=t,i.body.appendChild(n),e=n.sheet.cssRules,Array.prototype.slice.call(e)},o=function(){var t=r("a{background:url(i)}");return!t.length||t[0].cssText.indexOf("url()")>=0}(),s=function(){var t=r('@font-face { font-family: "f"; src: url("f"); }');return!t.length||/url\(['"]*\)/.test(t[0].cssText)}(),a=function(){var t=r("a{background:url(old)}");return t[0].style.setProperty("background","url(new)",""),t[0].style.getPropertyValue("background").indexOf("old")>=0}();i.rulesForCssText=function(t){return(o||s||a)&&n&&n.parse?n.parse(t).cssRules:r(t)},i.cssRulesToText=function(t){return t.reduce(function(t,e){return t+e.cssText},"")},i.exchangeRule=function(t,e,n){t[t.indexOf(e)]=i.rulesForCssText(n)[0]},i.changeFontFaceRuleSrc=function(t,e,n){var r="@font-face { font-family: "+e.style.getPropertyValue("font-family")+"; ";e.style.getPropertyValue("font-style")&&(r+="font-style: "+e.style.getPropertyValue("font-style")+"; "),e.style.getPropertyValue("font-weight")&&(r+="font-weight: "+e.style.getPropertyValue("font-weight")+"; "),r+="src: "+n+"}",i.exchangeRule(t,e,r)}},{cssom:28}],32:[function(t,e,i){"use strict";var n=t("./util"),r=t("./inlineImage"),o=t("./inlineScript"),s=t("./inlineCss"),a=t("./cssSupport"),l=function(t){return n.joinUrl(t,".")},u=function(t){return t.map(function(e,i){return i===t.length-1&&(e={baseUrl:l(e.baseUrl)}),JSON.stringify(e)})},c=function(t,e){return!1!==e.cache&&"none"!==e.cache&&e.cacheBucket?n.memoize(t,u,e.cacheBucket):t},h=function(t,e,i){var n=a.rulesForCssText(t);return s.loadCSSImportsForRules(n,e,i).then(function(e){return s.loadAndInlineCSSResourcesForRules(n,i).then(function(i){var r=e.errors.concat(i.errors),o=e.hasChanges||i.hasChanges;return o&&(t=a.cssRulesToText(n)),{hasChanges:o,content:t,errors:r}})})},d=function(t,e,i){var r=t.textContent;return c(h,e)(r,i,e).then(function(e){return e.hasChanges&&(t.childNodes[0].nodeValue=e.content),n.cloneArray(e.errors)})},p=function(t){var e=t.getElementsByTagName("style");return Array.prototype.filter.call(e,function(t){return!t.attributes.type||"text/css"===t.attributes.type.value})};i.loadAndInlineStyles=function(t,e){var i,r=p(t),o=[],s=[];return i=n.clone(e),i.baseUrl=i.baseUrl||n.getDocumentBaseUrl(t),n.all(r.map(function(t){return d(t,i,s).then(function(t){o=o.concat(t)})})).then(function(){return o})};var f=function(t,e){var i,n=t.parentNode;e=e.trim(),e&&(i=t.ownerDocument.createElement("style"),i.type="text/css",i.appendChild(t.ownerDocument.createTextNode(e)),n.insertBefore(i,t)),n.removeChild(t)},g=function(t,e){return n.ajax(t,e).then(function(t){return{content:t,cssRules:a.rulesForCssText(t)}}).then(function(e){var i=s.adjustPathsOfCssResources(t,e.cssRules);return{content:e.content,cssRules:e.cssRules,hasChanges:i}}).then(function(t){return s.loadCSSImportsForRules(t.cssRules,[],e).then(function(e){return{content:t.content,cssRules:t.cssRules,hasChanges:t.hasChanges||e.hasChanges,errors:e.errors}})}).then(function(t){return s.loadAndInlineCSSResourcesForRules(t.cssRules,e).then(function(e){return{content:t.content,cssRules:t.cssRules,hasChanges:t.hasChanges||e.hasChanges,errors:t.errors.concat(e.errors)}})}).then(function(t){var e=t.content;return t.hasChanges&&(e=a.cssRulesToText(t.cssRules)),{content:e,errors:t.errors}})},m=function(t,e){var i=t.attributes.href.value,r=n.getDocumentBaseUrl(t.ownerDocument),o=n.clone(e);return!o.baseUrl&&r&&(o.baseUrl=r),c(g,e)(i,o).then(function(t){return{content:t.content,errors:n.cloneArray(t.errors)}})},v=function(t){var e=t.getElementsByTagName("link");return Array.prototype.filter.call(e,function(t){return t.attributes.rel&&"stylesheet"===t.attributes.rel.value&&(!t.attributes.type||"text/css"===t.attributes.type.value)})};i.loadAndInlineCssLinks=function(t,e){var i=v(t),r=[];return n.all(i.map(function(t){return m(t,e).then(function(e){f(t,e.content+"\n"),r=r.concat(e.errors)},function(t){r.push({resourceType:"stylesheet",url:t.url,msg:"Unable to load stylesheet "+t.url})})})).then(function(){return r})},i.loadAndInlineImages=r.inline,i.loadAndInlineScript=o.inline,i.inlineReferences=function(t,e){var r=[],o=[i.loadAndInlineImages,i.loadAndInlineStyles,i.loadAndInlineCssLinks];return!1!==e.inlineScripts&&o.push(i.loadAndInlineScript),n.all(o.map(function(i){return i(t,e).then(function(t){r=r.concat(t)})})).then(function(){return r})}},{"./cssSupport":31,"./inlineCss":33,"./inlineImage":34,"./inlineScript":35,"./util":36}],33:[function(t,e,i){"use strict";var n=t("ayepromise"),r=t("./util"),o=t("./cssSupport"),s=t("./backgroundValueParser"),a=t("css-font-face-src"),l=function(t,e,i){t.style.setProperty(e,i,t.style.getPropertyPriority(e))},u=function(t){return t.filter(function(t){return t.type===window.CSSRule.STYLE_RULE&&(t.style.getPropertyValue("background-image")||t.style.getPropertyValue("background"))})},c=function(t){var e=[];return t.forEach(function(t){t.style.getPropertyValue("background-image")?e.push({property:"background-image",value:t.style.getPropertyValue("background-image"),rule:t}):t.style.getPropertyValue("background")&&e.push({property:"background",value:t.style.getPropertyValue("background"),rule:t})}),e},h=function(t){return t.filter(function(t){return t.type===window.CSSRule.FONT_FACE_RULE&&t.style.getPropertyValue("src")})},d=function(t){return t.filter(function(t){return t.type===window.CSSRule.IMPORT_RULE&&t.href})},p=function(t){var e=[];return t.forEach(function(t,i){t.url&&!r.isDataUri(t.url)&&e.push(i)}),e},f=function(t){var e=[];return t.forEach(function(t,i){t.url&&!r.isDataUri(t.url)&&e.push(i)}),e};i.adjustPathsOfCssResources=function(t,e){var i=u(e),n=c(i),g=!1;return n.forEach(function(e){var i,n=s.parse(e.value),o=p(n);o.length>0&&(o.forEach(function(e){var i=n[e].url,o=r.joinUrl(t,i);n[e].url=o}),i=s.serialize(n),l(e.rule,e.property,i),g=!0)}),h(e).forEach(function(i){var n,s,l=i.style.getPropertyValue("src");try{n=a.parse(l)}catch(t){return}s=f(n),s.length>0&&(s.forEach(function(e){var i=n[e].url,o=r.joinUrl(t,i);n[e].url=o}),o.changeFontFaceRuleSrc(e,i,a.serialize(n)),g=!0)}),d(e).forEach(function(i){var n=i.href,s=r.joinUrl(t,n);o.exchangeRule(e,i,"@import url("+s+");"),g=!0}),g};var g=function(t,e,i){var n=t.indexOf(e);t.splice(n,1),i.forEach(function(e,i){t.splice(n+i,0,e)})},m=function(t){var e=n.defer();return e.resolve(t),e.promise},v=function(t,e,n,s){var a,l=e.href;return l=o.unquoteString(l),a=r.joinUrl(s.baseUrl,l),n.indexOf(a)>=0?(g(t,e,[]),m([])):(n.push(a),r.ajax(l,s).then(function(r){var a=o.rulesForCssText(r);return i.loadCSSImportsForRules(a,n,s).then(function(n){return i.adjustPathsOfCssResources(l,a),g(t,e,a),n.errors})},function(t){throw{resourceType:"stylesheet",url:t.url,msg:"Unable to load stylesheet "+t.url}}))};i.loadCSSImportsForRules=function(t,e,i){var n=d(t),o=[],s=!1;return r.all(n.map(function(n){return v(t,n,e,i).then(function(t){o=o.concat(t),s=!0},function(t){o.push(t)})})).then(function(){return{hasChanges:s,errors:o}})};var y=function(t,e){var i=s.parse(t),n=p(i),o=!1;return r.collectAndReportErrors(n.map(function(t){var n=i[t].url;return r.getDataURIForImageURL(n,e).then(function(e){i[t].url=e,o=!0},function(t){throw{resourceType:"backgroundImage",url:t.url,msg:"Unable to load background-image "+t.url}})})).then(function(t){return{backgroundValue:s.serialize(i),hasChanges:o,errors:t}})},b=function(t,e){var i=u(t),n=c(i),o=[],s=!1;return r.all(n.map(function(t){return y(t.value,e).then(function(e){e.hasChanges&&(l(t.rule,t.property,e.backgroundValue),s=!0),o=o.concat(e.errors)})})).then(function(){return{hasChanges:s,errors:o}})},x=function(t,e){var i,n,o=!1;try{i=a.parse(t)}catch(t){i=[]}return n=f(i),r.collectAndReportErrors(n.map(function(t){var n=i[t],s=n.format||"woff";return r.binaryAjax(n.url,e).then(function(t){var e=btoa(t);n.url="data:font/"+s+";base64,"+e,o=!0},function(t){throw{resourceType:"fontFace",url:t.url,msg:"Unable to load font-face "+t.url}})})).then(function(t){return{srcDeclarationValue:a.serialize(i),hasChanges:o,errors:t}})},w=function(t,e){var i=h(t),n=[],s=!1;return r.all(i.map(function(i){var r=i.style.getPropertyValue("src");return x(r,e).then(function(e){e.hasChanges&&(o.changeFontFaceRuleSrc(t,i,e.srcDeclarationValue),s=!0),n=n.concat(e.errors)})})).then(function(){return{hasChanges:s,errors:n}})};i.loadAndInlineCSSResourcesForRules=function(t,e){var i=!1,n=[];return r.all([b,w].map(function(r){return r(t,e).then(function(t){i=i||t.hasChanges,n=n.concat(t.errors)})})).then(function(){return{hasChanges:i,errors:n}})}},{"./backgroundValueParser":30,"./cssSupport":31,"./util":36,ayepromise:8,"css-font-face-src":10}],34:[function(t,e,i){"use strict";var n=t("./util"),r=function(t,e){var i=null;t.hasAttribute("src")?i=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?i=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(i=t.getAttribute("href"));var r=n.getDocumentBaseUrl(t.ownerDocument),o=n.clone(e);return!o.baseUrl&&r&&(o.baseUrl=r),n.getDataURIForImageURL(i,o).then(function(t){return t},function(t){throw{resourceType:"image",url:t.url,msg:"Unable to load image "+t.url}})},o=function(t){return t.filter(function(t){var e=null;return t.hasAttribute("src")?e=t.getAttribute("src"):t.hasAttributeNS("http://www.w3.org/1999/xlink","href")?e=t.getAttributeNS("http://www.w3.org/1999/xlink","href"):t.hasAttribute("href")&&(e=t.getAttribute("href")),null!==e&&!n.isDataUri(e)})},s=function(t){return Array.prototype.filter.call(t,function(t){return"image"===t.type})},a=function(t){return Array.prototype.slice.call(t)};i.inline=function(t,e){var i=a(t.getElementsByTagName("img")),l=a(t.getElementsByTagName("image")),u=s(t.getElementsByTagName("input"));i=i.concat(l),i=i.concat(u);var c=o(i);return n.collectAndReportErrors(c.map(function(t){return r(t,e).then(function(e){t.attributes.src?t.attributes.src.value=e:t.attributes["xlink:href"]?t.attributes["xlink:href"].value=e:t.attributes.href&&(t.attributes.href.value=e)})}))}},{"./util":36}],35:[function(t,e,i){"use strict";var n=t("./util"),r=function(t,e){var i=t.attributes.src.value,r=n.getDocumentBaseUrl(t.ownerDocument),o=n.clone(e);return!o.baseUrl&&r&&(o.baseUrl=r),n.ajax(i,o).fail(function(t){throw{resourceType:"script",url:t.url,msg:"Unable to load script "+t.url}})},o=function(t){return t.replace(/<\//g,"<\\/")},s=function(t,e){t.attributes.removeNamedItem("src"),t.textContent=o(e)},a=function(t){var e=t.getElementsByTagName("script");return Array.prototype.filter.call(e,function(t){return!!t.attributes.src})};i.inline=function(t,e){var i=a(t);return n.collectAndReportErrors(i.map(function(t){return r(t,e).then(function(e){s(t,e)})}))}},{"./util":36}],36:[function(t,e,i){"use strict";var n=t("url"),r=t("ayepromise");i.getDocumentBaseUrl=function(t){return"about:blank"!==t.baseURI?t.baseURI:null},i.clone=function(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i},i.cloneArray=function(t){return Array.prototype.slice.apply(t,[0])},i.joinUrl=function(t,e){return t?n.resolve(t,e):e},i.isDataUri=function(t){return/^data:/.test(t)},i.all=function(t){var e=r.defer(),i=t.length,n=[];return 0===t.length?(e.resolve([]),e.promise):(t.forEach(function(t,r){t.then(function(t){i-=1,n[r]=t,0===i&&e.resolve(n)},function(t){e.reject(t)})}),e.promise)},i.collectAndReportErrors=function(t){var e=[];return i.all(t.map(function(t){return t.fail(function(t){e.push(t)})})).then(function(){return e})};var o=null,s=function(t,e){return!1===e||"none"===e||"repeated"===e?(null!==o&&"repeated"===e||(o=Date.now()),t+"?_="+o):t};i.ajax=function(t,e){var n,o=new window.XMLHttpRequest,a=r.defer(),l=i.joinUrl(e.baseUrl,t),u=function(){a.reject({msg:"Unable to load url",url:l})};n=s(l,e.cache),o.addEventListener("load",function(){200===o.status||0===o.status?a.resolve(o.response):u()},!1),o.addEventListener("error",u,!1);try{o.open("GET",n,!0),o.overrideMimeType(e.mimeType),o.send(null)}catch(t){u()}return a.promise},i.binaryAjax=function(t,e){var n=i.clone(e);return n.mimeType="text/plain; charset=x-user-defined",i.ajax(t,n).then(function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(255&t.charCodeAt(i));return e})};var a=function(t){
var e=function(t,e){return t.substring(0,e.length)===e};return e(t,"<?xml")||e(t,"<svg")?"image/svg+xml":"image/png"};i.getDataURIForImageURL=function(t,e){return i.binaryAjax(t,e).then(function(t){var e=btoa(t);return"data:"+a(t)+";base64,"+e})};var l=[],u=function(t){return l.indexOf(t)<0&&l.push(t),l.indexOf(t)};i.memoize=function(t,e,i){if("object"!=typeof i)throw new Error("cacheBucket is not an object");return function(){var n,r=Array.prototype.slice.call(arguments),o=e(r),s=u(t);return i[s]&&i[s][o]?i[s][o]:(n=t.apply(null,r),i[s]=i[s]||{},i[s][o]=n,n)}}},{ayepromise:8,url:6}],37:[function(t,e,i){"use strict";var n=function(t){var e=new XMLSerializer;return Array.prototype.map.call(t.childNodes,function(t){return e.serializeToString(t)}).join("")},r=function(t){return"parsererror"===t.documentElement.tagName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"===t.documentElement.namespaceURI?t.documentElement:("xml"===t.documentElement.tagName||"html"===t.documentElement.tagName)&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&"parsererror"===t.documentElement.childNodes[0].nodeName?t.documentElement.childNodes[0]:"html"===t.documentElement.tagName&&t.documentElement.childNodes&&t.documentElement.childNodes.length>0&&"body"===t.documentElement.childNodes[0].nodeName&&t.documentElement.childNodes[0].childNodes&&t.documentElement.childNodes[0].childNodes.length&&"parsererror"===t.documentElement.childNodes[0].childNodes[0].nodeName?t.documentElement.childNodes[0].childNodes[0]:void 0},o=[new RegExp("^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\n?</div>"),new RegExp("^(.+)\n")],s=function(t){var e,i,r=n(t);for(e=0;e<o.length;e++)if(i=o[e].exec(r))return i[1]},a=function(t){var e;if(null===t)throw new Error("Parse error");var i=r(t);if(void 0!==i)throw e=s(i)||"Parse error",new Error(e)};i.failOnParseError=function(t){return a(t),t}},{}],38:[function(e,i,n){!function(e,n){"function"==typeof t&&t.amd?t([],n):"object"==typeof i&&i.exports?i.exports=n():e.xmlserializer=n()}(this,function(){var t=function(t){return t.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F]/g,"")},e=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},i=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n=function(t){var i=t.value;return" "+t.name+'="'+e(i)+'"'},r=function(t){var e=t.tagName;return"http://www.w3.org/1999/xhtml"===t.namespaceURI&&(e=e.toLowerCase()),e},o=function(t,e){return Array.prototype.map.call(t.attributes||t.attrs,function(t){return t.name}).indexOf("xmlns")>=0||!e&&t.namespaceURI===t.parentNode.namespaceURI?"":' xmlns="'+t.namespaceURI+'"'},s=function(t){return Array.prototype.map.call(t.childNodes,function(t){return h(t)}).join("")},a=function(t,e){var i="<"+r(t);return i+=o(t,e),Array.prototype.forEach.call(t.attributes||t.attrs,function(t){i+=n(t)}),t.childNodes.length>0?(i+=">",i+=s(t),i+="</"+r(t)+">"):i+="/>",i},l=function(t){var e=t.nodeValue||t.value||"";return i(e)},u=function(t){return"\x3c!--"+t.data.replace(/-/g,"&#45;")+"--\x3e"},c=function(t){return"<![CDATA["+t.nodeValue+"]]>"},h=function(t,e){var i=e&&e.rootNode;return"#document"===t.nodeName||"#document-fragment"===t.nodeName?s(t):t.tagName?a(t,i):"#text"===t.nodeName?l(t):"#comment"===t.nodeName?u(t):"#cdata-section"===t.nodeName?c(t):void 0};return{serializeToString:function(e){return t(h(e,{rootNode:!0}))}}})},{}]},{},[1])(1)}),define("stats/image-converter",["require","rasterize-html"],function(t){"use strict";var e=t("rasterize-html");return{htmlToDataUrl:function(t,i){var n=document.createElement("canvas");return n.width=i.mediaWidth,n.height=i.height,new Promise(function(r,o){e.drawHTML(t,n,{cache:"repeated"}).then(function(){var t=document.createElement("canvas");t.width=i.width,t.height=i.height,t.getContext("2d").drawImage(n,0,0),r(t.toDataURL("image/png"))},o)})},dataUrlToRawString:function(t){for(var e=atob(t.split(",")[1]),i=e.length,n="",r=0;r<i;r++){var o=255&e.charCodeAt(r);n+=String.fromCharCode(o)}return n}}}),define("stats/rolling-numbers",["require","jquery","stats/animation-loop"],function(t){"use strict";var e=t("jquery"),i=t("stats/animation-loop"),n=function(t,e,i,n,r){this.$el=t,this.stepSize=e,this.endValue=i,this.currentValue=n,this.lang=r,this.renderNumber(n)};n.prototype.renderNumber=function(t){this.$el.text(parseInt(t).toLocaleString(this.lang))},n.prototype.update=function(t){var e=Math.floor(t/50)*this.stepSize;e!=this.currentValue&&(this.currentValue=e,this.renderNumber(Math.min(this.currentValue,this.endValue)))};var r=function(t,e){this.$el=t,this.app=e};return r.prototype.start=function(){var t=this.app.lang(),r=this.$el.find(".js-ticker");this.tickers=r.map(function(){var i=e(this),r=i.data("value");return new n(i,(r-0)/20,r,0,t)}).get(),this.animationLoop=new i(this.animationLoopFn.bind(this)),this.animateTickers()},r.prototype.stop=function(){this.animationLoop&&this.animationLoop.stop()},r.prototype.animationLoopFn=function(t){this.tickers.forEach(function(e){e.update(t)}),t>=1e3&&this.animationLoop.stop()},r.prototype.animateTickers=function(){this.animationLoop.start()},r}),define("stats/canvastodataurl-check",["require","rasterize-html","jquery"],function(t){"use strict";var e=t("rasterize-html"),i=t("jquery"),n=document.createElement("canvas");e.drawHTML("<p>Test</p>",n).then(function(){try{n.toDataURL("image/png"),i("html").addClass("canvastodataurl")}catch(t){i("html").addClass("no-canvastodataurl")}})}),define("stats/base-v2",["require","jquery","lodash","core/browser-api","stats/image-converter","stats/rolling-numbers","social/facebook","social/twitter","on-screen","modernizr","stats/canvastodataurl-check"],function(t){"use strict";var e=t("jquery"),i=(t("lodash"),t("core/browser-api")),n=t("stats/image-converter"),r=t("stats/rolling-numbers"),o=t("social/facebook"),s=t("social/twitter"),a=t("on-screen"),l=0;t("modernizr"),t("stats/canvastodataurl-check");var u=function(t,i){this.$el=t,this.app=i,this.rollingNumbers=new r(t,i),this.shareTemplate=e(".js-shareable-image-template").html()};return u.prototype.start=function(){o.init(this.app.facebookAppId());var t=this.share.bind(this,o.login,o.login),e=this.share.bind(this,s.authenticate,s.reauthenticate);this.$el.on("click.stats",".js-share-facebook",t),this.$el.on("click.stats",".js-share-twitter",e),this.$el.on("click.stats",".js-share-download",this.download.bind(this)),this.$loading=this.$el.find(".js-user-dashboard-module-share-loading"),this.$error=this.$el.find(".js-user-dashboard-module-share-error"),this.$authError=this.$el.find(".js-user-dashboard-module-share-auth-error");var i=this.enforceId();this.onScreen=new a({tolerance:this.$el.outerHeight()/3,container:this.scrollContainer||window}),this.isVisible=!1,this.onScreen.on("enter","#"+i,this.moduleVisible.bind(this))},u.prototype.moduleVisible=function(){this.isVisible||(this.onScreen.destroy(),this.onVisible(),this.rollingNumbers.start(),this.isVisible=!0)},u.prototype.onVisible=function(){},u.prototype.share=function(t,i,n){this.hideError(),this.hideAuthError(),this.showLoading();var r=e(n.target),o=r.data("user-dashboard-share-url"),s=r.data("user-dashboard-share-message").trim(),a=t();a.catch(this.showAuthError.bind(this)),Promise.all([this.startConversion(),a]).then(function(t){this.shareModal(o,t[0],s,i)}.bind(this)).catch(this.hideLoading.bind(this))},u.prototype.download=function(t){this.hideError(),this.hideAuthError(),this.showLoading();var i=e(t.target),n=this.$el.find(".js-user-dashboard-module-title").text().trim();n+=".png",this.startConversion().then(this.startDownload.bind(this,i,n)).catch(function(){this.hideLoading()}.bind(this))},u.prototype.startDownload=function(t,e,n){this.hideLoading(),i.download(n,e),t.addClass("share-download--success"),setTimeout(function(t){t.trigger("disclose-close"),t.removeClass("share-download--success")}.bind(this,t),2e3)},u.prototype.startConversion=function(){return this.conversion?this.conversion:(this.conversion=this.convertToDataUrl(),this.conversion.catch(function(){delete this.conversion,this.showError()}.bind(this)),this.conversion)},u.prototype.convertToDataUrl=function(){var t=this.shareDimensions();return n.htmlToDataUrl(this.exportableHtml(t.width,t.height),t)},u.prototype.shareDimensions=function(){this.$el.addClass("user-dashboard-module--measure");var t={width:this.$el.innerWidth(),height:this.$el.innerHeight(),mediaWidth:window.innerWidth};return this.$el.removeClass("user-dashboard-module--measure"),t},u.prototype.shareModal=function(t,e,i,n){this.app.modal.open(t,{post:{image:e,message:i},actions:{reauthenticate:n},onclose:this.hideLoading.bind(this)})},u.prototype.exportableHtml=function(t,i){var n=e(this.shareTemplate),r=n.find(".js-module-wrapper"),o=this.$el.clone();return o.innerWidth(t),o.innerHeight(i),r.innerWidth(t),r.innerHeight(i),r.append(o),n.get(0).innerHTML},u.prototype.showLoading=function(){this.$loading.removeClass("user-dashboard-module-share-message-hidden")},u.prototype.hideLoading=function(){this.$loading.addClass("user-dashboard-module-share-message-hidden")},u.prototype.showError=function(){this.$error.removeClass("user-dashboard-module-share-message-hidden")},u.prototype.hideError=function(){this.$error.addClass("user-dashboard-module-share-message-hidden")},u.prototype.showAuthError=function(){this.$authError.removeClass("user-dashboard-module-share-message-hidden")},u.prototype.hideAuthError=function(){this.$authError.addClass("user-dashboard-module-share-message-hidden")},u.prototype.stop=function(){this.$el.off("click.stats"),this.onScreen&&this.onScreen.destroy(),this.rollingNumbers.stop()},u.prototype.enforceId=function(){var t=this.$el.attr("id");return t||(t="user-stats-module-"+l++,this.$el.attr("id",t),t)},u}),define("stats/data-loader",["require","jquery"],function(t){"use strict";function e(t,e){return("number"==e?Number:String)(t)}var i=t("jquery");return{load:function(t){var n=[],r=[];return t.find("th[data-col-name]").each(function(){var t=i(this);r.push({name:t.data("colName"),type:t.data("colType")})}),t.find("tbody tr").each(function(){var t=i(this),o={};t.find("td").each(function(t){var n=i(this),s=r[t].name;o[s]=e(n.text().trim(),r[t].type),o=i.extend(o,n.data())}),n.push(o)}),n}}}),define("stats/discovery",["require","stats/base-v2"],function(t){"use strict";var e=t("stats/base-v2"),i=function(t,i){e.call(this,t,i)};return i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.onVisible=function(){this.$el.find(".horizontal-gauge-fill--paused").removeClass("horizontal-gauge-fill--paused")},i}),function(t,e){"function"==typeof define&&define.amd?define("svg-js",[],function(){return e(t,t.document)}):"object"==typeof exports?module.exports=t.document?e(t,t.document):function(t){return e(t,t.document)}:t.SVG=e(t,t.document)}("undefined"!=typeof window?window:this,function(t,e){function i(t,e){return t instanceof e}function n(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector).call(t,e)}function r(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function s(t){return 4==t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function a(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function l(t,e,i){if(null==e||null==i){var n=t.bbox();null==e?e=n.width/n.height*i:null==i&&(i=n.height/n.width*e)}return{width:e,height:i}}function u(t,e,i){return{x:e*t.a+i*t.c+0,y:e*t.b+i*t.d+0}}function c(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function h(t){return t instanceof y.Matrix||(t=new y.Matrix(t)),t}function d(t,e){t.cx=null==t.cx?e.bbox().cx:t.cx,t.cy=null==t.cy?e.bbox().cy:t.cy}function p(t){return t=t.replace(y.regex.whitespace,"").replace(y.regex.matrix,"").split(y.regex.matrixElements),c(y.utils.map(t,function(t){return parseFloat(t)}))}function f(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e][0],null!=t[e][1]&&(n+=t[e][1],null!=t[e][2]&&(n+=" ",n+=t[e][2],null!=t[e][3]&&(n+=" ",n+=t[e][3],n+=" ",n+=t[e][4],null!=t[e][5]&&(n+=" ",n+=t[e][5],n+=" ",n+=t[e][6],null!=t[e][7]&&(n+=" ",n+=t[e][7])))));return n+" "}function g(t){for(var e=t.childNodes.length-1;e>=0;e--)t.childNodes[e]instanceof SVGElement&&g(t.childNodes[e]);return y.adopt(t).id(y.eid(t.nodeName))}function m(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function v(t){var e=t.toString().match(y.regex.reference);if(e)return e[1]}var y=this.SVG=function(t){if(y.supported)return t=new y.Doc(t),y.parser.draw||y.prepare(),t};if(y.ns="http://www.w3.org/2000/svg",y.xmlns="http://www.w3.org/2000/xmlns/",y.xlink="http://www.w3.org/1999/xlink",y.svgjs="http://svgjs.com/svgjs",y.supported=function(){return!!e.createElementNS&&!!e.createElementNS(y.ns,"svg").createSVGRect}(),!y.supported)return!1;y.did=1e3,y.eid=function(t){return"Svgjs"+o(t)+y.did++},y.create=function(t){var i=e.createElementNS(this.ns,t);return i.setAttribute("id",this.eid(t)),i},y.extend=function(){var t,e,i,n;for(t=[].slice.call(arguments),e=t.pop(),n=t.length-1;n>=0;n--)if(t[n])for(i in e)t[n].prototype[i]=e[i];y.Set&&y.Set.inherit&&y.Set.inherit()},y.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,y.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&y.extend(e,t.extend),t.construct&&y.extend(t.parent||y.Container,t.construct),e},y.adopt=function(t){if(!t)return null;if(t.instance)return t.instance;var e;return e="svg"==t.nodeName?t.parentNode instanceof SVGElement?new y.Nested:new y.Doc:"linearGradient"==t.nodeName?new y.Gradient("linear"):"radialGradient"==t.nodeName?new y.Gradient("radial"):y[o(t.nodeName)]?new(y[o(t.nodeName)]):new y.Element(t),e.type=t.nodeName,e.node=t,t.instance=e,e instanceof y.Doc&&e.namespace().defs(),e.setData(JSON.parse(t.getAttribute("svgjs:data"))||{}),e},y.prepare=function(){var t=e.getElementsByTagName("body")[0],i=(t?new y.Doc(t):new y.Doc(e.documentElement).nested()).size(2,0);y.parser={body:t||e.documentElement,draw:i.style("opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),poly:i.polyline().node,path:i.path().node,native:y.create("svg")}},y.parser={native:y.create("svg")},e.addEventListener("DOMContentLoaded",function(){y.parser.draw||y.prepare()},!1),y.regex={numberAndUnit:/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,matrix:/matrix\(|\)/g,matrixElements:/,*\s+|,/,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,negExp:/e\-/gi,comma:/,/g,hyphen:/\-/g,pathLetters:/[MLHVCSQTAZ]/gi,isPathLetter:/[MLHVCSQTAZ]/i,whitespaces:/\s+/,X:/X/g},y.utils={map:function(t,e){var i,n=t.length,r=[];for(i=0;i<n;i++)r.push(e(t[i]));return r},filter:function(t,e){var i,n=t.length,r=[];for(i=0;i<n;i++)e(t[i])&&r.push(t[i]);return r},radians:function(t){return t%360*Math.PI/180},degrees:function(t){return 180*t/Math.PI%360},filterSVGElements:function(t){return this.filter(t,function(t){return t instanceof SVGElement})}},y.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},y.Color=function(t){var e;this.r=0,this.g=0,this.b=0,t&&("string"==typeof t?y.regex.isRgb.test(t)?(e=y.regex.rgb.exec(t.replace(/\s/g,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):y.regex.isHex.test(t)&&(e=y.regex.hex.exec(s(t)),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"==typeof t&&(this.r=t.r,this.g=t.g,this.b=t.b))},y.extend(y.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+a(this.r)+a(this.g)+a(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new y.Color(t),this},at:function(t){return this.destination?(t=t<0?0:t>1?1:t,new y.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),y.Color.test=function(t){return t+="",y.regex.isHex.test(t)||y.regex.isRgb.test(t)},y.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},y.Color.isColor=function(t){return y.Color.isRgb(t)||y.Color.test(t)},y.Array=function(t,e){t=(t||[]).valueOf(),0==t.length&&e&&(t=e.valueOf()),this.value=this.parse(t)},y.extend(y.Array,{morph:function(t){if(this.destination=this.parse(t),this.value.length!=this.destination.length){for(var e=this.value[this.value.length-1],i=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(i);for(;this.value.length<this.destination.length;)this.value.push(e)}return this},settle:function(){for(var t=0,e=this.value.length,i=[];t<e;t++)-1==i.indexOf(this.value[t])&&i.push(this.value[t]);return this.value=i},at:function(t){if(!this.destination)return this;for(var e=0,i=this.value.length,n=[];e<i;e++)n.push(this.value[e]+(this.destination[e]-this.value[e])*t);return new y.Array(n)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)},split:function(t){return t.trim().split(/\s+/)},reverse:function(){return this.value.reverse(),this}}),y.PointArray=function(t,e){this.constructor.call(this,t,e||[[0,0]])},y.PointArray.prototype=new y.Array,y.extend(y.PointArray,{toString:function(){for(var t=0,e=this.value.length,i=[];t<e;t++)i.push(this.value[t].join(","));return i.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(t){if(!this.destination)return this;for(var e=0,i=this.value.length,n=[];e<i;e++)n.push([this.value[e][0]+(this.destination[e][0]-this.value[e][0])*t,this.value[e][1]+(this.destination[e][1]-this.value[e][1])*t]);return new y.PointArray(n)},parse:function(t){var e=[];if(t=t.valueOf(),Array.isArray(t))return t;t=t.trim().split(/\s+|,/),t.length%2!=0&&t.pop();for(var i=0,n=t.length;i<n;i+=2)e.push([parseFloat(t[i]),parseFloat(t[i+1])]);return e},move:function(t,e){var i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(var n=this.value.length-1;n>=0;n--)this.value[n]=[this.value[n][0]+t,this.value[n][1]+e];return this},size:function(t,e){var i,n=this.bbox();for(i=this.value.length-1;i>=0;i--)this.value[i][0]=(this.value[i][0]-n.x)*t/n.width+n.x,this.value[i][1]=(this.value[i][1]-n.y)*e/n.height+n.y;return this},bbox:function(){return y.parser.poly.setAttribute("points",this.toString()),y.parser.poly.getBBox()}}),y.PathArray=function(t,e){this.constructor.call(this,t,e||[["M",0,0]])},y.PathArray.prototype=new y.Array,y.extend(y.PathArray,{toString:function(){return f(this.value)},move:function(t,e){var i=this.bbox();if(t-=i.x,e-=i.y,!isNaN(t)&&!isNaN(e))for(var n,r=this.value.length-1;r>=0;r--)n=this.value[r][0],"M"==n||"L"==n||"T"==n?(this.value[r][1]+=t,this.value[r][2]+=e):"H"==n?this.value[r][1]+=t:"V"==n?this.value[r][1]+=e:"C"==n||"S"==n||"Q"==n?(this.value[r][1]+=t,this.value[r][2]+=e,this.value[r][3]+=t,this.value[r][4]+=e,"C"==n&&(this.value[r][5]+=t,this.value[r][6]+=e)):"A"==n&&(this.value[r][6]+=t,this.value[r][7]+=e);return this},size:function(t,e){var i,n,r=this.bbox();for(i=this.value.length-1;i>=0;i--)n=this.value[i][0],"M"==n||"L"==n||"T"==n?(this.value[i][1]=(this.value[i][1]-r.x)*t/r.width+r.x,this.value[i][2]=(this.value[i][2]-r.y)*e/r.height+r.y):"H"==n?this.value[i][1]=(this.value[i][1]-r.x)*t/r.width+r.x:"V"==n?this.value[i][1]=(this.value[i][1]-r.y)*e/r.height+r.y:"C"==n||"S"==n||"Q"==n?(this.value[i][1]=(this.value[i][1]-r.x)*t/r.width+r.x,this.value[i][2]=(this.value[i][2]-r.y)*e/r.height+r.y,this.value[i][3]=(this.value[i][3]-r.x)*t/r.width+r.x,this.value[i][4]=(this.value[i][4]-r.y)*e/r.height+r.y,"C"==n&&(this.value[i][5]=(this.value[i][5]-r.x)*t/r.width+r.x,this.value[i][6]=(this.value[i][6]-r.y)*e/r.height+r.y)):"A"==n&&(this.value[i][1]=this.value[i][1]*t/r.width,this.value[i][2]=this.value[i][2]*e/r.height,this.value[i][6]=(this.value[i][6]-r.x)*t/r.width+r.x,this.value[i][7]=(this.value[i][7]-r.y)*e/r.height+r.y);return this},parse:function(t){if(t instanceof y.PathArray)return t.valueOf();var e,i,n,r,o,s,a=0,l=0,u={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7};if("string"==typeof t){for(t=t.replace(y.regex.negExp,"X").replace(y.regex.pathLetters," $& ").replace(y.regex.hyphen," -").replace(y.regex.comma," ").replace(y.regex.X,"e-").trim().split(y.regex.whitespaces),e=t.length;--e;)if(t[e].indexOf(".")!=t[e].lastIndexOf(".")){var c=t[e].split("."),h=[c.shift(),c.shift()].join(".");t.splice.apply(t,[e,1].concat(h,c.map(function(t){return"."+t})))}}else t=t.reduce(function(t,e){return[].concat.apply(t,e)},[]);var s=[];do{for(y.regex.isPathLetter.test(t[0])?(r=t[0],t.shift()):"M"==r?r="L":"m"==r&&(r="l"),o=[r.toUpperCase()],e=0;e<u[o[0]];++e)o.push(parseFloat(t.shift()));r==o[0]?"M"==r||"L"==r||"C"==r||"Q"==r||"S"==r||"T"==r?(a=o[u[o[0]]-1],l=o[u[o[0]]]):"V"==r?l=o[1]:"H"==r?a=o[1]:"A"==r&&(a=o[6],l=o[7]):"m"==r||"l"==r||"c"==r||"s"==r||"q"==r||"t"==r?(o[1]+=a,o[2]+=l,null!=o[3]&&(o[3]+=a,o[4]+=l),null!=o[5]&&(o[5]+=a,o[6]+=l),a=o[u[o[0]]-1],l=o[u[o[0]]]):"v"==r?(o[1]+=l,l=o[1]):"h"==r?(o[1]+=a,a=o[1]):"a"==r&&(o[6]+=a,o[7]+=l,a=o[6],l=o[7]),"M"==o[0]&&(i=a,n=l),"Z"==o[0]&&(a=i,l=n),s.push(o)}while(t.length);return s},bbox:function(){return y.parser.path.setAttribute("d",this.toString()),y.parser.path.getBBox()}}),y.Number=y.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-3.4e38:3.4e38:"string"==typeof t?(e=t.match(y.regex.numberAndUnit))&&(this.value=parseFloat(e[1]),"%"==e[5]?this.value/=100:"s"==e[5]&&(this.value*=1e3),this.unit=e[5]):t instanceof y.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},toJSON:function(){return this.toString()},valueOf:function(){return this.value},plus:function(t){return new y.Number(this+new y.Number(t),this.unit)},minus:function(t){return this.plus(-new y.Number(t))},times:function(t){return new y.Number(this*new y.Number(t),this.unit)},divide:function(t){return new y.Number(this/new y.Number(t),this.unit)},to:function(t){var e=new y.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new y.Number(t),this},at:function(t){return this.destination?new y.Number(this.destination).minus(this).times(t).plus(this):this}}}),y.Element=y.invent({create:function(t){this._stroke=y.defaults.attrs.stroke,this.dom={},(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var i=l(this,t,e);return this.width(new y.Number(i.width)).height(new y.Number(i.height))},clone:function(t){var e=g(this.node.cloneNode(!0));return t?t.add(e):this.after(e),e},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},inside:function(t,e){var i=this.bbox();return t>i.x&&e>i.y&&t<i.x+i.width&&e<i.y+i.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(/\s+/)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!=t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return y.get(this.attr(t))},parent:function(t){var e=this;if(!e.node.parentNode)return null;if(e=y.adopt(e.node.parentNode),!t)return e;for(;e&&e.node instanceof SVGElement;){if("string"==typeof t?e.matches(t):e instanceof t)return e;e=y.adopt(e.node.parentNode)}},doc:function(){return this instanceof y.Doc?this:this.parent(y.Doc)},parents:function(t){var e=[],i=this;do{if(!(i=i.parent(t))||!i.node)break;e.push(i)}while(i.parent);return e},matches:function(t){return n(this.node,t)},native:function(){return this.node},svg:function(t){var i=e.createElement("svg");if(!(t&&this instanceof y.Parent))return i.appendChild(t=e.createElement("svg")),this.writeDataToDom(),t.appendChild(this.node.cloneNode(!0)),i.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");i.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var n=0,r=i.firstChild.childNodes.length;n<r;n++)this.node.appendChild(i.firstChild.firstChild);return this},writeDataToDom:function(){if(this.each||this.lines){(this.each?this:this.lines()).each(function(){this.writeDataToDom()})}return this.node.removeAttribute("svgjs:data"),Object.keys(this.dom).length&&this.node.setAttribute("svgjs:data",JSON.stringify(this.dom)),this},setData:function(t){return this.dom=t,this},is:function(t){return i(this,t)}}}),y.easing={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return 1-Math.cos(t*Math.PI/2)}},y.morph=function(t){return function(e,i){return new y.MorphObj(e,i).at(t)}},y.Situation=y.invent({create:function(t){this.init=!1,this.reversed=!1,this.reversing=!1,this.duration=new y.Number(t.duration).valueOf(),this.delay=new y.Number(t.delay).valueOf(),this.start=+new Date+this.delay,this.finish=this.start+this.duration,this.ease=t.ease,this.loop=0,this.loops=!1,this.animations={},this.attrs={},this.styles={},this.transforms=[],this.once={}}}),y.FX=y.invent({create:function(t){this._target=t,this.situations=[],this.active=!1,this.situation=null,this.paused=!1,this.lastPos=0,this.pos=0,this.absPos=0,this._speed=1},extend:{animate:function(t,e,i){"object"==typeof t&&(e=t.ease,i=t.delay,t=t.duration);var n=new y.Situation({duration:t||1e3,delay:i||0,ease:y.easing[e||"-"]||e});return this.queue(n),this},delay:function(t){var e=new y.Situation({duration:t,delay:0,ease:y.easing["-"]});return this.queue(e)},target:function(t){return t&&t instanceof y.Element?(this._target=t,this):this._target},timeToAbsPos:function(t){return(t-this.situation.start)/(this.situation.duration/this._speed)},absPosToTime:function(t){return this.situation.duration/this._speed*t+this.situation.start},startAnimFrame:function(){this.stopAnimFrame(),this.animationFrame=requestAnimationFrame(function(){this.step()}.bind(this))},stopAnimFrame:function(){cancelAnimationFrame(this.animationFrame)},start:function(){return!this.active&&this.situation&&(this.active=!0,this.startCurrent()),this},startCurrent:function(){return this.situation.start=+new Date+this.situation.delay/this._speed,this.situation.finish=this.situation.start+this.situation.duration/this._speed,this.initAnimations().step()},queue:function(t){return("function"==typeof t||t instanceof y.Situation)&&this.situations.push(t),this.situation||(this.situation=this.situations.shift()),this},dequeue:function(){return this.situation&&this.situation.stop&&this.situation.stop(),this.situation=this.situations.shift(),this.situation&&(this.situation instanceof y.Situation?this.startCurrent():this.situation.call(this)),this},initAnimations:function(){var t,e=this.situation;if(e.init)return this;for(t in e.animations)"viewbox"==t?e.animations[t]=this.target().viewbox().morph(e.animations[t]):(e.animations[t].value="plot"==t?this.target().array().value:this.target()[t](),e.animations[t].value.value&&(e.animations[t].value=e.animations[t].value.value),e.animations[t].relative&&(e.animations[t].destination.value=e.animations[t].destination.value+e.animations[t].value));for(t in e.attrs)if(e.attrs[t]instanceof y.Color){var i=new y.Color(this.target().attr(t));e.attrs[t].r=i.r,e.attrs[t].g=i.g,e.attrs[t].b=i.b}else e.attrs[t].value=this.target().attr(t);for(t in e.styles)e.styles[t].value=this.target().style(t);return e.initialTransformation=this.target().matrixify(),e.init=!0,this},clearQueue:function(){return this.situations=[],this},clearCurrent:function(){return this.situation=null,this},stop:function(t,e){return this.active||this.start(),e&&this.clearQueue(),this.active=!1,t&&this.situation&&this.atEnd(),this.stopAnimFrame(),this.clearCurrent()},reset:function(){if(this.situation){var t=this.situation;this.stop(),this.situation=t,this.atStart()}return this},finish:function(){for(this.stop(!0,!1);this.dequeue().situation&&this.stop(!0,!1););return this.clearQueue().clearCurrent(),this},atStart:function(){return this.at(0,!0)},atEnd:function(){return!0===this.situation.loops?this.at(this.situation.loop+1,!0):"number"==typeof this.situation.loops?this.at(this.situation.loops,!0):this.at(1,!0)},at:function(t,e){var i=this.situation.duration/this._speed;return this.absPos=t,e||(this.situation.reversed&&(this.absPos=1-this.absPos),this.absPos+=this.situation.loop),this.situation.start=+new Date-this.absPos*i,this.situation.finish=this.situation.start+i,this.step(!0)},speed:function(t){return 0===t?this.pause():t?(this._speed=t,this.at(this.absPos,!0)):this._speed},loop:function(t,e){var i=this.last();return i.loops=null==t||t,i.loop=0,e&&(i.reversing=!0),this},pause:function(){return this.paused=!0,this.stopAnimFrame(),this},play:function(){return this.paused?(this.paused=!1,this.at(this.absPos,!0)):this},reverse:function(t){var e=this.last();return e.reversed=void 0===t?!e.reversed:t,this},progress:function(t){return t?this.situation.ease(this.pos):this.pos},after:function(t){var e=this.last(),i=function i(n){n.detail.situation==e&&(t.call(this,e),this.off("finished.fx",i))};return this.target().on("finished.fx",i),this},during:function(t){var e=this.last(),i=function(i){i.detail.situation==e&&t.call(this,i.detail.pos,y.morph(i.detail.pos),i.detail.eased,e)};return this.target().off("during.fx",i).on("during.fx",i),this.after(function(){this.off("during.fx",i)})},afterAll:function(t){var e=function e(i){t.call(this),this.off("allfinished.fx",e)};return this.target().off("allfinished.fx",e).on("allfinished.fx",e),this},duringAll:function(t){var e=function(e){t.call(this,e.detail.pos,y.morph(e.detail.pos),e.detail.eased,e.detail.situation)};return this.target().off("during.fx",e).on("during.fx",e),this.afterAll(function(){this.off("during.fx",e)})},last:function(){
return this.situations.length?this.situations[this.situations.length-1]:this.situation},add:function(t,e,i){return this.last()[i||"animations"][t]=e,setTimeout(function(){this.start()}.bind(this),0),this},step:function(t){if(t||(this.absPos=this.timeToAbsPos(+new Date)),!1!==this.situation.loops){var e,i,n;e=Math.max(this.absPos,0),i=Math.floor(e),!0===this.situation.loops||i<this.situation.loops?(this.pos=e-i,n=this.situation.loop,this.situation.loop=i):(this.absPos=this.situation.loops,this.pos=1,n=this.situation.loop-1,this.situation.loop=this.situation.loops),this.situation.reversing&&(this.situation.reversed=this.situation.reversed!=Boolean((this.situation.loop-n)%2))}else this.absPos=Math.min(this.absPos,1),this.pos=this.absPos;this.pos<0&&(this.pos=0),this.situation.reversed&&(this.pos=1-this.pos);var r=this.situation.ease(this.pos);for(var o in this.situation.once)o>this.lastPos&&o<=r&&(this.situation.once[o].call(this.target(),this.pos,r),delete this.situation.once[o]);return this.active&&this.target().fire("during",{pos:this.pos,eased:r,fx:this,situation:this.situation}),this.situation?(this.eachAt(),1==this.pos&&!this.situation.reversed||this.situation.reversed&&0==this.pos?(this.stopAnimFrame(),this.target().fire("finished",{fx:this,situation:this.situation}),this.situations.length||(this.target().fire("allfinished"),this.target().off(".fx"),this.active=!1),this.active?this.dequeue():this.clearCurrent()):!this.paused&&this.active&&this.startAnimFrame(),this.lastPos=r,this):this},eachAt:function(){var t,e,i=this,n=this.target(),r=this.situation;for(t in r.animations)e=[].concat(r.animations[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(r.ease(i.pos),i.pos):t}),n[t].apply(n,e);for(t in r.attrs)e=[t].concat(r.attrs[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(r.ease(i.pos),i.pos):t}),n.attr.apply(n,e);for(t in r.styles)e=[t].concat(r.styles[t]).map(function(t){return"string"!=typeof t&&t.at?t.at(r.ease(i.pos),i.pos):t}),n.style.apply(n,e);if(r.transforms.length){for(e=r.initialTransformation,t=0,len=r.transforms.length;t<len;t++){var o=r.transforms[t];o instanceof y.Matrix?e=o.relative?e.multiply((new y.Matrix).morph(o).at(r.ease(this.pos))):e.morph(o).at(r.ease(this.pos)):(o.relative||o.undo(e.extract()),e=e.multiply(o.at(r.ease(this.pos))))}n.matrix(e)}return this},once:function(t,e,i){return i||(t=this.situation.ease(t)),this.situation.once[t]=e,this}},parent:y.Element,construct:{animate:function(t,e,i){return(this.fx||(this.fx=new y.FX(this))).animate(t,e,i)},delay:function(t){return(this.fx||(this.fx=new y.FX(this))).delay(t)},stop:function(t,e){return this.fx&&this.fx.stop(t,e),this},finish:function(){return this.fx&&this.fx.finish(),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this},speed:function(t){if(this.fx){if(null==t)return this.fx.speed();this.fx.speed(t)}return this}}}),y.MorphObj=y.invent({create:function(t,e){return y.Color.isColor(e)?new y.Color(t).morph(e):y.regex.numberAndUnit.test(e)?new y.Number(t).morph(e):(this.value=0,void(this.destination=e))},extend:{at:function(t,e){return e<1?this.value:this.destination},valueOf:function(){return this.value}}}),y.extend(y.FX,{attr:function(t,e,i){if("object"==typeof t)for(var n in t)this.attr(n,t[n]);else this.add(t,new y.MorphObj(null,e),"attrs");return this},style:function(t,e){if("object"==typeof t)for(var i in t)this.style(i,t[i]);else this.add(t,new y.MorphObj(null,e),"styles");return this},x:function(t,e){if(this.target()instanceof y.G)return this.transform({x:t},e),this;var i=(new y.Number).morph(t);return i.relative=e,this.add("x",i)},y:function(t,e){if(this.target()instanceof y.G)return this.transform({y:t},e),this;var i=(new y.Number).morph(t);return i.relative=e,this.add("y",i)},cx:function(t){return this.add("cx",(new y.Number).morph(t))},cy:function(t){return this.add("cy",(new y.Number).morph(t))},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){if(this.target()instanceof y.Text)this.attr("font-size",t);else{var i;t&&e||(i=this.target().bbox()),t||(t=i.width/i.height*e),e||(e=i.height/i.width*t),this.add("width",(new y.Number).morph(t)).add("height",(new y.Number).morph(e))}return this},plot:function(t){return this.add("plot",this.target().array().morph(t))},leading:function(t){return this.target().leading?this.add("leading",(new y.Number).morph(t)):this},viewbox:function(t,e,i,n){return this.target()instanceof y.Container&&this.add("viewbox",new y.ViewBox(t,e,i,n)),this},update:function(t){if(this.target()instanceof y.Stop){if("number"==typeof t||t instanceof y.Number)return this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]});null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",t.offset)}return this}}),y.BBox=y.invent({create:function(t){if(t){var i;try{if(!e.documentElement.contains(t.node))throw new Exception("Element not in the dom");i=t.node.getBBox()}catch(e){if(t instanceof y.Shape){var n=t.clone(y.parser.draw).show();i=n.bbox(),n.remove()}else i={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}this.x=i.x,this.y=i.y,this.width=i.width,this.height=i.height}m(this)},parent:y.Element,construct:{bbox:function(){return new y.BBox(this)}}}),y.TBox=y.invent({create:function(t){if(t){var e=t.ctm().extract(),i=t.bbox();this.width=i.width*e.scaleX,this.height=i.height*e.scaleY,this.x=i.x+e.x,this.y=i.y+e.y}m(this)},parent:y.Element,construct:{tbox:function(){return new y.TBox(this)}}}),y.RBox=y.invent({create:function(e){if(e){var i=e.doc().parent(),n=e.node.getBoundingClientRect(),r=1;for(this.x=n.left,this.y=n.top,this.x-=i.offsetLeft,this.y-=i.offsetTop;i=i.offsetParent;)this.x-=i.offsetLeft,this.y-=i.offsetTop;for(i=e;i.parent&&(i=i.parent());)i.viewbox&&(r*=i.viewbox().zoom,this.x-=i.x()||0,this.y-=i.y()||0);this.width=n.width/=r,this.height=n.height/=r}m(this),this.x+=t.pageXOffset,this.y+=t.pageYOffset},parent:y.Element,construct:{rbox:function(){return new y.RBox(this)}}}),[y.BBox,y.TBox,y.RBox].forEach(function(t){y.extend(t,{merge:function(e){var i=new t;return i.x=Math.min(this.x,e.x),i.y=Math.min(this.y,e.y),i.width=Math.max(this.x+this.width,e.x+e.width)-i.x,i.height=Math.max(this.y+this.height,e.y+e.height)-i.y,m(i)}})}),y.Matrix=y.invent({create:function(t){var e,i=c([1,0,0,1,0,0]);for(t=t instanceof y.Element?t.matrixify():"string"==typeof t?p(t):6==arguments.length?c([].slice.call(arguments)):"object"==typeof t?t:i,e=x.length-1;e>=0;--e)this[x[e]]=t&&"number"==typeof t[x[e]]?t[x[e]]:i[x[e]]},extend:{extract:function(){var t=u(this,0,1),e=u(this,1,0),i=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,transformedX:(this.e*Math.cos(i*Math.PI/180)+this.f*Math.sin(i*Math.PI/180))/Math.sqrt(this.a*this.a+this.b*this.b),transformedY:(this.f*Math.cos(i*Math.PI/180)+this.e*Math.sin(-i*Math.PI/180))/Math.sqrt(this.c*this.c+this.d*this.d),skewX:-i,skewY:180/Math.PI*Math.atan2(e.y,e.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:i,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f,matrix:new y.Matrix(this)}},clone:function(){return new y.Matrix(this)},morph:function(t){return this.destination=new y.Matrix(t),this},at:function(t){if(!this.destination)return this;var e=new y.Matrix({a:this.a+(this.destination.a-this.a)*t,b:this.b+(this.destination.b-this.b)*t,c:this.c+(this.destination.c-this.c)*t,d:this.d+(this.destination.d-this.d)*t,e:this.e+(this.destination.e-this.e)*t,f:this.f+(this.destination.f-this.f)*t});if(this.param&&this.param.to){var i={rotation:this.param.from.rotation+(this.param.to.rotation-this.param.from.rotation)*t,cx:this.param.from.cx,cy:this.param.from.cy};e=e.rotate((this.param.to.rotation-2*this.param.from.rotation)*t,i.cx,i.cy),e.param=i}return e},multiply:function(t){return new y.Matrix(this.native().multiply(h(t).native()))},inverse:function(){return new y.Matrix(this.native().inverse())},translate:function(t,e){return new y.Matrix(this.native().translate(t||0,e||0))},scale:function(t,e,i,n){return 1==arguments.length?e=t:3==arguments.length&&(n=i,i=e,e=t),this.around(i,n,new y.Matrix(t,0,0,e,0,0))},rotate:function(t,e,i){return t=y.utils.radians(t),this.around(e,i,new y.Matrix(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0))},flip:function(t,e){return"x"==t?this.scale(-1,1,e,0):this.scale(1,-1,0,e)},skew:function(t,e,i,n){return 1==arguments.length?e=t:3==arguments.length&&(n=i,i=e,e=t),t=y.utils.radians(t),e=y.utils.radians(e),this.around(i,n,new y.Matrix(1,Math.tan(e),Math.tan(t),1,0,0))},skewX:function(t,e,i){return this.skew(t,0,e,i)},skewY:function(t,e,i){return this.skew(0,t,e,i)},around:function(t,e,i){return this.multiply(new y.Matrix(1,0,0,1,t||0,e||0)).multiply(i).multiply(new y.Matrix(1,0,0,1,-t||0,-e||0))},native:function(){for(var t=y.parser.native.createSVGMatrix(),e=x.length-1;e>=0;e--)t[x[e]]=this[x[e]];return t},toString:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},parent:y.Element,construct:{ctm:function(){return new y.Matrix(this.node.getCTM())},screenCTM:function(){return new y.Matrix(this.node.getScreenCTM())}}}),y.Point=y.invent({create:function(t,e){var i,n={x:0,y:0};i=Array.isArray(t)?{x:t[0],y:t[1]}:"object"==typeof t?{x:t.x,y:t.y}:null!=e?{x:t,y:e}:n,this.x=i.x,this.y=i.y},extend:{clone:function(){return new y.Point(this)},morph:function(t){return this.destination=new y.Point(t),this},at:function(t){return this.destination?new y.Point({x:this.x+(this.destination.x-this.x)*t,y:this.y+(this.destination.y-this.y)*t}):this},native:function(){var t=y.parser.native.createSVGPoint();return t.x=this.x,t.y=this.y,t},transform:function(t){return new y.Point(this.native().matrixTransform(t.native()))}}}),y.extend(y.Element,{point:function(t,e){return new y.Point(t,e).transform(this.screenCTM().inverse())}}),y.extend(y.Element,{attr:function(t,e,i){if(null==t){for(t={},e=this.node.attributes,i=e.length-1;i>=0;i--)t[e[i].nodeName]=y.regex.isNumber.test(e[i].nodeValue)?parseFloat(e[i].nodeValue):e[i].nodeValue;return t}if("object"==typeof t)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return e=this.node.getAttribute(t),null==e?y.defaults.attrs[t]:y.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),"fill"!=t&&"stroke"!=t||(y.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof y.Image&&(e=this.doc().defs().pattern(0,0,function(){this.add(e)}))),"number"==typeof e?e=new y.Number(e):y.Color.isColor(e)?e=new y.Color(e):Array.isArray(e)?e=new y.Array(e):e instanceof y.Matrix&&e.param&&(this.param=e.param),"leading"==t?this.leading&&this.leading(e):"string"==typeof i?this.node.setAttributeNS(i,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),y.extend(y.Element,{transform:function(t,e){var i,n=this;if("object"!=typeof t)return i=new y.Matrix(n).extract(),"string"==typeof t?i[t]:i;if(i=new y.Matrix(n),e=!!e||!!t.relative,null!=t.a)i=e?i.multiply(new y.Matrix(t)):new y.Matrix(t);else if(null!=t.rotation)d(t,n),i=e?i.rotate(t.rotation,t.cx,t.cy):i.rotate(t.rotation-i.extract().rotation,t.cx,t.cy);else if(null!=t.scale||null!=t.scaleX||null!=t.scaleY){if(d(t,n),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,!e){var r=i.extract();t.scaleX=1*t.scaleX/r.scaleX,t.scaleY=1*t.scaleY/r.scaleY}i=i.scale(t.scaleX,t.scaleY,t.cx,t.cy)}else if(null!=t.skew||null!=t.skewX||null!=t.skewY){if(d(t,n),t.skewX=null!=t.skew?t.skew:null!=t.skewX?t.skewX:0,t.skewY=null!=t.skew?t.skew:null!=t.skewY?t.skewY:0,!e){var r=i.extract();i=i.multiply((new y.Matrix).skew(r.skewX,r.skewY,t.cx,t.cy).inverse())}i=i.skew(t.skewX,t.skewY,t.cx,t.cy)}else t.flip?i=i.flip(t.flip,null==t.offset?n.bbox()["c"+t.flip]:t.offset):null==t.x&&null==t.y||(e?i=i.translate(t.x,t.y):(null!=t.x&&(i.e=t.x),null!=t.y&&(i.f=t.y)));return this.attr("transform",i)}}),y.extend(y.FX,{transform:function(t,e){var i,n=this.target();return"object"!=typeof t?(i=new y.Matrix(n).extract(),"string"==typeof t?i[t]:i):(e=!!e||!!t.relative,null!=t.a?i=new y.Matrix(t):null!=t.rotation?(d(t,n),i=new y.Rotate(t.rotation,t.cx,t.cy)):null!=t.scale||null!=t.scaleX||null!=t.scaleY?(d(t,n),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,i=new y.Scale(t.scaleX,t.scaleY,t.cx,t.cy)):null!=t.skewX||null!=t.skewY?(d(t,n),t.skewX=null!=t.skewX?t.skewX:0,t.skewY=null!=t.skewY?t.skewY:0,i=new y.Skew(t.skewX,t.skewY,t.cx,t.cy)):t.flip?i=(new y.Matrix).morph((new y.Matrix).flip(t.flip,null==t.offset?n.bbox()["c"+t.flip]:t.offset)):null==t.x&&null==t.y||(i=new y.Translate(t.x,t.y)),i?(i.relative=e,this.last().transforms.push(i),setTimeout(function(){this.start()}.bind(this),0),this):this)}}),y.extend(y.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){return(this.attr("transform")||"").split(/\)\s*,?\s*/).slice(0,-1).map(function(t){var e=t.trim().split("(");return[e[0],e[1].split(y.regex.matrixElements).map(function(t){return parseFloat(t)})]}).reduce(function(t,e){return"matrix"==e[0]?t.multiply(c(e[1])):t[e[0]].apply(t,e[1])},new y.Matrix)},toParent:function(t){if(this==t)return this;var e=this.screenCTM(),i=t.rect(1,1),n=i.screenCTM().inverse();return i.remove(),this.addTo(t).untransform().transform(n.multiply(e)),this},toDoc:function(){return this.toParent(this.doc())}}),y.Transformation=y.invent({create:function(t,e){if(arguments.length>1&&"boolean"!=typeof e)return this.create([].slice.call(arguments));if("object"==typeof t)for(var i=0,n=this.arguments.length;i<n;++i)this[this.arguments[i]]=t[this.arguments[i]];if(Array.isArray(t))for(var i=0,n=this.arguments.length;i<n;++i)this[this.arguments[i]]=t[i];this.inversed=!1,!0===e&&(this.inversed=!0)},extend:{at:function(t){for(var e=[],i=0,n=this.arguments.length;i<n;++i)e.push(this[this.arguments[i]]);var r=this._undo||new y.Matrix;return r=(new y.Matrix).morph(y.Matrix.prototype[this.method].apply(r,e)).at(t),this.inversed?r.inverse():r},undo:function(t){for(var e=0,i=this.arguments.length;e<i;++e)t[this.arguments[e]]=void 0===this[this.arguments[e]]?0:t[this.arguments[e]];return t.cx=this.cx,t.cy=this.cy,this._undo=new(y[o(this.method)])(t,!0).at(1),this}}}),y.Translate=y.invent({parent:y.Matrix,inherit:y.Transformation,create:function(t,e){"object"==typeof t?this.constructor.call(this,t,e):this.constructor.call(this,[].slice.call(arguments))},extend:{arguments:["transformedX","transformedY"],method:"translate"}}),y.Rotate=y.invent({parent:y.Matrix,inherit:y.Transformation,create:function(t,e){"object"==typeof t?this.constructor.call(this,t,e):this.constructor.call(this,[].slice.call(arguments))},extend:{arguments:["rotation","cx","cy"],method:"rotate",at:function(t){var e=(new y.Matrix).rotate((new y.Number).morph(this.rotation-(this._undo?this._undo.rotation:0)).at(t),this.cx,this.cy);return this.inversed?e.inverse():e},undo:function(t){this._undo=t}}}),y.Scale=y.invent({parent:y.Matrix,inherit:y.Transformation,create:function(t,e){"object"==typeof t?this.constructor.call(this,t,e):this.constructor.call(this,[].slice.call(arguments))},extend:{arguments:["scaleX","scaleY","cx","cy"],method:"scale"}}),y.Skew=y.invent({parent:y.Matrix,inherit:y.Transformation,create:function(t,e){"object"==typeof t?this.constructor.call(this,t,e):this.constructor.call(this,[].slice.call(arguments))},extend:{arguments:["skewX","skewY","cx","cy"],method:"skew"}}),y.extend(y.Element,{style:function(t,e){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof t)for(e in t)this.style(e,t[e]);else{if(!y.regex.isCss.test(t))return this.node.style[r(t)];t=t.split(";");for(var i=0;i<t.length;i++)e=t[i].split(":"),this.style(e[0].replace(/\s+/g,""),e[1])}else this.node.style[r(t)]=null===e||y.regex.isBlank.test(e)?"":e;return this}}),y.Parent=y.invent({create:function(t){this.constructor.call(this,t)},inherit:y.Element,extend:{children:function(){return y.utils.map(y.utils.filterSVGElements(this.node.childNodes),function(t){return y.adopt(t)})},add:function(t,e){return null==e?this.node.appendChild(t.node):t.node!=this.node.childNodes[e]&&this.node.insertBefore(t.node,this.node.childNodes[e]),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return[].slice.call(this.node.childNodes).indexOf(t.node)},get:function(t){return y.adopt(this.node.childNodes[t])},first:function(){return this.get(0)},last:function(){return this.get(this.node.childNodes.length-1)},each:function(t,e){var i,n,r=this.children();for(i=0,n=r.length;i<n;i++)r[i]instanceof y.Element&&t.apply(r[i],[i,r]),e&&r[i]instanceof y.Container&&r[i].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),y.extend(y.Parent,{ungroup:function(t,e){return 0===e||this instanceof y.Defs?this:(t=t||(this instanceof y.Doc?this:this.parent(y.Parent)),e=e||1/0,this.each(function(){return this instanceof y.Defs?this:this instanceof y.Parent?this.ungroup(t,e-1):this.toParent(t)}),this.node.firstChild||this.remove(),this)},flatten:function(t,e){return this.ungroup(t,e)}}),y.Container=y.invent({create:function(t){this.constructor.call(this,t)},inherit:y.Parent}),y.ViewBox=y.invent({create:function(t){var e,i,n,r,o,s,a,l=[0,0,0,0],u=1,c=1,h=/[+-]?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?/gi;if(t instanceof y.Element){for(s=t,a=t,o=(t.attr("viewBox")||"").match(h),t.bbox,n=new y.Number(t.width()),r=new y.Number(t.height());"%"==n.unit;)u*=n.value,n=new y.Number(s instanceof y.Doc?s.parent().offsetWidth:s.parent().width()),s=s.parent();for(;"%"==r.unit;)c*=r.value,r=new y.Number(a instanceof y.Doc?a.parent().offsetHeight:a.parent().height()),a=a.parent();this.x=0,this.y=0,this.width=n*u,this.height=r*c,this.zoom=1,o&&(e=parseFloat(o[0]),i=parseFloat(o[1]),n=parseFloat(o[2]),r=parseFloat(o[3]),this.zoom=this.width/this.height>n/r?this.height/r:this.width/n,this.x=e,this.y=i,this.width=n,this.height=r)}else t="string"==typeof t?t.match(h).map(function(t){return parseFloat(t)}):Array.isArray(t)?t:"object"==typeof t?[t.x,t.y,t.width,t.height]:4==arguments.length?[].slice.call(arguments):l,this.x=t[0],this.y=t[1],this.width=t[2],this.height=t[3]},extend:{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height},morph:function(t){var t=1==arguments.length?[t.x,t.y,t.width,t.height]:[].slice.call(arguments);return this.destination=new y.ViewBox(t),this},at:function(t){return this.destination?new y.ViewBox([this.x+(this.destination.x-this.x)*t,this.y+(this.destination.y-this.y)*t,this.width+(this.destination.width-this.width)*t,this.height+(this.destination.height-this.height)*t]):this}},parent:y.Container,construct:{viewbox:function(t){return 0==arguments.length?new y.ViewBox(this):(t=1==arguments.length?[t.x,t.y,t.width,t.height]:[].slice.call(arguments),this.attr("viewBox",t))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(t){y.Element.prototype[t]=function(e){var i=this;return this.node["on"+t]="function"==typeof e?function(){return e.apply(i,arguments)}:null,this}}),y.listeners=[],y.handlerMap=[],y.listenerId=0,y.on=function(t,e,i,n){var r=i.bind(n||t.instance||t),o=(y.handlerMap.indexOf(t)+1||y.handlerMap.push(t))-1,s=e.split(".")[0],a=e.split(".")[1]||"*";y.listeners[o]=y.listeners[o]||{},y.listeners[o][s]=y.listeners[o][s]||{},y.listeners[o][s][a]=y.listeners[o][s][a]||{},i._svgjsListenerId||(i._svgjsListenerId=++y.listenerId),y.listeners[o][s][a][i._svgjsListenerId]=r,t.addEventListener(s,r,!1)},y.off=function(t,e,i){var n=y.handlerMap.indexOf(t),r=e&&e.split(".")[0],o=e&&e.split(".")[1];if(-1!=n)if(i){if("function"==typeof i&&(i=i._svgjsListenerId),!i)return;y.listeners[n][r]&&y.listeners[n][r][o||"*"]&&(t.removeEventListener(r,y.listeners[n][r][o||"*"][i],!1),delete y.listeners[n][r][o||"*"][i])}else if(o&&r){if(y.listeners[n][r]&&y.listeners[n][r][o]){for(i in y.listeners[n][r][o])y.off(t,[r,o].join("."),i);delete y.listeners[n][r][o]}}else if(o)for(e in y.listeners[n])for(namespace in y.listeners[n][e])o===namespace&&y.off(t,[e,o].join("."));else if(r){if(y.listeners[n][r]){for(namespace in y.listeners[n][r])y.off(t,[r,namespace].join("."));delete y.listeners[n][r]}}else{for(e in y.listeners[n])y.off(t,e);delete y.listeners[n]}},y.extend(y.Element,{on:function(t,e,i){return y.on(this.node,t,e,i),this},off:function(t,e){return y.off(this.node,t,e),this},fire:function(t,e){return t instanceof Event?this.node.dispatchEvent(t):this.node.dispatchEvent(new w(t,{detail:e})),this}}),y.Defs=y.invent({create:"defs",inherit:y.Container}),y.G=y.invent({create:"g",inherit:y.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:t-this.x()},!0)},y:function(t){return null==t?this.transform("y"):this.transform({y:t-this.y()},!0)},cx:function(t){return null==t?this.gbox().cx:this.x(t-this.gbox().width/2)},cy:function(t){return null==t?this.gbox().cy:this.y(t-this.gbox().height/2)},gbox:function(){var t=this.bbox(),e=this.transform();return t.x+=e.x,t.x2+=e.x,t.cx+=e.x,t.y+=e.y,t.y2+=e.y,t.cy+=e.y,t}},construct:{group:function(){return this.put(new y.G)}}}),y.extend(y.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),e instanceof y.Doc&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return t>0&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),t instanceof y.Doc&&t.node.appendChild(t.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(t){t.remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){t.remove();var e=this.position();return this.parent().add(t,e+1),this}}),y.Mask=y.invent({create:function(){this.constructor.call(this,y.create("mask")),this.targets=[]},inherit:y.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unmask();return this.targets=[],this.parent().removeElement(this),this}},construct:{mask:function(){return this.defs().put(new y.Mask)}}}),y.extend(y.Element,{maskWith:function(t){return this.masker=t instanceof y.Mask?t:this.parent().mask().add(t),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),y.ClipPath=y.invent({create:function(){this.constructor.call(this,y.create("clipPath")),this.targets=[]},inherit:y.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unclip();return this.targets=[],this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new y.ClipPath)}}}),y.extend(y.Element,{clipWith:function(t){return this.clipper=t instanceof y.ClipPath?t:this.parent().clip().add(t),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),y.Gradient=y.invent({create:function(t){this.constructor.call(this,y.create(t+"Gradient")),this.type=t},inherit:y.Container,extend:{at:function(t,e,i){return this.put(new y.Stop).update(t,e,i)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()},attr:function(t,e,i){return"transform"==t&&(t="gradientTransform"),y.Container.prototype.attr.call(this,t,e,i)}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),y.extend(y.Gradient,y.FX,{from:function(t,e){return"radial"==(this._target||this).type?this.attr({fx:new y.Number(t),fy:new y.Number(e)}):this.attr({x1:new y.Number(t),y1:new y.Number(e)})},to:function(t,e){return"radial"==(this._target||this).type?this.attr({cx:new y.Number(t),cy:new y.Number(e)}):this.attr({x2:new y.Number(t),y2:new y.Number(e)})}}),y.extend(y.Defs,{gradient:function(t,e){return this.put(new y.Gradient(t)).update(e)}}),y.Stop=y.invent({create:"stop",inherit:y.Element,extend:{update:function(t){return("number"==typeof t||t instanceof y.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new y.Number(t.offset)),this}}}),y.Pattern=y.invent({create:"pattern",inherit:y.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()},attr:function(t,e,i){return"transform"==t&&(t="patternTransform"),y.Container.prototype.attr.call(this,t,e,i)}},construct:{pattern:function(t,e,i){return this.defs().pattern(t,e,i)}}}),y.extend(y.Defs,{pattern:function(t,e,i){return this.put(new y.Pattern).update(i).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),y.Doc=y.invent({create:function(t){t&&(t="string"==typeof t?e.getElementById(t):t,"svg"==t.nodeName?this.constructor.call(this,t):(this.constructor.call(this,y.create("svg")),t.appendChild(this.node),this.size("100%","100%")),this.namespace().defs())},inherit:y.Container,extend:{namespace:function(){return this.attr({xmlns:y.ns,version:"1.1"}).attr("xmlns:xlink",y.xlink,y.xmlns).attr("xmlns:svgjs",y.svgjs,y.xmlns)},defs:function(){if(!this._defs){var t;(t=this.node.getElementsByTagName("defs")[0])?this._defs=y.adopt(t):this._defs=new y.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return"#document"==this.node.parentNode.nodeName?null:this.node.parentNode},spof:function(t){var e=this.node.getScreenCTM();return e&&this.style("left",-e.e%1+"px").style("top",-e.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this}}}),y.Shape=y.invent({create:function(t){this.constructor.call(this,t)},inherit:y.Element}),y.Bare=y.invent({create:function(t,e){if(this.constructor.call(this,y.create(t)),e)for(var i in e.prototype)"function"==typeof e.prototype[i]&&(this[i]=e.prototype[i])},inherit:y.Element,extend:{words:function(t){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(e.createTextNode(t)),this}}}),y.extend(y.Parent,{element:function(t,e){return this.put(new y.Bare(t,e))},symbol:function(){return this.defs().element("symbol",y.Container)}}),y.Use=y.invent({create:"use",inherit:y.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,y.xlink)}},construct:{use:function(t,e){return this.put(new y.Use).element(t,e)}}}),y.Rect=y.invent({create:"rect",inherit:y.Shape,construct:{rect:function(t,e){return this.put(new y.Rect).size(t,e)}}}),y.Circle=y.invent({create:"circle",inherit:y.Shape,construct:{circle:function(t){return this.put(new y.Circle).rx(new y.Number(t).divide(2)).move(0,0)}}}),y.extend(y.Circle,y.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),y.Ellipse=y.invent({create:"ellipse",inherit:y.Shape,construct:{ellipse:function(t,e){return this.put(new y.Ellipse).size(t,e).move(0,0)}}}),y.extend(y.Ellipse,y.Rect,y.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),y.extend(y.Circle,y.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new y.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new y.Number(t).divide(2))},size:function(t,e){var i=l(this,t,e);return this.rx(new y.Number(i.width).divide(2)).ry(new y.Number(i.height).divide(2))}}),y.Line=y.invent({create:"line",inherit:y.Shape,extend:{array:function(){return new y.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,i,n){return t=void 0!==e?{x1:t,y1:e,x2:i,y2:n}:new y.PointArray(t).toLine(),this.attr(t)},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var i=l(this,t,e);return this.attr(this.array().size(i.width,i.height).toLine())}},construct:{line:function(t,e,i,n){return this.put(new y.Line).plot(t,e,i,n)}}}),y.Polyline=y.invent({create:"polyline",inherit:y.Shape,construct:{polyline:function(t){return this.put(new y.Polyline).plot(t)}}}),y.Polygon=y.invent({create:"polygon",inherit:y.Shape,construct:{polygon:function(t){return this.put(new y.Polygon).plot(t)}}}),y.extend(y.Polyline,y.Polygon,{array:function(){return this._array||(this._array=new y.PointArray(this.attr("points")))},plot:function(t){return this.attr("points",this._array=new y.PointArray(t))},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var i=l(this,t,e);return this.attr("points",this.array().size(i.width,i.height))}}),y.extend(y.Line,y.Polyline,y.Polygon,{morphArray:y.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),y.Path=y.invent({create:"path",inherit:y.Shape,extend:{morphArray:y.PathArray,array:function(){return this._array||(this._array=new y.PathArray(this.attr("d")))},plot:function(t){return this.attr("d",this._array=new y.PathArray(t))},move:function(t,e){return this.attr("d",this.array().move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},size:function(t,e){var i=l(this,t,e);return this.attr("d",this.array().size(i.width,i.height))},width:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)},height:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},construct:{path:function(t){return this.put(new y.Path).plot(t)}}}),y.Image=y.invent({create:"image",inherit:y.Shape,extend:{load:function(t){if(!t)return this;var i=this,n=e.createElement("img");return n.onload=function(){var e=i.parent(y.Pattern);null!==e&&(0==i.width()&&0==i.height()&&i.size(n.width,n.height),e&&0==e.width()&&0==e.height()&&e.size(i.width(),i.height()),"function"==typeof i._loaded&&i._loaded.call(i,{width:n.width,height:n.height,ratio:n.width/n.height,url:t}))},n.onerror=function(t){"function"==typeof i._error&&i._error.call(i,t)},this.attr("href",n.src=this.src=t,y.xlink)},loaded:function(t){return this._loaded=t,this},error:function(t){return this._error=t,this}},construct:{image:function(t,e,i){return this.put(new y.Image).load(t).size(e||0,i||e||0)}}}),y.Text=y.invent({create:function(){this.constructor.call(this,y.create("text")),this.dom.leading=new y.Number(1.3),this._rebuild=!0,
this._build=!1,this.attr("font-family",y.defaults.attrs["font-family"])},inherit:y.Shape,extend:{x:function(t){return null==t?this.attr("x"):(this.textPath||this.lines().each(function(){this.dom.newLined&&this.x(t)}),this.attr("x",t))},y:function(t){var e=this.attr("y"),i="number"==typeof e?e-this.bbox().y:0;return null==t?"number"==typeof e?e-i:e:this.attr("y","number"==typeof t?t+i:t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)},text:function(t){if(void 0===t){for(var t="",e=this.node.childNodes,i=0,n=e.length;i<n;++i)0!=i&&3!=e[i].nodeType&&1==y.adopt(e[i]).dom.newLined&&(t+="\n"),t+=e[i].textContent;return t}if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{t=t.split("\n");for(var i=0,r=t.length;i<r;i++)this.tspan(t[i]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this.dom.leading:(this.dom.leading=new y.Number(t),this.rebuild())},lines:function(){var t=(this.textPath&&this.textPath()||this).node,e=y.utils.map(y.utils.filterSVGElements(t.childNodes),function(t){return y.adopt(t)});return new y.Set(e)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this,i=0,n=this.dom.leading*new y.Number(this.attr("font-size"));this.lines().each(function(){this.dom.newLined&&(this.textPath||this.attr("x",e.attr("x")),"\n"==this.text()?i+=n:(this.attr("dy",n+i),i=0))}),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this},setData:function(t){return this.dom=t,this.dom.leading=new y.Number(t.leading||1.3),this}},construct:{text:function(t){return this.put(new y.Text).text(t)},plain:function(t){return this.put(new y.Text).plain(t)}}}),y.Tspan=y.invent({create:"tspan",inherit:y.Shape,extend:{text:function(t){return null==t?this.node.textContent+(this.dom.newLined?"\n":""):("function"==typeof t?t.call(this,this):this.plain(t),this)},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(y.Text);return this.dom.newLined=!0,this.dy(t.dom.leading*t.attr("font-size")).attr("x",t.x())}}}),y.extend(y.Text,y.Tspan,{plain:function(t){return!1===this._build&&this.clear(),this.node.appendChild(e.createTextNode(t)),this},tspan:function(t){var e=(this.textPath&&this.textPath()||this).node,i=new y.Tspan;return!1===this._build&&this.clear(),e.appendChild(i.node),i.text(t)},clear:function(){for(var t=(this.textPath&&this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this},length:function(){return this.node.getComputedTextLength()}}),y.TextPath=y.invent({create:"textPath",inherit:y.Parent,parent:y.Text,construct:{path:function(t){for(var e=new y.TextPath,i=this.doc().defs().path(t);this.node.hasChildNodes();)e.node.appendChild(this.node.firstChild);return this.node.appendChild(e.node),e.attr("href","#"+i,y.xlink),this},plot:function(t){var e=this.track();return e&&e.plot(t),this},track:function(){var t=this.textPath();if(t)return t.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return y.adopt(this.node.firstChild)}}}),y.Nested=y.invent({create:function(){this.constructor.call(this,y.create("svg")),this.style("overflow","visible")},inherit:y.Container,construct:{nested:function(){return this.put(new y.Nested)}}}),y.A=y.invent({create:"a",inherit:y.Container,extend:{to:function(t){return this.attr("href",t,y.xlink)},show:function(t){return this.attr("show",t,y.xlink)},target:function(t){return this.attr("target",t)}},construct:{link:function(t){return this.put(new y.A).to(t)}}}),y.extend(y.Element,{linkTo:function(t){var e=new y.A;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}),y.Marker=y.invent({create:"marker",inherit:y.Container,extend:{width:function(t){return this.attr("markerWidth",t)},height:function(t){return this.attr("markerHeight",t)},ref:function(t,e){return this.attr("refX",t).attr("refY",e)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(t,e,i){return this.defs().marker(t,e,i)}}}),y.extend(y.Defs,{marker:function(t,e,i){return this.put(new y.Marker).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(i)}}),y.extend(y.Line,y.Polyline,y.Polygon,y.Path,{marker:function(t,e,i,n){var r=["marker"];return"all"!=t&&r.push(t),r=r.join("-"),t=arguments[1]instanceof y.Marker?arguments[1]:this.doc().marker(e,i,n),this.attr(r,t)}});var b={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};["fill","stroke"].forEach(function(t){var e,i={};i[t]=function(i){if(void 0===i)return this;if("string"==typeof i||y.Color.isRgb(i)||i&&"function"==typeof i.fill)this.attr(t,i);else for(e=b[t].length-1;e>=0;e--)null!=i[b[t][e]]&&this.attr(b.prefix(t,b[t][e]),i[b[t][e]]);return this},y.extend(y.Element,y.FX,i)}),y.extend(y.Element,y.FX,{rotate:function(t,e,i){return this.transform({rotation:t,cx:e,cy:i})},skew:function(t,e,i,n){return 1==arguments.length||3==arguments.length?this.transform({skew:t,cx:e,cy:i}):this.transform({skewX:t,skewY:e,cx:i,cy:n})},scale:function(t,e,i,n){return 1==arguments.length||3==arguments.length?this.transform({scale:t,cx:e,cy:i}):this.transform({scaleX:t,scaleY:e,cx:i,cy:n})},translate:function(t,e){return this.transform({x:t,y:e})},flip:function(t,e){return this.transform({flip:t,offset:e})},matrix:function(t){return this.attr("transform",new y.Matrix(t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x((this instanceof y.FX?0:this.x())+t,!0)},dy:function(t){return this.y((this instanceof y.FX?0:this.y())+t,!0)},dmove:function(t,e){return this.dx(t).dy(e)}}),y.extend(y.Rect,y.Ellipse,y.Circle,y.Gradient,y.FX,{radius:function(t,e){var i=(this._target||this).type;return"radial"==i||"circle"==i?this.attr("r",new y.Number(t)):this.rx(t).ry(null==e?t:e)}}),y.extend(y.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),y.extend(y.Parent,y.Text,y.FX,{font:function(t){for(var e in t)"leading"==e?this.leading(t[e]):"anchor"==e?this.attr("text-anchor",t[e]):"size"==e||"family"==e||"weight"==e||"stretch"==e||"variant"==e||"style"==e?this.attr("font-"+e,t[e]):this.attr(e,t[e]);return this}}),y.Set=y.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){var t,e,i=[].slice.call(arguments);for(t=0,e=i.length;t<e;t++)this.members.push(i[t]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,i=this.members.length;e<i;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){var t=new y.BBox;if(0==this.members.length)return t;var e=this.members[0].rbox();return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,this.each(function(){t=t.merge(this.rbox())}),t}},construct:{set:function(t){return new y.Set(t)}}}),y.FX.Set=y.invent({create:function(t){this.set=t}}),y.Set.inherit=function(){var t,e=[];for(var t in y.Shape.prototype)"function"==typeof y.Shape.prototype[t]&&"function"!=typeof y.Set.prototype[t]&&e.push(t);e.forEach(function(t){y.Set.prototype[t]=function(){for(var e=0,i=this.members.length;e<i;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new y.FX.Set(this)):this}}),e=[];for(var t in y.FX.prototype)"function"==typeof y.FX.prototype[t]&&"function"!=typeof y.FX.Set.prototype[t]&&e.push(t);e.forEach(function(t){y.FX.Set.prototype[t]=function(){for(var e=0,i=this.set.members.length;e<i;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}})},y.extend(y.Element,{data:function(t,e,i){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(e){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:!0===i||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),y.extend(y.Element,{remember:function(t,e){if("object"==typeof arguments[0])for(var e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),y.get=function(t){var i=e.getElementById(v(t)||t);return y.adopt(i)},y.select=function(t,i){return new y.Set(y.utils.map((i||e).querySelectorAll(t),function(t){return y.adopt(t)}))},y.extend(y.Parent,{select:function(t){return y.select(t,this.node)}});var x="abcdef".split("");if("function"!=typeof w){var w=function(t,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var n=e.createEvent("CustomEvent");return n.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),n};w.prototype=t.Event.prototype,t.CustomEvent=w}return function(e){for(var i=0,n=["moz","webkit"],r=0;r<n.length&&!t.requestAnimationFrame;++r)e.requestAnimationFrame=e[n[r]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[n[r]+"CancelAnimationFrame"]||e[n[r]+"CancelRequestAnimationFrame"];e.requestAnimationFrame=e.requestAnimationFrame||function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-i)),o=e.setTimeout(function(){t(n+r)},r);return i=n+r,o},e.cancelAnimationFrame=e.cancelAnimationFrame||e.clearTimeout}(t),y}),define("stats/gauge",["require","svg-js","stats/base-v2","core/math-v2","core/svg-utils-v2","stats/animation-loop"],function(t){"use strict";var e=t("svg-js"),i=t("stats/base-v2"),n=t("core/math-v2"),r=t("core/svg-utils-v2"),o=t("stats/animation-loop"),s=2*Math.PI,a=function(t,e){i.call(this,t,e)};a.prototype=Object.create(i.prototype),a.prototype.constructor=a;var l=i.prototype;return a.prototype.start=function(){l.start.call(this);var t=this.$el.find(".js-gauge-target"),e=parseFloat(this.$el.data("gauge-percent"))/100;this.drawChart(t,e)},a.prototype.stop=function(){l.stop.call(this),this.animation.stop()},a.prototype.onVisible=function(){this.animation.start()},a.prototype.drawChart=function(t,i){var n=e(t.get(0)).size(100,100);n.viewbox(0,0,100,100),n.addClass("user-dashboard-module-svg");var r=n.group();r.center(50,50),r.path(this.gaugePath(1)).attr({"fill-opacity":.2,class:"gauge-background"});var s=r.path(this.gaugePath(0)).attr({class:"gauge-bar"});this.animation=new o(this.animateGauge.bind(this,s,i))},a.prototype.animateGauge=function(t,i,n){n>=1e3&&(this.animation.stop(),n=1e3);var r=n/1e3;r=e.easing[">"](r),t.attr("d",this.gaugePath(i*r))},a.prototype.gaugePath=function(t){var i=.25*s,o=.25*s+.5*i,a=o,l=s-i+o;l=n.lerp(a,l,t);var u=n.polarToCartesian(a,50),c=n.polarToCartesian(l,43);return new e.PathArray([["M",u[0],u[1]],r.arcPath(a,l,50,!0),["L",c[0],c[1]],r.arcPath(l,a,43,!1),["z"]])},a}),define("stats/listening-clock-v2",["require","svg-js","lodash","jquery","core/math-v2","core/svg-utils-v2","stats/base-v2","stats/tooltip","stats/data-loader","stats/animation-loop"],function(t){"use strict";var e=t("svg-js"),i=(t("lodash"),t("jquery")),n=t("core/math-v2"),r=t("core/svg-utils-v2"),o=t("stats/base-v2"),s=t("stats/tooltip"),a=t("stats/data-loader"),l=t("stats/animation-loop"),u="#0066FF",c="#007AFF",h="#0066FF",d=.2,p="#1A1A1A",f=6,g="#fff",m="#C2C2C2",v="#1A1A1A",y=24,b=1200,x=64,w=56,S=120,k=38,C=14,T=1.5*Math.PI,A=w-7,_=w-3,M=2*Math.PI,E=function(t,e){o.call(this,t,e)};E.prototype=Object.create(o.prototype),E.prototype.constructor=E;var P=o.prototype;return E.prototype.start=function(){P.start.call(this),this.fontFamily=i("body").css("fontFamily"),this.tooltip=new s,this.tooltip.start(),this.render(this.data(),this.$el.find(".js-listening-clock-target")[0])},E.prototype.stop=function(){P.stop.call(this),this.tooltip.stop(),this.removeEventsFn&&this.removeEventsFn()},E.prototype.onVisible=function(){this.animateSegments(),this.animateLineGraph&&this.animateLineGraph()},E.prototype.data=function(){var t=a.load(this.$el.find(".js-listening-clock-data")),e=[],i=[],n=0;return t.forEach(function(t){t.hasOwnProperty("scrobbleCountComparison")&&(i.push({scrobbleCount:t.scrobbleCountComparison,listeningClockTooltip:t.listeningClockComparisonTooltip}),n=Math.max(n,t.scrobbleCountComparison)),e.push({scrobbleCount:t.scrobbleCount,listeningClockTooltip:t.listeningClockTooltip}),n=Math.max(n,t.scrobbleCount)}),{current:e,comparison:i,maxValue:n}},E.prototype.render=function(t,i){function o(t,e,i){var n=e[i],r=n.scrobbleCount/t,o=r*(S-w)+w,s=i/e.length*M,a=(i+1)/e.length*M;return s+=T,a+=T,{radius:o,startAngle:s,endAngle:a,middleAngle:s+(a-s)/2}}function s(t){var i=2*S,o=T,s=M*t+T,a=o+(s-o)/2,l=n.polarToCartesian(o,i);return new e.PathArray([["M",0,0],["L",l[0],l[1]],r.arcPath(o,a,i,!0),r.arcPath(a,s,i,!0),["z"]])}function a(t,e,i){for(var r,o,s,a=[],l=0;l<t;l++)r=l/t*M,o=[n.polarToCartesian(r,e),n.polarToCartesian(r,i)],s=D.line(0,0),s.style("pointer-events","none"),s.plot(o),a.push(s);return a}function E(t,e,i){var n=D.plain(i);return n.font({family:j,size:C,weight:"bold",fill:v}),n.center(t,e),n}function P(t,e){e.forEach(function(e){t.add(e)})}var L=t.comparison,R=t.maxValue;t=t.current;var j=this.fontFamily,I=this.tooltip,D=e(i).size(240,240);D.viewbox(0,0,240,240),D.addClass("user-dashboard-module-svg");var O=D.group();O.center(120,120);var N=function(t,e){return t.map(function(i,r){var s=o(e,t,r),a=D.group(),l=[[0,0],n.polarToCartesian(s.startAngle,2*S),n.polarToCartesian(s.endAngle,2*S)],p=a.polygon(l);p.fill("#fff");var f=a.circle(2*S);f.center(0,0),f.fill({color:h,opacity:d});var g=a.circle(2*s.radius);return g.center(0,0),g.restColour=u,g.hoverColour=c,g.fill(g.restColour),g.attr("class","segment-value"),a.clipWith(p),a.radius=s.radius,a.data("data",i),a})}(t,R);this.animateSegments=function(t){var e=t.map(function(t,e,i){var n=t.select(".segment-value").members[0],r=t.radius;n.radius(w);var o=e/i.length,s=o*b,a=(r-w)/(S-w),l=a*x;return function(){n.animate({delay:s+"ms",duration:5*l,ease:">"}).radius(r)}});return function(){e.forEach(function(t){t()})}}(N),this.removeEventsFn=function(t){var e=function(t){var e=this.data("data");I.show(t.screenX,t.screenY,e.listeningClockTooltip);var i=this.select(".segment-value").members[0];i.fill(i.hoverColour)},i=function(t){I.move(t.clientX,t.clientY)},n=function(){I.hide();var t=this.select(".segment-value").members[0];t.fill(t.restColour)};return t.forEach(function(t){t.mouseover(e.bind(t)),t.mousemove(i),t.mouseout(n.bind(t))}),function(){t.forEach(function(t){t.off()})}}(N),P(O,N);var q=function(t){var e=D.group();return P(e,a(t,0,S+10)),e.stroke({color:g,width:2}),e}(y);O.add(q);var z=O.circle(2*w);if(z.fill(g),z.center(0,0),L){var B=function(t,e){var i=t.map(function(i,r){var s=o(e,t,r);return n.polarToCartesian(s.middleAngle,s.radius)}),r=D.group(),a=r.polygon(i);a.stroke({color:p,width:2,linejoin:"round"}),a.fill("none"),i.forEach(function(t){var e=r.circle(f);e.center(t[0],t[1]),e.fill(p)});var l=r.path(s(0));return l.fill("#fff"),r.clipWith(l),r.masker=l,r}(L,R);O.add(B),this.animateLineGraph=function(t){var e=b+x,i=new l(function(n){n>=e&&(i.stop(),n=e);var r=n/e;t.masker.plot(s(r))});return i.start.bind(i)}(B)}var F=function(t){var e=D.group();return P(e,a(t,A,_)),e.stroke({color:m,width:1}),e}(y);O.add(F),P(O,function(t){for(var e=[],i=0;i<t;i++){var r=i/t,o=y*r,s=("0"+o).slice(-2),a=r*M+T,l=n.polarToCartesian(a,k);e.push(E(l[0],l[1],s))}return e}(4));var $=O.nested(),H=$.svg('<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><style>.st0{fill:#0066FF;}</style><g id="XMLID_2_"><path id="XMLID_4_" class="st0" d="M16 0C7.2 0 0 7.2 0 16s7.2 16 16 16 16-7.2 16-16S24.8 0 16 0zm0 30C8.3 30 2 23.7 2 16S8.3 2 16 2s14 6.3 14 14-6.3 14-14 14z"/><path id="XMLID_3_" class="st0" d="M17 15.6V6c0-.6-.4-1-1-1s-1 .4-1 1v10c0 .1 0 .3.1.4.1.1.1.2.2.3l6 6c.2.2.5.3.7.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L17 15.6z"/></g></svg>');H.size(40,40),H.center(0,0)},E}),define("stats/listening-week",["require","jquery","lodash","stats/base-v2","stats/bar-chart-v2"],function(t){"use strict";var e=t("jquery"),i=t("lodash"),n=t("stats/base-v2"),r=t("stats/bar-chart-v2"),o=function(t,e){n.call(this,t,e),this.$el=t,this.app=e,this.barChart=new r(e)};o.prototype=Object.create(n.prototype),o.prototype.constructor=o;var s=n.prototype;return o.prototype.start=function(){s.start.call(this);var t=this.load(this.$el.find(".js-listening-week-data")),e=i.map(t,function(t){return t.label}),n=this.$el.find(".js-listening-week-target");this.barChart.start(),this.barChart.render(n[0],[{data:t,type:"column",colour:"#9900FF"}],e)},o.prototype.stop=function(){s.stop.call(this),this.barChart.stop()},o.prototype.onVisible=function(){this.barChart.animate()},o.prototype.load=function(t){var i=[];return t.find("tbody tr").each(function(){var t=e(this);i.push({label:t.find("[data-listening-week-day-name]").text(),value:Number(t.data("listening-week-scrobbles")),tooltip:t.data("listening-week-tooltip")})}),i},o}),function(t){define("highcharts-more",["highcharts"],function(){return function(){!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){!function(t){"use strict";function e(t,e,i){this.init(t,e,i)}var i=t.each,n=t.extend,r=t.merge,o=t.splat;n(e.prototype,{init:function(t,e,n){var s,a=this,l=a.defaultOptions;a.chart=e,a.options=t=r(l,e.angular?{background:{}}:void 0,t),(s=t.background)&&i([].concat(o(s)).reverse(),function(t){var e,i=n.userOptions;e=r(a.defaultBackgroundOptions,t),t.backgroundColor&&(e.backgroundColor=t.backgroundColor),e.color=e.backgroundColor,n.options.plotBands.unshift(e),i.plotBands=i.plotBands||[],i.plotBands!==n.options.plotBands&&i.plotBands.unshift(e)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{className:"highcharts-pane",shape:"circle",borderWidth:1,borderColor:"#cccccc",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#ffffff"],[1,"#e6e6e6"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}}),t.Pane=e}(t),function(t){"use strict";var e,i,n=t.Axis,r=t.CenteredSeriesMixin,o=t.each,s=t.extend,a=t.map,l=t.merge,u=t.noop,c=t.Pane,h=t.pick,d=t.pInt,p=t.Tick,f=t.splat,g=t.wrap,m=n.prototype,v=p.prototype;e={getOffset:u,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:u,setCategories:u,setTitle:u},i={defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(t){var e=this.options=l(this.defaultOptions,this.defaultRadialOptions,t);e.plotBands||(e.plotBands=[])},getOffset:function(){m.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=r.getCenter.call(this.pane)},getLinePath:function(t,e){var i,n,r=this.center,o=this.chart,s=h(e,r[2]/2-this.offset);return this.isCircular||void 0!==e?n=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],s,s,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0}):(i=this.postTranslate(this.angleRad,s),n=["M",r[0]+o.plotLeft,r[1]+o.plotTop,"L",i.x,i.y]),n},setAxisTranslation:function(){m.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=this.center[2]/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)},beforeSetTickPositions:function(){this.autoConnect=this.isCircular&&void 0===h(this.userMax,this.options.max)&&this.endAngleRad-this.startAngleRad==2*Math.PI,this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){m.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=r.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*h(this.sector,1)/2)},getPosition:function(t,e){return this.postTranslate(this.isCircular?this.translate(t):this.angleRad,h(this.isCircular?e:this.translate(t),this.center[2]/2)-this.offset)},postTranslate:function(t,e){var i=this.chart,n=this.center;return t=this.startAngleRad+t,{x:i.plotLeft+n[0]+Math.cos(t)*e,y:i.plotTop+n[1]+Math.sin(t)*e}},getPlotBandPath:function(t,e,i){var n,r,o,s,l=this.center,u=this.startAngleRad,c=l[2]/2,p=[h(i.outerRadius,"100%"),i.innerRadius,h(i.thickness,10)],f=Math.min(this.offset,0),g=/%$/,m=this.isCircular;return"polygon"===this.options.gridLineInterpolation?s=this.getPlotLinePath(t).concat(this.getPlotLinePath(e,!0)):(t=Math.max(t,this.min),e=Math.min(e,this.max),m||(p[0]=this.translate(t),p[1]=this.translate(e)),p=a(p,function(t){return g.test(t)&&(t=d(t,10)*c/100),t}),"circle"!==i.shape&&m?(n=u+this.translate(t),r=u+this.translate(e)):(n=-Math.PI/2,r=1.5*Math.PI,o=!0),p[0]-=f,p[2]-=f,s=this.chart.renderer.symbols.arc(this.left+l[0],this.top+l[1],p[0],p[0],{start:Math.min(n,r),end:Math.max(n,r),innerR:h(p[1],p[0]-p[2]),open:o})),s},getPlotLinePath:function(t,e){var i,n,r,s,a=this,l=a.center,u=a.chart,c=a.getPosition(t);return a.isCircular?s=["M",l[0]+u.plotLeft,l[1]+u.plotTop,"L",c.x,c.y]:"circle"===a.options.gridLineInterpolation?(t=a.translate(t))&&(s=a.getLinePath(0,t)):(o(u.xAxis,function(t){t.pane===a.pane&&(i=t)}),s=[],t=a.translate(t),r=i.tickPositions,i.autoConnect&&(r=r.concat([r[0]])),e&&(r=[].concat(r).reverse()),o(r,function(e,r){n=i.getPosition(e,t),s.push(r?"L":"M",n.x,n.y)})),s},getTitlePosition:function(){var t=this.center,e=this.chart,i=this.options.title;return{x:e.plotLeft+t[0]+(i.x||0),y:e.plotTop+t[1]-{high:.5,middle:.25,low:0}[i.align]*t[2]+(i.y||0)}}},g(m,"init",function(t,n,r){var o,a,u,d,p=this,g=n.angular,m=n.polar,v=r.isX,y=g&&v,b=n.options,x=r.pane||0;g?(s(this,y?e:i),(o=!v)&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):m&&(s(this,i),o=v,this.defaultRadialOptions=v?this.defaultRadialXOptions:l(this.defaultYAxisOptions,this.defaultRadialYOptions)),g||m?(this.isRadial=!0,n.inverted=!1,b.chart.zoomType=null):this.isRadial=!1,t.call(this,n,r),y||!g&&!m||(a=this.options,n.panes||(n.panes=[]),this.pane=u=n.panes[x]=n.panes[x]||new c(f(b.pane)[x],n,p),d=u.options,this.angleRad=(a.angle||0)*Math.PI/180,this.startAngleRad=(d.startAngle-90)*Math.PI/180,this.endAngleRad=(h(d.endAngle,d.startAngle+360)-90)*Math.PI/180,this.offset=a.offset||0,this.isCircular=o)}),g(m,"autoLabelAlign",function(t){if(!this.isRadial)return t.apply(this,[].slice.call(arguments,1))}),g(v,"getPosition",function(t,e,i,n,r){var o=this.axis;return o.getPosition?o.getPosition(i):t.call(this,e,i,n,r)}),g(v,"getLabelPosition",function(t,e,i,n,r,o,s,a,l){var u,c=this.axis,d=o.y,p=20,f=o.align,g=(c.translate(this.pos)+c.startAngleRad+Math.PI/2)/Math.PI*180%360;return c.isRadial?(u=c.getPosition(this.pos,c.center[2]/2+h(o.distance,-25)),"auto"===o.rotation?n.attr({rotation:g}):null===d&&(d=c.chart.renderer.fontMetrics(n.styles.fontSize).b-n.getBBox().height/2),null===f&&(c.isCircular?(this.label.getBBox().width>c.len*c.tickInterval/(c.max-c.min)&&(p=0),f=g>p&&g<180-p?"left":g>180+p&&g<360-p?"right":"center"):f="center",n.attr({align:f})),u.x+=o.x,u.y+=d):u=t.call(this,e,i,n,r,o,s,a,l),u}),g(v,"getMarkPath",function(t,e,i,n,r,o,s){var a,l,u=this.axis;return u.isRadial?(a=u.getPosition(this.pos,u.center[2]/2+n),l=["M",e,i,"L",a.x,a.y]):l=t.call(this,e,i,n,r,o,s),l})}(t),function(t){"use strict";var e=t.each,i=t.noop,n=t.pick,r=t.Series,o=t.seriesType,s=t.seriesTypes;o("arearange","area",{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}},{pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(t){return[t.low,t.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(t){var e=this.chart,i=this.xAxis.postTranslate(t.rectPlotX,this.yAxis.len-t.plotHigh);t.plotHighX=i.x-e.plotLeft,t.plotHigh=i.y-e.plotTop},translate:function(){var t=this,i=t.yAxis,n=!!t.modifyValue;s.area.prototype.translate.apply(t),e(t.points,function(e){var r=e.low,o=e.high,s=e.plotY;null===o||null===r?e.isNull=!0:(e.plotLow=s,e.plotHigh=i.translate(n?t.modifyValue(o,e):o,0,1,0,1),n&&(e.yBottom=e.plotHigh))}),this.chart.polar&&e(this.points,function(e){t.highToXY(e)})},getGraphPath:function(t){var e,i,r,o,a,l,u,c=[],h=[],d=s.area.prototype.getGraphPath,p=this.options,f=p.step;for(t=t||this.points,e=t.length,e=t.length;e--;)i=t[e],i.isNull||p.connectEnds||t[e+1]&&!t[e+1].isNull||h.push({plotX:i.plotX,plotY:i.plotY,doCurve:!1}),r={polarPlotY:i.polarPlotY,rectPlotX:i.rectPlotX,yBottom:i.yBottom,plotX:n(i.plotHighX,i.plotX),plotY:i.plotHigh,isNull:i.isNull},h.push(r),c.push(r),i.isNull||p.connectEnds||t[e-1]&&!t[e-1].isNull||h.push({plotX:i.plotX,plotY:i.plotY,doCurve:!1});return a=d.call(this,t),f&&(!0===f&&(f="left"),p.step={left:"right",center:"center",right:"left"}[f]),l=d.call(this,c),u=d.call(this,h),p.step=f,o=[].concat(a,l),this.chart.polar||"M"!==u[0]||(u[0]="L"),this.graphPath=o,this.areaPath=this.areaPath.concat(a,u),o.isArea=!0,o.xMap=a.xMap,this.areaPath.xMap=a.xMap,o},drawDataLabels:function(){var t,e,i,n=this.data,o=n.length,s=[],a=r.prototype,l=this.options.dataLabels,u=l.align,c=l.verticalAlign,h=l.inside,d=this.chart.inverted;if(l.enabled||this._hasPointLabels){for(t=o;t--;)(e=n[t])&&(i=h?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.y=e.high,e._plotY=e.plotY,e.plotY=e.plotHigh,s[t]=e.dataLabel,e.dataLabel=e.dataLabelUpper,e.below=i,d?u||(l.align=i?"right":"left"):c||(l.verticalAlign=i?"top":"bottom"),l.x=l.xHigh,l.y=l.yHigh);for(a.drawDataLabels&&a.drawDataLabels.apply(this,arguments),t=o;t--;)(e=n[t])&&(i=h?e.plotHigh<e.plotLow:e.plotHigh>e.plotLow,e.dataLabelUpper=e.dataLabel,e.dataLabel=s[t],e.y=e.low,e.plotY=e._plotY,e.below=!i,d?u||(l.align=i?"left":"right"):c||(l.verticalAlign=i?"bottom":"top"),l.x=l.xLow,l.y=l.yLow);a.drawDataLabels&&a.drawDataLabels.apply(this,arguments)}l.align=u,l.verticalAlign=c},alignDataLabel:function(){s.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:i,getSymbol:i,drawPoints:i})}(t),function(t){"use strict";(0,t.seriesType)("areasplinerange","arearange",null,{getPointSpline:t.seriesTypes.spline.prototype.getPointSpline})}(t),function(t){"use strict";var e=t.defaultPlotOptions,i=t.each,n=t.merge,r=t.noop,o=t.pick,s=t.seriesType,a=t.seriesTypes,l=a.column.prototype;s("columnrange","arearange",n(e.column,e.arearange,{lineWidth:1,pointRange:null}),{translate:function(){var t,e,n=this,r=n.yAxis,s=n.xAxis,a=s.startAngleRad,u=n.chart,c=n.xAxis.isRadial;l.translate.apply(n),i(n.points,function(i){var l,h,d,p=i.shapeArgs,f=n.options.minPointLength;i.plotHigh=e=r.translate(i.high,0,1,0,1),i.plotLow=i.plotY,d=e,h=o(i.rectPlotY,i.plotY)-e,Math.abs(h)<f?(l=f-h,h+=l,d-=l/2):h<0&&(h*=-1,d-=h),c?(t=i.barX+a,i.shapeType="path",i.shapeArgs={d:n.polarArc(d+h,d,t,t+i.pointWidth)}):(p.height=h,p.y=d,i.tooltipPos=u.inverted?[r.len+r.pos-u.plotLeft-d-h/2,s.len+s.pos-u.plotTop-p.x-p.width/2,h]:[s.left-u.plotLeft+p.x+p.width/2,r.pos-u.plotTop+d+h/2,h])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:r,crispCol:l.crispCol,drawPoints:l.drawPoints,drawTracker:l.drawTracker,getColumnMetrics:l.getColumnMetrics,animate:function(){return l.animate.apply(this,arguments)},polarArc:function(){return l.polarArc.apply(this,arguments)},pointAttribs:l.pointAttribs})}(t),function(t){"use strict";var e=t.each,i=t.isNumber,n=t.merge,r=t.noop,o=t.pick,s=t.pInt,a=t.Series,l=t.seriesType,u=t.TrackerMixin;l("gauge","line",{dataLabels:{enabled:!0,defer:!1,y:15,borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2,borderWidth:1,borderColor:"#cccccc"},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1},{angular:!0,directTouch:!0,drawGraph:r,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var t=this,r=t.yAxis,a=t.options,l=r.center;t.generatePoints(),e(t.points,function(t){var e=n(a.dial,t.dial),u=s(o(e.radius,80))*l[2]/200,c=s(o(e.baseLength,70))*u/100,h=s(o(e.rearLength,10))*u/100,d=e.baseWidth||3,p=e.topWidth||1,f=a.overshoot,g=r.startAngleRad+r.translate(t.y,null,null,null,!0);i(f)?(f=f/180*Math.PI,g=Math.max(r.startAngleRad-f,Math.min(r.endAngleRad+f,g))):!1===a.wrap&&(g=Math.max(r.startAngleRad,Math.min(r.endAngleRad,g))),g=180*g/Math.PI,t.shapeType="path",t.shapeArgs={d:e.path||["M",-h,-d/2,"L",c,-d/2,u,-p/2,u,p/2,c,d/2,-h,d/2,"z"],translateX:l[0],translateY:l[1],rotation:g},t.plotX=l[0],t.plotY=l[1]})},drawPoints:function(){var t=this,i=t.yAxis.center,r=t.pivot,s=t.options,a=s.pivot,l=t.chart.renderer;e(t.points,function(e){var i=e.graphic,r=e.shapeArgs,o=r.d,a=n(s.dial,e.dial);i?(i.animate(r),r.d=o):(e.graphic=l[e.shapeType](r).attr({rotation:r.rotation,zIndex:1}).addClass("highcharts-dial").add(t.group),e.graphic.attr({stroke:a.borderColor||"none","stroke-width":a.borderWidth||0,fill:a.backgroundColor||"#000000"}))}),r?r.animate({translateX:i[0],translateY:i[1]}):(t.pivot=l.circle(0,0,o(a.radius,5)).attr({zIndex:2}).addClass("highcharts-pivot").translate(i[0],i[1]).add(t.group),t.pivot.attr({"stroke-width":a.borderWidth||0,stroke:a.borderColor||"#cccccc",fill:a.backgroundColor||"#000000"}))},animate:function(t){var i=this;t||(e(i.points,function(t){var e=t.graphic;e&&(e.attr({rotation:180*i.yAxis.startAngleRad/Math.PI}),e.animate({rotation:t.shapeArgs.rotation},i.options.animation))}),i.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),a.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(t,e){a.prototype.setData.call(this,t,!1),this.processData(),this.generatePoints(),o(e,!0)&&this.chart.redraw()},drawTracker:u&&u.drawTrackerPoint},{setState:function(t){this.state=t}})}(t),function(t){"use strict";var e=t.each,i=t.noop,n=t.pick,r=t.seriesType,o=t.seriesTypes;r("boxplot","column",{threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",fillColor:"#ffffff",lineWidth:1,medianWidth:2,states:{hover:{brightness:-.3}},whiskerWidth:2},{pointArrayMap:["low","q1","median","q3","high"],toYData:function(t){return[t.low,t.q1,t.median,t.q3,t.high]},pointValKey:"high",pointAttribs:function(t){var e=this.options,i=t&&t.color||this.color;return{fill:t.fillColor||e.fillColor||i,stroke:e.lineColor||i,"stroke-width":e.lineWidth||0}},drawDataLabels:i,translate:function(){var t=this,i=t.yAxis,n=t.pointArrayMap;o.column.prototype.translate.apply(t),
e(t.points,function(t){e(n,function(e){null!==t[e]&&(t[e+"Plot"]=i.translate(t[e],0,1,0,1))})})},drawPoints:function(){var t,i,r,o,s,a,l,u,c,h,d,p=this,f=p.points,g=p.options,m=p.chart,v=m.renderer,y=0,b=!1!==p.doQuartiles,x=p.options.whiskerLength;e(f,function(e){var f,m=e.graphic,w=m?"animate":"attr",S=e.shapeArgs,k={},C={},T={},A=e.color||p.color;void 0!==e.plotY&&(l=S.width,u=Math.floor(S.x),c=u+l,h=Math.round(l/2),t=Math.floor(b?e.q1Plot:e.lowPlot),i=Math.floor(b?e.q3Plot:e.lowPlot),r=Math.floor(e.highPlot),o=Math.floor(e.lowPlot),m||(e.graphic=m=v.g("point").add(p.group),e.stem=v.path().addClass("highcharts-boxplot-stem").add(m),x&&(e.whiskers=v.path().addClass("highcharts-boxplot-whisker").add(m)),b&&(e.box=v.path(void 0).addClass("highcharts-boxplot-box").add(m)),e.medianShape=v.path(void 0).addClass("highcharts-boxplot-median").add(m),k.stroke=e.stemColor||g.stemColor||A,k["stroke-width"]=n(e.stemWidth,g.stemWidth,g.lineWidth),k.dashstyle=e.stemDashStyle||g.stemDashStyle,e.stem.attr(k),x&&(C.stroke=e.whiskerColor||g.whiskerColor||A,C["stroke-width"]=n(e.whiskerWidth,g.whiskerWidth,g.lineWidth),e.whiskers.attr(C)),b&&(f=p.pointAttribs(e),e.box.attr(f)),T.stroke=e.medianColor||g.medianColor||A,T["stroke-width"]=n(e.medianWidth,g.medianWidth,g.lineWidth),e.medianShape.attr(T)),a=e.stem.strokeWidth()%2/2,y=u+h+a,e.stem[w]({d:["M",y,i,"L",y,r,"M",y,t,"L",y,o]}),b&&(a=e.box.strokeWidth()%2/2,t=Math.floor(t)+a,i=Math.floor(i)+a,u+=a,c+=a,e.box[w]({d:["M",u,i,"L",u,t,"L",c,t,"L",c,i,"L",u,i,"z"]})),x&&(a=e.whiskers.strokeWidth()%2/2,r+=a,o+=a,d=/%$/.test(x)?h*parseFloat(x)/100:x/2,e.whiskers[w]({d:["M",y-d,r,"L",y+d,r,"M",y-d,o,"L",y+d,o]})),s=Math.round(e.medianPlot),a=e.medianShape.strokeWidth()%2/2,s+=a,e.medianShape[w]({d:["M",u,s,"L",c,s]}))})},setStackedPoints:i})}(t),function(t){"use strict";var e=t.each,i=t.noop,n=t.seriesType,r=t.seriesTypes;n("errorbar","boxplot",{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null},{type:"errorbar",pointArrayMap:["low","high"],toYData:function(t){return[t.low,t.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:r.arearange?function(){var t=this.pointValKey;r.arearange.prototype.drawDataLabels.call(this),e(this.data,function(e){e.y=e[t]})}:i,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||r.column.prototype.getColumnMetrics.call(this)}})}(t),function(t){"use strict";var e=t.correctFloat,i=t.isNumber,n=t.noop,r=t.pick,o=t.Point,s=t.Series,a=t.seriesType,l=t.seriesTypes;a("waterfall","column",{dataLabels:{inside:!0},lineWidth:1,lineColor:"#333333",dashStyle:"dot",borderColor:"#333333",states:{hover:{lineWidthPlus:0}}},{pointValKey:"y",translate:function(){var t,i,n,o,s,a,u,c,h,d,p,f,g,m=this,v=m.options,y=m.yAxis,b=r(v.minPointLength,5),x=v.threshold,w=v.stacking,S=0,k=0;for(l.column.prototype.translate.apply(this),h=d=x,n=m.points,i=0,t=n.length;i<t;i++)o=n[i],c=this.processedYData[i],s=o.shapeArgs,a=w&&y.stacks[(m.negStacks&&c<x?"-":"")+m.stackKey],f=m.getStackIndicator(f,o.x),p=a?a[o.x].points[m.index+","+i+","+f.index]:[0,c],o.isSum?o.y=e(c):o.isIntermediateSum&&(o.y=e(c-d)),u=Math.max(h,h+o.y)+p[0],s.y=y.toPixels(u,!0),o.isSum?(s.y=y.toPixels(p[1],!0),s.height=Math.min(y.toPixels(p[0],!0),y.len)-s.y+S+k):o.isIntermediateSum?(s.y=y.toPixels(p[1],!0),s.height=Math.min(y.toPixels(d,!0),y.len)-s.y+S+k,d=p[1]):(s.height=c>0?y.toPixels(h,!0)-s.y:y.toPixels(h,!0)-y.toPixels(h-c,!0),h+=c),s.height<0&&(s.y+=s.height,s.height*=-1),o.plotY=s.y=Math.round(s.y)-m.borderWidth%2/2,s.height=Math.max(Math.round(s.height),.001),o.yBottom=s.y+s.height,s.y-=k,s.height<=b&&!o.isNull&&(s.height=b,o.y<0?k-=b:S+=b),s.y-=S,g=o.plotY-k-S+(o.negative&&k>=0?s.height:0),m.chart.inverted?o.tooltipPos[0]=y.len-g:o.tooltipPos[1]=g},processData:function(t){var i,n,r,o,a,l,u,c=this,h=c.options,d=c.yData,p=c.options.data,f=d.length,g=h.threshold||0;for(r=n=o=a=g,u=0;u<f;u++)l=d[u],i=p&&p[u]?p[u]:{},"sum"===l||i.isSum?d[u]=e(r):"intermediateSum"===l||i.isIntermediateSum?d[u]=e(n):(r+=l,n+=l),o=Math.min(r,o),a=Math.max(r,a);s.prototype.processData.call(this,t),c.dataMin=o,c.dataMax=a},toYData:function(t){return t.isSum?0===t.x?null:"sum":t.isIntermediateSum?0===t.x?null:"intermediateSum":t.y},pointAttribs:function(t,e){var i,n=this.options.upColor;return n&&!t.options.color&&(t.color=t.y>0?n:null),i=l.column.prototype.pointAttribs.call(this,t,e),delete i.dashstyle,i},getGraphPath:function(){return["M",0,0]},getCrispPath:function(){var t,e,i,n,r=this.data,o=r.length,s=this.graph.strokeWidth()+this.borderWidth,a=Math.round(s)%2/2,l=[];for(i=1;i<o;i++)e=r[i].shapeArgs,t=r[i-1].shapeArgs,n=["M",t.x+t.width,t.y+a,"L",e.x,t.y+a],r[i-1].y<0&&(n[2]+=t.height,n[5]+=t.height),l=l.concat(n);return l},drawGraph:function(){s.prototype.drawGraph.call(this),this.graph.attr({d:this.getCrispPath()})},getExtremes:n},{getClassName:function(){var t=o.prototype.getClassName.call(this);return this.isSum?t+=" highcharts-sum":this.isIntermediateSum&&(t+=" highcharts-intermediate-sum"),t},isValid:function(){return i(this.y,!0)||this.isSum||this.isIntermediateSum}})}(t),function(t){"use strict";var e=t.LegendSymbolMixin,i=t.noop,n=t.Series,r=t.seriesType,o=t.seriesTypes;r("polygon","scatter",{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0},{type:"polygon",getGraphPath:function(){for(var t=n.prototype.getGraphPath.call(this),e=t.length+1;e--;)(e===t.length||"M"===t[e])&&e>0&&t.splice(e,0,"z");return this.areaPath=t,t},drawGraph:function(){this.options.fillColor=this.color,o.area.prototype.drawGraph.call(this)},drawLegendSymbol:e.drawRectangle,drawTracker:n.prototype.drawTracker,setStackedPoints:i})}(t),function(t){"use strict";var e=t.arrayMax,i=t.arrayMin,n=t.Axis,r=t.color,o=t.each,s=t.isNumber,a=t.noop,l=t.pick,u=t.pInt,c=t.Point,h=t.Series,d=t.seriesType,p=t.seriesTypes;d("bubble","scatter",{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1,radius:null,states:{hover:{radiusPlus:0}}},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",markerAttribs:null,pointAttribs:function(t,e){var i=this.options.marker,n=l(i.fillOpacity,.5),o=h.prototype.pointAttribs.call(this,t,e);return 1!==n&&(o.fill=r(o.fill).setOpacity(n).get("rgba")),o},getRadii:function(t,e,i,n){var r,o,s,a,l,u=this.zData,c=[],h=this.options,d="width"!==h.sizeBy,p=h.zThreshold,f=e-t;for(o=0,r=u.length;o<r;o++)a=u[o],h.sizeByAbsoluteValue&&null!==a&&(a=Math.abs(a-p),e=Math.max(e-p,Math.abs(t-p)),t=0),null===a?l=null:a<t?l=i/2-1:(s=f>0?(a-t)/f:.5,d&&s>=0&&(s=Math.sqrt(s)),l=Math.ceil(i+s*(n-i))/2),c.push(l);this.radii=c},animate:function(t){var e=this.options.animation;t||(o(this.points,function(t){var i=t.graphic,n=t.shapeArgs;i&&n&&(i.attr("r",1),i.animate({r:n.r},e))}),this.animate=null)},translate:function(){var t,e,i,n=this.data,r=this.radii;for(p.scatter.prototype.translate.call(this),t=n.length;t--;)e=n[t],i=r?r[t]:0,s(i)&&i>=this.minPxSize/2?(e.shapeType="circle",e.shapeArgs={x:e.plotX,y:e.plotY,r:i},e.dlBox={x:e.plotX-i,y:e.plotY-i,width:2*i,height:2*i}):e.shapeArgs=e.plotY=e.dlBox=void 0},drawLegendSymbol:function(t,e){var i=this.chart.renderer,n=i.fontMetrics(t.itemStyle&&t.itemStyle.fontSize,e.legendItem).f/2;e.legendSymbol=i.circle(n,t.baseline-n,n).attr({zIndex:3}).add(e.legendGroup),e.legendSymbol.isMarker=!0},drawPoints:p.column.prototype.drawPoints,alignDataLabel:p.column.prototype.alignDataLabel,buildKDTree:a,applyZones:a},{haloPath:function(t){return c.prototype.haloPath.call(this,0===t?0:this.shapeArgs.r+t)},ttBelow:!1}),n.prototype.beforePadding=function(){var t=this,n=this.len,r=this.chart,a=0,c=n,h=this.isXAxis,d=h?"xData":"yData",p=this.min,f={},g=Math.min(r.plotWidth,r.plotHeight),m=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=this.max-p,b=n/y,x=[];o(this.series,function(n){var s,a=n.options;!n.bubblePadding||!n.visible&&r.options.chart.ignoreHiddenSeries||(t.allowZoomOutside=!0,x.push(n),h&&(o(["minSize","maxSize"],function(t){var e=a[t],i=/%$/.test(e);e=u(e),f[t]=i?g*e/100:e}),n.minPxSize=f.minSize,n.maxPxSize=Math.max(f.maxSize,f.minSize),s=n.zData,s.length&&(m=l(a.zMin,Math.min(m,Math.max(i(s),!1===a.displayNegative?a.zThreshold:-Number.MAX_VALUE))),v=l(a.zMax,Math.max(v,e(s))))))}),o(x,function(e){var i,n=e[d],r=n.length;if(h&&e.getRadii(m,v,e.minPxSize,e.maxPxSize),y>0)for(;r--;)s(n[r])&&t.dataMin<=n[r]&&n[r]<=t.dataMax&&(i=e.radii[r],a=Math.min((n[r]-p)*b-i,a),c=Math.max((n[r]-p)*b+i,c))}),x.length&&y>0&&!this.isLog&&(c-=n,b*=(n+a-c)/n,o([["min","userMin",a],["max","userMax",c]],function(e){void 0===l(t.options[e[0]],t[e[1]])&&(t[e[0]]+=e[2]/b)}))}}(t),function(t){"use strict";function e(t,e){var i,n=this.chart,r=this.options.animation,o=this.group,s=this.markerGroup,a=this.xAxis.center,l=n.plotLeft,u=n.plotTop;n.polar?n.renderer.isSVG&&(!0===r&&(r={}),e?(i={translateX:a[0]+l,translateY:a[1]+u,scaleX:.001,scaleY:.001},o.attr(i),s&&s.attr(i)):(i={translateX:l,translateY:u,scaleX:1,scaleY:1},o.animate(i,r),s&&s.animate(i,r),this.animate=null)):t.call(this,e)}var i,n=t.each,r=t.pick,o=t.Pointer,s=t.Series,a=t.seriesTypes,l=t.wrap,u=s.prototype,c=o.prototype;u.searchPointByAngle=function(t){var e=this,i=e.chart,n=e.xAxis,r=n.pane.center,o=t.chartX-r[0]-i.plotLeft,s=t.chartY-r[1]-i.plotTop;return this.searchKDTree({clientX:180+Math.atan2(o,s)*(-180/Math.PI)})},l(u,"buildKDTree",function(t){this.chart.polar&&(this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2),t.apply(this)}),u.toXY=function(t){var e,i,n=this.chart,r=t.plotX,o=t.plotY;t.rectPlotX=r,t.rectPlotY=o,e=this.xAxis.postTranslate(t.plotX,this.yAxis.len-o),t.plotX=t.polarPlotX=e.x-n.plotLeft,t.plotY=t.polarPlotY=e.y-n.plotTop,this.kdByAngle?(i=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360,i<0&&(i+=360),t.clientX=i):t.clientX=t.plotX},a.spline&&l(a.spline.prototype,"getPointSpline",function(t,e,i,n){var r,o,s,a,l,u,c,h,d,p,f,g,m,v,y,b,x,w;return this.chart.polar?(o=i.plotX,s=i.plotY,a=e[n-1],l=e[n+1],this.connectEnds&&(a||(a=e[e.length-2]),l||(l=e[1])),a&&l&&(u=a.plotX,c=a.plotY,h=l.plotX,d=l.plotY,p=(1.5*o+u)/2.5,f=(1.5*s+c)/2.5,g=(1.5*o+h)/2.5,m=(1.5*s+d)/2.5,v=Math.sqrt(Math.pow(p-o,2)+Math.pow(f-s,2)),y=Math.sqrt(Math.pow(g-o,2)+Math.pow(m-s,2)),b=Math.atan2(f-s,p-o),x=Math.atan2(m-s,g-o),w=Math.PI/2+(b+x)/2,Math.abs(b-w)>Math.PI/2&&(w-=Math.PI),p=o+Math.cos(w)*v,f=s+Math.sin(w)*v,g=o+Math.cos(Math.PI+w)*y,m=s+Math.sin(Math.PI+w)*y,i.rightContX=g,i.rightContY=m),n?(r=["C",a.rightContX||a.plotX,a.rightContY||a.plotY,p||o,f||s,o,s],a.rightContX=a.rightContY=null):r=["M",o,s]):r=t.call(this,e,i,n),r}),l(u,"translate",function(t){var e,i,n=this.chart;if(t.call(this),n.polar&&(this.kdByAngle=n.tooltip&&n.tooltip.shared,!this.preventPostTranslate))for(e=this.points,i=e.length;i--;)this.toXY(e[i])}),l(u,"getGraphPath",function(t,e){var i,r,o=this;if(this.chart.polar){for(e=e||this.points,i=0;i<e.length;i++)if(!e[i].isNull){r=i;break}!1!==this.options.connectEnds&&void 0!==r&&(this.connectEnds=!0,e.splice(e.length,0,e[r])),n(e,function(t){void 0===t.polarPlotY&&o.toXY(t)})}return t.apply(this,[].slice.call(arguments,1))}),l(u,"animate",e),a.column&&(i=a.column.prototype,i.polarArc=function(t,e,i,n){var o=this.xAxis.center,s=this.yAxis.len;return this.chart.renderer.symbols.arc(o[0],o[1],s-e,null,{start:i,end:n,innerR:s-r(t,s)})},l(i,"animate",e),l(i,"translate",function(t){var e,i,n,r,o=this.xAxis,s=o.startAngleRad;if(this.preventPostTranslate=!0,t.call(this),o.isRadial)for(i=this.points,r=i.length;r--;)n=i[r],e=n.barX+s,n.shapeType="path",n.shapeArgs={d:this.polarArc(n.yBottom,n.plotY,e,e+n.pointWidth)},this.toXY(n),n.tooltipPos=[n.plotX,n.plotY],n.ttBelow=n.plotY>o.center[1]}),l(i,"alignDataLabel",function(t,e,i,n,r,o){if(this.chart.polar){var s,a,l=e.rectPlotX/Math.PI*180;null===n.align&&(s=l>20&&l<160?"left":l>200&&l<340?"right":"center",n.align=s),null===n.verticalAlign&&(a=l<45||l>315?"bottom":l>135&&l<225?"top":"middle",n.verticalAlign=a),u.alignDataLabel.call(this,e,i,n,r,o)}else t.call(this,e,i,n,r,o)})),l(c,"getCoordinates",function(t,e){var i=this.chart,r={xAxis:[],yAxis:[]};return i.polar?n(i.axes,function(t){var n=t.isXAxis,o=t.center,s=e.chartX-o[0]-i.plotLeft,a=e.chartY-o[1]-i.plotTop;r[n?"xAxis":"yAxis"].push({axis:t,value:t.translate(n?Math.PI-Math.atan2(s,a):Math.sqrt(Math.pow(s,2)+Math.pow(a,2)),!0)})}):r=t.call(this,e),r})}(t)})}.apply(t,arguments)})}(this),function(t){define("highcharts-solid-gauge",["highcharts-more"],function(){return function(){!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){!function(t){"use strict";var e,i=t.pInt,n=t.pick,r=t.each,o=t.isNumber;e={initDataClasses:function(e){var i,n=this,o=this.chart,s=0,a=this.options;this.dataClasses=i=[],r(e.dataClasses,function(r,l){var u;r=t.merge(r),i.push(r),r.color||("category"===a.dataClassColor?(u=o.options.colors,r.color=u[s++],s===u.length&&(s=0)):r.color=n.tweenColors(t.color(a.minColor),t.color(a.maxColor),l/(e.dataClasses.length-1)))})},initStops:function(e){this.stops=e.stops||[[0,this.options.minColor],[1,this.options.maxColor]],r(this.stops,function(e){e.color=t.color(e[1])})},toColor:function(t,e){var i,n,r,o,s,a,l=this.stops,u=this.dataClasses;if(u){for(a=u.length;a--;)if(s=u[a],n=s.from,r=s.to,(void 0===n||t>=n)&&(void 0===r||t<=r)){o=s.color,e&&(e.dataClass=a);break}}else{for(this.isLog&&(t=this.val2lin(t)),i=1-(this.max-t)/(this.max-this.min),a=l.length;a--&&!(i>l[a][0]););n=l[a]||l[a+1],r=l[a+1]||n,i=1-(r[0]-i)/(r[0]-n[0]||1),o=this.tweenColors(n.color,r.color,i)}return o},tweenColors:function(t,e,i){var n,r;return e.rgba.length&&t.rgba.length?(t=t.rgba,e=e.rgba,n=1!==e[3]||1!==t[3],r=(n?"rgba(":"rgb(")+Math.round(e[0]+(t[0]-e[0])*(1-i))+","+Math.round(e[1]+(t[1]-e[1])*(1-i))+","+Math.round(e[2]+(t[2]-e[2])*(1-i))+(n?","+(e[3]+(t[3]-e[3])*(1-i)):"")+")"):r=e.input||"none",r}},r(["fill","stroke"],function(i){t.Fx.prototype[i+"Setter"]=function(){this.elem.attr(i,e.tweenColors(t.color(this.start),t.color(this.end),this.pos),null,!0)}}),t.seriesType("solidgauge","gauge",{colorByPoint:!0},{translate:function(){var i=this.yAxis;t.extend(i,e),!i.dataClasses&&i.options.dataClasses&&i.initDataClasses(i.options),i.initStops(i.options),t.seriesTypes.gauge.prototype.translate.call(this)},drawPoints:function(){var t,e=this,s=e.yAxis,a=s.center,l=e.options,u=e.chart.renderer,c=l.overshoot,h=o(c)?c/180*Math.PI:0;o(l.threshold)&&(t=s.startAngleRad+s.translate(l.threshold,null,null,null,!0)),this.thresholdAngleRad=n(t,s.startAngleRad),r(e.points,function(t){var r,o,c,d,p=t.graphic,f=s.startAngleRad+s.translate(t.y,null,null,null,!0),g=i(n(t.options.radius,l.radius,100))*a[2]/200,m=i(n(t.options.innerRadius,l.innerRadius,60))*a[2]/200,v=s.toColor(t.y,t),y=Math.min(s.startAngleRad,s.endAngleRad),b=Math.max(s.startAngleRad,s.endAngleRad);"none"===v&&(v=t.color||e.color||"none"),"none"!==v&&(t.color=v),f=Math.max(y-h,Math.min(b+h,f)),!1===l.wrap&&(f=Math.max(y,Math.min(b,f))),c=Math.min(f,e.thresholdAngleRad),d=Math.max(f,e.thresholdAngleRad),d-c>2*Math.PI&&(d=c+2*Math.PI),t.shapeArgs=r={x:a[0],y:a[1],r:g,innerR:m,start:c,end:d,fill:v},t.startR=g,p?(o=r.d,p.animate(r),o&&(r.d=o)):(t.graphic=u.arc(r).addClass("highcharts-point").attr({fill:v,"sweep-flag":0}).add(e.group),"square"!==l.linecap&&t.graphic.attr({"stroke-linecap":"round","stroke-linejoin":"round"}),t.graphic.attr({stroke:l.borderColor||"none","stroke-width":l.borderWidth||0}))})},animate:function(e){e||(this.startAngleRad=this.thresholdAngleRad,t.seriesTypes.pie.prototype.animate.call(this,e))}})}(t)})}.apply(t,arguments)})}(this),define("stats/mainstream",["require","svg-js","lodash","highcharts","stats/base-v2","highcharts-more","highcharts-solid-gauge"],function(t){"use strict";var e=t("svg-js"),i=t("lodash"),n=t("highcharts"),r=t("stats/base-v2");t("highcharts-more"),t("highcharts-solid-gauge");var o=function(t,e){r.call(this,t,e)};o.prototype=Object.create(r.prototype),o.prototype.constructor=o;var s=r.prototype,a=["#9900FF","#0066FF","#009966","#FFBB00","#FF6600","#B90000"];return o.prototype.start=function(){var t=this.$el.find(".js-mainstream-target");this.data=this.getData(),this.chart=this.createChart(t,this.data),s.start.call(this)},o.prototype.onVisible=function(){this.animateChart(this.data.percentage)},o.prototype.stop=function(){s.stop.call(this)},o.prototype.getData=function(){return{bucket:parseInt(this.$el.data("mainstream-bucket"),10),percentage:parseFloat(this.$el.data("mainstream-percentage"))}},o.prototype.createChart=function(t,e){return new n.Chart({chart:{renderTo:t.get(0),margin:0,events:{load:this.wrapHandler(this.loadHandler),redraw:this.wrapHandler(this.redrawHandler)}},title:null,colors:[a[e.bucket]],tooltip:{enabled:!1},credits:{enabled:!1},pane:{startAngle:-90,endAngle:90,center:["50%","85%"],size:"170%",background:{backgroundColor:"#EEE",borderWidth:0,innerRadius:0,outerRadius:"100%",shape:"arc"}},yAxis:{min:0,max:100,minorTickInterval:null,tickAmount:0,labels:!1,lineWidth:0,tickWidth:0},plotOptions:{gauge:{dataLabels:!1,dial:{baseWidth:10,baseLength:0,rearLength:0,topWidth:0,radius:"100%"}},solidgauge:{dataLabels:!1,innerRadius:0}},series:[{type:"solidgauge",data:[0]},{type:"gauge",data:[0]}]})},o.prototype.animateChart=function(t){this.chart.series.forEach(function(e){e.setData([t])})},o.prototype.loadHandler=function(t){var e=t.target;this.addSpindle(e),this.styleSpindle(e),this.styleDial(e),e.redraw()},o.prototype.redrawHandler=function(t){var e=t.target;this.styleSpindle(e)},o.prototype.addSpindle=function(t){var i=e.adopt(t.renderer.box);this.spindle=i.nested(),this.spindleOuter=this.spindle.circle(),this.spindleInner=this.spindle.circle().fill("#fff")},o.prototype.styleSpindle=function(t){var e=t.chartWidth,i=t.chartHeight;this.spindle.center(50*e/100,85*i/100);var n=Math.min(e,i);this.spindleOuter.radius(12.75*n/100),this.spindleInner.radius(5*n/100)},o.prototype.styleDial=function(t){var e=t.chartWidth,n=t.chartHeight,r=Math.min(e,n),o=i.filter(t.series,{type:"gauge"})[0],s={dial:{baseWidth:10*r/100}};o.update(s,!1)},o.prototype.wrapHandler=function(t){return function(e){t.bind(this)(e)}.bind(this)},o}),define("stats/scrobbles-v2",["require","lodash","stats/base-v2","stats/bar-chart-v2","stats/data-loader"],function(t){"use strict";var e=t("lodash"),i=t("stats/base-v2"),n=t("stats/bar-chart-v2"),r=t("stats/data-loader"),o={clr_scarlet:"#B90000",clr_scarlet_light:"rgba(185, 0, 0, 0.2)",clr_mineshaft:"#222222"},s=function(t,e){i.call(this,t,e),this.$el=t,this.app=e,this.barChart=new n(e)};s.prototype=Object.create(i.prototype),s.prototype.constructor=s;var a=i.prototype;return s.prototype.start=function(){a.start.call(this);var t=r.load(this.$el.find(".js-scrobble-stats-history-data")),i=this.$el.find(".js-scrobble-stats-target"),n=e.map(t,function(t){return t.period}),s=t.map(function(t){return{value:t.scrobbleCount,link:t.libraryUrl,tooltip:t.scrobbleCountTooltip}}),l=t.map(function(t){return{value:t.comparisonScrobbleCount,link:t.comparisonLibraryUrl,tooltip:t.comparisonScrobbleCountTooltip}}),u=t.map(function(t){return{value:t.averageScrobbles,tooltip:t.averageScrobblesTooltip}});this.barChart.start(),this.barChart.render(i[0],[{data:l,color:o.clr_scarlet_light,type:"column"},{data:s,color:o.clr_scarlet,type:"column"},{data:u,color:o.clr_mineshaft,type:"line"}],n)},s.prototype.onVisible=function(){this.barChart.animate()},s.prototype.stop=function(){a.stop.call(this),this.barChart.stop()},s}),define("stats/top-tags",["require","svg-js","core/svg-utils-v2","jquery","highcharts","stats/base-v2","stats/tooltip"],function(t){"use strict";var e=t("svg-js"),i=t("core/svg-utils-v2"),n=t("jquery"),r=t("highcharts"),o=t("stats/base-v2"),s=t("stats/tooltip"),a=function(t,e){o.call(this,t,e)};a.prototype=Object.create(o.prototype),a.prototype.constructor=a;var l=o.prototype;return a.prototype.start=function(){l.start.call(this),this.fontFamily=n("body").css("fontFamily"),this.tooltip=new s,this.tooltip.start()},a.prototype.onVisible=function(){var t=this.data(),e=this.$el.find(".js-top-tags-target"),i=this.drawChart(e,t);this.postprocessChart(i)},a.prototype.stop=function(){l.stop.call(this),this.tooltip.stop()},a.prototype.data=function(){var t,e=[];return this.$el.find(".js-top-tags-table tbody tr").each(function(){t=n(this).find("td"),e.push({name:t.eq(0).text().trim(),url:t.eq(0).find("a").attr("href"),percentage:parseFloat(t.eq(1).data("value"))})}),e},a.prototype.drawChart=function(t,e){return e.forEach(function(t){t.y=t.percentage}),new r.Chart({chart:{renderTo:t.get(0),margin:0,events:{load:this.wrapHandler(this.addImage),redraw:this.wrapHandler(this.positionImage)}},title:!1,tooltip:{enabled:!1},credits:{enabled:!1},plotOptions:{pie:{point:{events:{legendItemClick:function(){return!1}}}}},series:[{type:"pie",data:e,innerSize:"45%",slicedOffset:0,size:"100%",borderWidth:2,animation:!0,colors:["#B90000","#FF6600","#FFBB00","#009966","#9900FF"],dataLabels:{enabled:!1},states:{hover:{halo:!1}},cursor:"pointer"}]})},a.prototype.postprocessChart=function(t){t.series[0].points.map(function(t){var e=n(t.graphic.element);this.addTooltipHandlers(e,t.name),i.addLink(e,t.url)}.bind(this))},a.prototype.addTooltipHandlers=function(t,e){t.mouseover(function(t){this.tooltip.show(t.clientX,t.clientY,e)}.bind(this)),t.mousemove(function(t){this.tooltip.move(t.clientX,t.clientY)}.bind(this)),t.mouseout(function(){this.tooltip.hide()}.bind(this))},a.prototype.addImage=function(t){var i=t.target,n=e.adopt(i.renderer.box),r=n.nested();this.image=r.svg('<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><style>.st0{fill:#0066FF;}</style><path class="st0" d="M29 1H17.9c-.5 0-1.3.3-1.7.7L1.6 16.3c-.8.8-.8 2 0 2.8l11.3 11.3c.8.8 2 .8 2.8 0l14.6-14.6c.4-.4.7-1.2.7-1.7V3c0-1.1-.9-2-2-2zm-6 10c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"/></svg>'),this.positionImage(t)},a.prototype.positionImage=function(t){var e=t.target,i=e.chartWidth,n=e.chartHeight,r=.2*Math.min(i,n);this.image.size(r,r),this.image.center(i/2,n/2)},a.prototype.wrapHandler=function(t){return function(e){t.bind(this)(e)}.bind(this)},a}),define("stats/tube-tags",["require","jquery","lodash","core/media-size-v2","highcharts","stats/base-v2","stats/tooltip","stats/point-tooltips"],function(t){"use strict";var e=t("jquery"),i=t("lodash"),n=t("core/media-size-v2"),r=t("highcharts"),o=t("stats/base-v2"),s=t("stats/tooltip"),a=t("stats/point-tooltips"),l=["#E63900","#FFC900","#009966","#0066FF","#9900FF","#B90000","#FF9900","#8FBF00","#00AFBF","#3636D9","#CC0099","#FF6600"],u=function(t,e){o.call(this,t,e)};u.prototype=Object.create(o.prototype),u.prototype.constructor=u;var c=o.prototype;return u.prototype.start=function(){c.start.call(this),this.tooltip=new s,this.tooltip.start()},u.prototype.onVisible=function(){var t=this.data(),e=this.$el.find(".js-tube-tags-target");this.chart=this.drawChart(e,t)},u.prototype.stop=function(){c.stop.call(this),this.tooltip.stop(),this.tooltips&&this.tooltips.stop()},u.prototype.data=function(){var t=[],i=this.$el.find(".js-tube-tags-table");return i.find("th").each(function(n){var r=i.find("tr td:nth-child("+(n+1)+")"),o={date:e(this).text().trim(),tags:r.map(function(){return e(this).text().trim()}).get()};t.push(o)}),t},u.prototype.drawChart=function(t,e){var n=this.formatSeries(e);this.addMarkers(n),this.addColours(n);var o=i.pluck(e,"date"),s=new r.Chart({chart:{renderTo:t.get(0),type:"spline"},title:!1,legend:{enabled:!1},credits:{enabled:!1},plotOptions:{series:{allowPointSelect:!0,marker:{enabled:!1,symbol:"circle",radius:6},lineWidth:5,linecap:"square",states:{hover:{enabled:!1}}}},tooltip:{enabled:!1,snap:8},yAxis:{visible:!1,tickInterval:.25,min:-.1},xAxis:{categories:o,lineColor:"transparent",tickColor:"transparent",min:0,max:e.length-1},series:n});s.series.forEach(this.applyZoneStyling.bind(this)),this.addTooltips(s.series)},u.prototype.formatSeries=function(t){var e=i.uniq(i.reject(i.flatten(t,"tags"),i.isEmpty)),n=e.map(function(t){return{name:t,data:[]}});t.forEach(function(t,e){t.tags.length&&n.forEach(function(i){var n=t.tags.indexOf(i.name);n=-1===n?t.tags.length:n;var r=t.tags.length-n;if(!r)return void i.data.push({x:e,y:0,nodata:!0});i.data.push({x:e,y:r})})});var r=function(t){var e=!1;return t.filter(function(t){return e=e||!t.nodata})};return n.forEach(function(t){t.data.reverse(),t.data=r(t.data),t.data.reverse(),t.data=r(t.data)}),n.forEach(function(t){var e=[];t.data.forEach(function(t){e.push(i.extend({},t,{x:t.x-.25}),i.extend({},t,{x:t.x+.25}))}),t.data=e}),n.forEach(function(t){var e=t.data.map(function(e,i){var n=i<t.data.length-1&&t.data[i+1];if(n&&n.nodata!==e.nodata){var r=e.nodata?n:e;return{value:r.x,opacity:r!==e?.3:1}}});e=i.flatten(e),e=i.reject(e,i.isUndefined),e.length&&(t.zoneAxis="x",e.push({opacity:1,value:999999}),t.zones=e)}),n.forEach(function(t){t.data.forEach(function(t){t.nodata&&delete t.nodata})}),n},u.prototype.addMarkers=function(t){t.forEach(function(t){e.extend(t.data[0],{enabled:!0,dataLabels:{enabled:!0,verticalAlign:"bottom",y:-5,overflow:!0,crop:!1,formatter:function(){var e=this.labelMaxLength(),i=t.name;return i.length>e&&(i=i.slice(0,e-1)+"…"),i}.bind(this)},marker:{enabled:!0}})}.bind(this))},u.prototype.addColours=function(t){t.forEach(function(t){var e=t.name.split(""),i=e.reduce(function(t,e){return t+e.charCodeAt(0)},0);t.color=l[i%l.length]})},u.prototype.labelMaxLength=function(){var t=n.getMediaSize();return"xs"===t?12:"lg"===t?11:10},u.prototype.applyZoneStyling=function(t){t.zones.forEach(function(e,i){if(e.hasOwnProperty("opacity")){t["zone-graph-"+i].element.setAttribute("opacity",e.opacity)}})},u.prototype.addTooltips=function(t){var i=t.map(function(t){t.options.tooltip=t.name;var i=[t.group.element,t.markerGroup.element,t.dataLabelsGroup.element];return{$el:e(i),point:t.options}});this.tooltips=new a(this.app,i,this.tooltip)},u.prototype.shareDimensions=function(){var t=c.shareDimensions.call(this),e=this.$el.find(".user-dashboard-tube-tags-scroll").innerWidth();return e+=30,t.width=Math.max(t.width,e),t.mediaWidth=Math.max(t.mediaWidth,e),t},u}),function(){function t(t,e){return e=e||"","string"!=typeof t&&(t.global&&e.indexOf("g")<0&&(e+="g"),t.ignoreCase&&e.indexOf("i")<0&&(e+="i"),t.multiline&&e.indexOf("m")<0&&(e+="m"),t=t.source),new RegExp(t.replace(/#\{(\w+)\}/g,function(t,e){var i=r.txt.regexen[e]||"";return"string"!=typeof i&&(i=i.source),i}),e)}function e(t,e){return t.replace(/#\{(\w+)\}/g,function(t,i){return e[i]||""})}function i(t){var e={};for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function n(t,e,i){return i?!t||t.match(e)&&RegExp["$&"]===t:"string"==typeof t&&t.match(e)&&RegExp["$&"]===t}if(void 0===r||null===r)var r={};r.txt={},r.txt.regexen={};var o={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};r.txt.htmlEscape=function(t){return t&&t.replace(/[&"'><]/g,function(t){return o[t]})},r.txt.regexSupplant=t,r.txt.stringSupplant=e,r.txt.regexen.spaces_group=/\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000/,r.txt.regexen.spaces=t(/[#{spaces_group}]/),r.txt.regexen.invalid_chars_group=/\uFFFE\uFEFF\uFFFF\u202A-\u202E/,r.txt.regexen.invalid_chars=t(/[#{invalid_chars_group}]/),r.txt.regexen.punct=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,r.txt.regexen.rtl_chars=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm,r.txt.regexen.non_bmp_code_pairs=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm,r.txt.regexen.latinAccentChars=/\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253\u0254\u0256\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF/,
r.txt.regexen.bmpLetterAndMarks=/A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u052f\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07ca-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0-\u08b2\u08e4-\u0963\u0971-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09f0\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a70-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c81-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0cf1\u0cf2\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u103f\u1050-\u108f\u109a-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u180b-\u180d\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f\u1aa7\u1ab0-\u1abe\u1b00-\u1b4b\u1b6b-\u1b73\u1b80-\u1baf\u1bba-\u1bf3\u1c00-\u1c37\u1c4d-\u1c4f\u1c5a-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1cf8\u1cf9\u1d00-\u1df5\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u20d0-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005\u3006\u302a-\u302f\u3031-\u3035\u303b\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua672\ua674-\ua67d\ua67f-\ua69d\ua69f-\ua6e5\ua6f0\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c4\ua8e0-\ua8f7\ua8fb\ua90a-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf\ua9e0-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabea\uabec\uabed\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf870-\uf87f\uf882\uf884-\uf89f\uf8b8\uf8c1-\uf8d6\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2d\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc/,r.txt.regexen.astralLetterAndMarks=/\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf30-\udf40\udf42-\udf49\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude33\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48]|\ud804[\udc00-\udc46\udc7f-\udcba\udcd0-\udce8\udd00-\udd34\udd50-\udd73\udd76\udd80-\uddc4\uddda\ude00-\ude11\ude13-\ude37\udeb0-\udeea\udf01-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc80-\udcc5\udcc7\udd80-\uddb5\uddb8-\uddc0\ude00-\ude40\ude44\ude80-\udeb7]|\ud806[\udca0-\udcdf\udcff\udec0-\udef8]|\ud808[\udc00-\udf98]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50-\udf7e\udf8f-\udf9f]|\ud82c[\udc00\udc01]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udc00-\udcc4\udcd0-\udcd6]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef]/,r.txt.regexen.bmpNumerals=/0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19/,r.txt.regexen.astralNumerals=/\ud801[\udca0-\udca9]|\ud804[\udc66-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udef0-\udef9]|\ud805[\udcd0-\udcd9\ude50-\ude59\udec0-\udec9]|\ud806[\udce0-\udce9]|\ud81a[\ude60-\ude69\udf50-\udf59]|\ud835[\udfce-\udfff]/,r.txt.regexen.hashtagSpecialChars=/_\u200c\u200d\ua67e\u05be\u05f3\u05f4\uff5e\u301c\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\xb7/,r.txt.regexen.hashSigns=/[#＃]/,r.txt.regexen.hashtagAlpha=t(/(?:[#{bmpLetterAndMarks}]|(?=#{non_bmp_code_pairs})(?:#{astralLetterAndMarks}))/),r.txt.regexen.hashtagAlphaNumeric=t(/(?:[#{bmpLetterAndMarks}#{bmpNumerals}#{hashtagSpecialChars}]|(?=#{non_bmp_code_pairs})(?:#{astralLetterAndMarks}|#{astralNumerals}))/),r.txt.regexen.endHashtagMatch=t(/^(?:#{hashSigns}|:\/\/)/),r.txt.regexen.codePoint=/(?:[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF])/,r.txt.regexen.hashtagBoundary=t(/(?:^|$|(?!#{hashtagAlphaNumeric}|&)#{codePoint})/),r.txt.regexen.validHashtag=t(/(#{hashtagBoundary})(#{hashSigns})(?!\uFE0F|\u20E3)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi),r.txt.regexen.validMentionPrecedingChars=/(?:^|[^a-zA-Z0-9_!#$%&*@＠]|(?:^|[^a-zA-Z0-9_+~.-])(?:rt|RT|rT|Rt):?)/,r.txt.regexen.atSigns=/[@＠]/,r.txt.regexen.validMentionOrList=t("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?","g"),r.txt.regexen.validReply=t(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/),r.txt.regexen.endMentionMatch=t(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/),r.txt.regexen.validUrlPrecedingChars=t(/(?:[^A-Za-z0-9@＠$#＃#{invalid_chars_group}]|^)/),r.txt.regexen.invalidUrlWithoutProtocolPrecedingChars=/[-_.\/]$/,r.txt.regexen.invalidDomainChars=e("#{punct}#{spaces_group}#{invalid_chars_group}",r.txt.regexen),r.txt.regexen.validDomainChars=t(/[^#{invalidDomainChars}]/),r.txt.regexen.validSubdomain=t(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/),r.txt.regexen.validDomainName=t(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/),r.txt.regexen.validGTLD=t(RegExp("(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|كاثوليك|شبكة|بيتك|بازار|العليان|ارامكو|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@]|$))")),r.txt.regexen.validCCTLD=t(RegExp("(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@]|$))")),r.txt.regexen.validPunycode=/(?:xn--[0-9a-z]+)/,r.txt.regexen.validSpecialCCTLD=/(?:(?:co|tv)(?=[^0-9a-zA-Z@]|$))/,r.txt.regexen.validDomain=t(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/),r.txt.regexen.validAsciiDomain=t(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi),r.txt.regexen.invalidShortDomain=t(/^#{validDomainName}#{validCCTLD}$/i),r.txt.regexen.validSpecialShortDomain=t(/^#{validDomainName}#{validSpecialCCTLD}$/i),r.txt.regexen.validPortNumber=/[0-9]+/,r.txt.regexen.cyrillicLettersAndMarks=/\u0400-\u04FF/,r.txt.regexen.validGeneralUrlPathChars=t(/[a-z#{cyrillicLettersAndMarks}0-9!\*';:=\+,\.\$\/%#\[\]\-_~@\|&#{latinAccentChars}]/i),r.txt.regexen.validUrlBalancedParens=t("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)","i"),r.txt.regexen.validUrlPathEndingChars=t(/[\+\-a-z#{cyrillicLettersAndMarks}0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i),r.txt.regexen.validUrlPath=t("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))","i"),r.txt.regexen.validUrlQueryChars=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,r.txt.regexen.validUrlQueryEndingChars=/[a-z0-9_&=#\/]/i,r.txt.regexen.extractUrl=t("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))","gi"),r.txt.regexen.validTcoUrl=/^https?:\/\/t\.co\/[a-z0-9]+/i,r.txt.regexen.urlHasProtocol=/^https?:\/\//i,r.txt.regexen.urlHasHttps=/^https:\/\//i,r.txt.regexen.cashtag=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,r.txt.regexen.validCashtag=t("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])","gi"),r.txt.regexen.validateUrlUnreserved=/[a-z\u0400-\u04FF0-9\-._~]/i,r.txt.regexen.validateUrlPctEncoded=/(?:%[0-9a-f]{2})/i,r.txt.regexen.validateUrlSubDelims=/[!$&'()*+,;=]/i,r.txt.regexen.validateUrlPchar=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])","i"),r.txt.regexen.validateUrlScheme=/(?:[a-z][a-z0-9+\-.]*)/i,r.txt.regexen.validateUrlUserinfo=t("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*","i"),r.txt.regexen.validateUrlDecOctet=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,r.txt.regexen.validateUrlIpv4=t(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i),r.txt.regexen.validateUrlIpv6=/(?:\[[a-f0-9:\.]+\])/i,r.txt.regexen.validateUrlIp=t("(?:#{validateUrlIpv4}|#{validateUrlIpv6})","i"),r.txt.regexen.validateUrlSubDomainSegment=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,r.txt.regexen.validateUrlDomainSegment=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,r.txt.regexen.validateUrlDomainTld=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,r.txt.regexen.validateUrlDomain=t(/(?:(?:#{validateUrlSubDomainSegment}\.)*(?:#{validateUrlDomainSegment}\.)#{validateUrlDomainTld})/i),r.txt.regexen.validateUrlHost=t("(?:#{validateUrlIp}|#{validateUrlDomain})","i"),r.txt.regexen.validateUrlUnicodeSubDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,r.txt.regexen.validateUrlUnicodeDomainSegment=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,r.txt.regexen.validateUrlUnicodeDomainTld=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,r.txt.regexen.validateUrlUnicodeDomain=t(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i),r.txt.regexen.validateUrlUnicodeHost=t("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})","i"),r.txt.regexen.validateUrlPort=/[0-9]{1,5}/,r.txt.regexen.validateUrlUnicodeAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?","i"),r.txt.regexen.validateUrlAuthority=t("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?","i"),r.txt.regexen.validateUrlPath=t(/(\/#{validateUrlPchar}*)*/i),r.txt.regexen.validateUrlQuery=t(/(#{validateUrlPchar}|\/|\?)*/i),r.txt.regexen.validateUrlFragment=t(/(#{validateUrlPchar}|\/|\?)*/i),r.txt.regexen.validateUrlUnencoded=t("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i");var s={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0},a={disabled:!0,readonly:!0,multiple:!0,checked:!0};r.txt.tagAttrs=function(t){var e="";for(var i in t){var n=t[i];a[i]&&(n=n?i:null),null!=n&&(e+=" "+r.txt.htmlEscape(i)+'="'+r.txt.htmlEscape(n.toString())+'"')}return e},r.txt.linkToText=function(t,i,n,o){return o.suppressNoFollow||(n.rel="nofollow"),o.linkAttributeBlock&&o.linkAttributeBlock(t,n),o.linkTextBlock&&(i=o.linkTextBlock(t,i)),e("<a#{attr}>#{text}</a>",{text:i,attr:r.txt.tagAttrs(n)})},r.txt.linkToTextWithSymbol=function(t,e,i,n,o){var s=o.symbolTag?"<"+o.symbolTag+">"+e+"</"+o.symbolTag+">":e;i=r.txt.htmlEscape(i);var a=o.textWithSymbolTag?"<"+o.textWithSymbolTag+">"+i+"</"+o.textWithSymbolTag+">":i;return o.usernameIncludeSymbol||!e.match(r.txt.regexen.atSigns)?r.txt.linkToText(t,s+a,n,o):s+r.txt.linkToText(t,a,n,o)},r.txt.linkToHashtag=function(t,e,n){var o=e.substring(t.indices[0],t.indices[0]+1),s=r.txt.htmlEscape(t.hashtag),a=i(n.htmlAttrs||{});return a.href=n.hashtagUrlBase+s,a.title="#"+s,a.class=n.hashtagClass,s.charAt(0).match(r.txt.regexen.rtl_chars)&&(a.class+=" rtl"),n.targetBlank&&(a.target="_blank"),r.txt.linkToTextWithSymbol(t,o,s,a,n)},r.txt.linkToCashtag=function(t,e,n){var o=r.txt.htmlEscape(t.cashtag),s=i(n.htmlAttrs||{});return s.href=n.cashtagUrlBase+o,s.title="$"+o,s.class=n.cashtagClass,n.targetBlank&&(s.target="_blank"),r.txt.linkToTextWithSymbol(t,"$",o,s,n)},r.txt.linkToMentionAndList=function(t,e,n){var o=e.substring(t.indices[0],t.indices[0]+1),s=r.txt.htmlEscape(t.screenName),a=r.txt.htmlEscape(t.listSlug),l=t.listSlug&&!n.suppressLists,u=i(n.htmlAttrs||{});return u.class=l?n.listClass:n.usernameClass,u.href=l?n.listUrlBase+s+a:n.usernameUrlBase+s,l||n.suppressDataScreenName||(u["data-screen-name"]=s),n.targetBlank&&(u.target="_blank"),r.txt.linkToTextWithSymbol(t,o,l?s+a:s,u,n)},r.txt.linkToUrl=function(t,e,n){var o=t.url,s=o,a=r.txt.htmlEscape(s),l=n.urlEntities&&n.urlEntities[o]||t;l.display_url&&(a=r.txt.linkTextWithEntity(l,n));var u=i(n.htmlAttrs||{});return o.match(r.txt.regexen.urlHasProtocol)||(o="http://"+o),u.href=o,n.targetBlank&&(u.target="_blank"),n.urlClass&&(u.class=n.urlClass),n.urlTarget&&(u.target=n.urlTarget),!n.title&&l.display_url&&(u.title=l.expanded_url),r.txt.linkToText(t,a,u,n)},r.txt.linkTextWithEntity=function(t,i){var n=t.display_url,o=t.expanded_url,s=n.replace(/…/g,"");if(-1!=o.indexOf(s)){var a=o.indexOf(s),l={displayUrlSansEllipses:s,beforeDisplayUrl:o.substr(0,a),afterDisplayUrl:o.substr(a+s.length),precedingEllipsis:n.match(/^…/)?"…":"",followingEllipsis:n.match(/…$/)?"…":""};for(var u in l)l.hasOwnProperty(u)&&(l[u]=r.txt.htmlEscape(l[u]));return l.invisible=i.invisibleTagAttrs,e("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",l)}return n},r.txt.autoLinkEntities=function(t,e,n){n=i(n||{}),n.hashtagClass=n.hashtagClass||"tweet-url hashtag",n.hashtagUrlBase=n.hashtagUrlBase||"https://twitter.com/#!/search?q=%23",n.cashtagClass=n.cashtagClass||"tweet-url cashtag",n.cashtagUrlBase=n.cashtagUrlBase||"https://twitter.com/#!/search?q=%24",n.listClass=n.listClass||"tweet-url list-slug",n.usernameClass=n.usernameClass||"tweet-url username",n.usernameUrlBase=n.usernameUrlBase||"https://twitter.com/",n.listUrlBase=n.listUrlBase||"https://twitter.com/",n.htmlAttrs=r.txt.extractHtmlAttrsFromOptions(n),n.invisibleTagAttrs=n.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var o,s,a;if(n.urlEntities){for(o={},s=0,a=n.urlEntities.length;s<a;s++)o[n.urlEntities[s].url]=n.urlEntities[s];n.urlEntities=o}var l="",u=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var c=n.htmlEscapeNonEntities?r.txt.htmlEscape:function(t){return t},s=0;s<e.length;s++){var h=e[s];l+=c(t.substring(u,h.indices[0])),h.url?l+=r.txt.linkToUrl(h,t,n):h.hashtag?l+=r.txt.linkToHashtag(h,t,n):h.screenName?l+=r.txt.linkToMentionAndList(h,t,n):h.cashtag&&(l+=r.txt.linkToCashtag(h,t,n)),u=h.indices[1]}return l+=c(t.substring(u,t.length))},r.txt.autoLinkWithJSON=function(t,e,i){if(e.user_mentions)for(var n=0;n<e.user_mentions.length;n++)e.user_mentions[n].screenName=e.user_mentions[n].screen_name;if(e.hashtags)for(var n=0;n<e.hashtags.length;n++)e.hashtags[n].hashtag=e.hashtags[n].text;if(e.symbols)for(var n=0;n<e.symbols.length;n++)e.symbols[n].cashtag=e.symbols[n].text;var o=[];for(var s in e)o=o.concat(e[s]);return r.txt.modifyIndicesFromUnicodeToUTF16(t,o),r.txt.autoLinkEntities(t,o,i)},r.txt.extractHtmlAttrsFromOptions=function(t){var e={};for(var i in t){var n=t[i];s[i]||(a[i]&&(n=n?i:null),null!=n&&(e[i]=n))}return e},r.txt.autoLink=function(t,e){var i=r.txt.extractEntitiesWithIndices(t,{extractUrlsWithoutProtocol:!1});return r.txt.autoLinkEntities(t,i,e)},r.txt.autoLinkUsernamesOrLists=function(t,e){var i=r.txt.extractMentionsOrListsWithIndices(t);return r.txt.autoLinkEntities(t,i,e)},r.txt.autoLinkHashtags=function(t,e){var i=r.txt.extractHashtagsWithIndices(t);return r.txt.autoLinkEntities(t,i,e)},r.txt.autoLinkCashtags=function(t,e){var i=r.txt.extractCashtagsWithIndices(t);return r.txt.autoLinkEntities(t,i,e)},r.txt.autoLinkUrlsCustom=function(t,e){var i=r.txt.extractUrlsWithIndices(t,{extractUrlsWithoutProtocol:!1});return r.txt.autoLinkEntities(t,i,e)},r.txt.removeOverlappingEntities=function(t){t.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var e=t[0],i=1;i<t.length;i++)e.indices[1]>t[i].indices[0]?(t.splice(i,1),i--):e=t[i]},r.txt.extractEntitiesWithIndices=function(t,e){var i=r.txt.extractUrlsWithIndices(t,e).concat(r.txt.extractMentionsOrListsWithIndices(t)).concat(r.txt.extractHashtagsWithIndices(t,{checkUrlOverlap:!1})).concat(r.txt.extractCashtagsWithIndices(t));return 0==i.length?[]:(r.txt.removeOverlappingEntities(i),i)},r.txt.extractMentions=function(t){for(var e=[],i=r.txt.extractMentionsWithIndices(t),n=0;n<i.length;n++){var o=i[n].screenName;e.push(o)}return e},r.txt.extractMentionsWithIndices=function(t){for(var e,i=[],n=r.txt.extractMentionsOrListsWithIndices(t),o=0;o<n.length;o++)e=n[o],""==e.listSlug&&i.push({screenName:e.screenName,indices:e.indices});return i},r.txt.extractMentionsOrListsWithIndices=function(t){if(!t||!t.match(r.txt.regexen.atSigns))return[];var e=[];return t.replace(r.txt.regexen.validMentionOrList,function(t,i,n,o,s,a,l){if(!l.slice(a+t.length).match(r.txt.regexen.endMentionMatch)){s=s||"";var u=a+i.length,c=u+o.length+s.length+1;e.push({screenName:o,listSlug:s,indices:[u,c]})}}),e},r.txt.extractReplies=function(t){if(!t)return null;var e=t.match(r.txt.regexen.validReply);return!e||RegExp.rightContext.match(r.txt.regexen.endMentionMatch)?null:e[1]},r.txt.extractUrls=function(t,e){for(var i=[],n=r.txt.extractUrlsWithIndices(t,e),o=0;o<n.length;o++)i.push(n[o].url);return i},r.txt.extractUrlsWithIndices=function(t,e){if(e||(e={extractUrlsWithoutProtocol:!0}),
!t||(e.extractUrlsWithoutProtocol?!t.match(/\./):!t.match(/:/)))return[];for(var i=[];r.txt.regexen.extractUrl.exec(t);){var n=RegExp.$2,o=RegExp.$3,s=RegExp.$4,a=RegExp.$5,l=RegExp.$7,u=r.txt.regexen.extractUrl.lastIndex,c=u-o.length;if(s)o.match(r.txt.regexen.validTcoUrl)&&(o=RegExp.lastMatch,u=c+o.length),i.push({url:o,indices:[c,u]});else{if(!e.extractUrlsWithoutProtocol||n.match(r.txt.regexen.invalidUrlWithoutProtocolPrecedingChars))continue;var h=null,d=0;if(a.replace(r.txt.regexen.validAsciiDomain,function(t){var e=a.indexOf(t,d);d=e+t.length,h={url:t,indices:[c+e,c+d]},(l||t.match(r.txt.regexen.validSpecialShortDomain)||!t.match(r.txt.regexen.invalidShortDomain))&&i.push(h)}),null==h)continue;l&&(h.url=o.replace(a,h.url),h.indices[1]=u)}}return i},r.txt.extractHashtags=function(t){for(var e=[],i=r.txt.extractHashtagsWithIndices(t),n=0;n<i.length;n++)e.push(i[n].hashtag);return e},r.txt.extractHashtagsWithIndices=function(t,e){if(e||(e={checkUrlOverlap:!0}),!t||!t.match(r.txt.regexen.hashSigns))return[];var i=[];if(t.replace(r.txt.regexen.validHashtag,function(t,e,n,o,s,a){if(!a.slice(s+t.length).match(r.txt.regexen.endHashtagMatch)){var l=s+e.length,u=l+o.length+1;i.push({hashtag:o,indices:[l,u]})}}),e.checkUrlOverlap){var n=r.txt.extractUrlsWithIndices(t);if(n.length>0){var o=i.concat(n);r.txt.removeOverlappingEntities(o),i=[];for(var s=0;s<o.length;s++)o[s].hashtag&&i.push(o[s])}}return i},r.txt.extractCashtags=function(t){for(var e=[],i=r.txt.extractCashtagsWithIndices(t),n=0;n<i.length;n++)e.push(i[n].cashtag);return e},r.txt.extractCashtagsWithIndices=function(t){if(!t||-1==t.indexOf("$"))return[];var e=[];return t.replace(r.txt.regexen.validCashtag,function(t,i,n,r,o,s){var a=o+i.length,l=a+r.length+1;e.push({cashtag:r,indices:[a,l]})}),e},r.txt.modifyIndicesFromUnicodeToUTF16=function(t,e){r.txt.convertUnicodeIndices(t,e,!1)},r.txt.modifyIndicesFromUTF16ToUnicode=function(t,e){r.txt.convertUnicodeIndices(t,e,!0)},r.txt.getUnicodeTextLength=function(t){return t.replace(r.txt.regexen.non_bmp_code_pairs," ").length},r.txt.convertUnicodeIndices=function(t,e,i){if(0!=e.length){var n=0,r=0;e.sort(function(t,e){return t.indices[0]-e.indices[0]});for(var o=0,s=e[0];n<t.length;){if(s.indices[0]==(i?n:r)){var a=s.indices[1]-s.indices[0];if(s.indices[0]=i?r:n,s.indices[1]=s.indices[0]+a,++o==e.length)break;s=e[o]}var l=t.charCodeAt(n);55296<=l&&l<=56319&&n<t.length-1&&56320<=(l=t.charCodeAt(n+1))&&l<=57343&&n++,r++,n++}}},r.txt.splitTags=function(t){for(var e,i,n=t.split("<"),r=[],o=0;o<n.length;o+=1)if(i=n[o]){e=i.split(">");for(var s=0;s<e.length;s+=1)r.push(e[s])}else r.push("");return r},r.txt.hitHighlight=function(t,e,i){if(e=e||[],i=i||{},0===e.length)return t;var n,o,s,a,l,u,c,h=i.tag||"em",d=["<"+h+">","</"+h+">"],p=r.txt.splitTags(t),f="",g=0,m=p[0],v=0,y=0,b=!1,x=m,w=[];for(n=0;n<e.length;n+=1)for(o=0;o<e[n].length;o+=1)w.push(e[n][o]);for(s=0;s<w.length;s+=1){for(a=w[s],l=d[s%2],u=!1;null!=m&&a>=v+m.length;)f+=x.slice(y),b&&a===v+x.length&&(f+=l,u=!0),p[g+1]&&(f+="<"+p[g+1]+">"),v+=x.length,y=0,g+=2,m=p[g],x=m,b=!1;u||null==m?u||(u=!0,f+=l):(c=a-v,f+=x.slice(y,c)+l,y=c,b=s%2==0)}if(null!=m)for(y<x.length&&(f+=x.slice(y)),s=g+1;s<p.length;s+=1)f+=s%2==0?p[s]:"<"+p[s]+">";return f};r.txt.getTweetLength=function(t,e){e||(e={short_url_length:23,short_url_length_https:23});var i=r.txt.getUnicodeTextLength(t),n=r.txt.extractUrlsWithIndices(t);r.txt.modifyIndicesFromUTF16ToUnicode(t,n);for(var o=0;o<n.length;o++)i+=n[o].indices[0]-n[o].indices[1],n[o].url.toLowerCase().match(r.txt.regexen.urlHasHttps)?i+=e.short_url_length_https:i+=e.short_url_length;return i},r.txt.isInvalidTweet=function(t){return t?r.txt.getTweetLength(t)>140?"too_long":!!r.txt.hasInvalidCharacters(t)&&"invalid_characters":"empty"},r.txt.hasInvalidCharacters=function(t){return r.txt.regexen.invalid_chars.test(t)},r.txt.isValidTweetText=function(t){return!r.txt.isInvalidTweet(t)},r.txt.isValidUsername=function(t){if(!t)return!1;var e=r.txt.extractMentions(t);return 1===e.length&&e[0]===t.slice(1)};var l=t(/^#{validMentionOrList}$/);if(r.txt.isValidList=function(t){var e=t.match(l);return!(!e||""!=e[1]||!e[4])},r.txt.isValidHashtag=function(t){if(!t)return!1;var e=r.txt.extractHashtags(t);return 1===e.length&&e[0]===t.slice(1)},r.txt.isValidUrl=function(t,e,i){if(null==e&&(e=!0),null==i&&(i=!0),!t)return!1;var o=t.match(r.txt.regexen.validateUrlUnencoded);if(!o||o[0]!==t)return!1;var s=o[1],a=o[2],l=o[3],u=o[4],c=o[5];return!!((!i||n(s,r.txt.regexen.validateUrlScheme)&&s.match(/^https?$/i))&&n(l,r.txt.regexen.validateUrlPath)&&n(u,r.txt.regexen.validateUrlQuery,!0)&&n(c,r.txt.regexen.validateUrlFragment,!0))&&(e&&n(a,r.txt.regexen.validateUrlUnicodeAuthority)||!e&&n(a,r.txt.regexen.validateUrlAuthority))},"undefined"!=typeof module&&module.exports&&(module.exports=r.txt),"function"==typeof define&&define.amd&&define("twitter-text",[],r.txt),"undefined"!=typeof window)if(window.twttr)for(var u in r)window.twttr[u]=r[u];else window.twttr=r}(),define("stats/tweet-limit",["require","jquery","twitter-text"],function(t){"use strict";var e=t("jquery"),i=t("twitter-text"),n=function(t){this.$el=t};return n.prototype.start=function(){this.template=this.$el.data("tweet-limit-string"),this.$counter=e('<p class="form-row-help-text"></p>'),this.$el.after(this.$counter),this.updateCounter(),this.$el.on("keyup.tweet-limit contextmenu.tweet-limit input.tweet-limit",this.updateCounter.bind(this))},n.prototype.stop=function(){this.$el.off(".tweet-limit")},n.prototype.updateCounter=function(){var t=this.$el.val(),e=140-i.getTweetLength(t),n=e+"/140";this.$counter.text(this.template.replace("{}",n)),this.$counter.toggleClass("form-row-help-text--error",e<0)},n}),define("stats/tweet-preview",["require","jquery","twitter-text"],function(t){"use strict";var e=t("jquery"),i=t("twitter-text"),n=function(t){this.$el=t,this.$previewArea=null,this.$previewButton=null,this.$editButton=null};return n.prototype.start=function(){this.$editButton=this.createEditButton(),this.$editButton.on("click",this.editMode.bind(this)),this.$el.before(this.$editButton),this.$previewButton=this.createPreviewButton(),this.$previewButton.on("click",this.previewMode.bind(this)),this.$el.before(this.$previewButton),this.$previewArea=this.createPreviewArea()},n.prototype.previewMode=function(){this.$editButton.prop("disabled",!1),this.$previewButton.prop("disabled",!0),this.$el.prop("readonly",!0),this.showPreview()},n.prototype.editMode=function(){this.$editButton.prop("disabled",!0),this.$previewButton.prop("disabled",!1),this.$el.prop("readonly",!1),this.removePreview()},n.prototype.showPreview=function(){var t=i.autoLink(this.$el.val(),{usernameIncludeSymbol:!0});this.$previewArea.html(t),this.$previewArea.height(this.$el.outerHeight()),this.$el.after(this.$previewArea)},n.prototype.removePreview=function(){this.$previewArea.detach()},n.prototype.createEditButton=function(){var t=this.$el.data("tweetPreviewEditText"),e=this.createButton(t);return e.prop("disabled",!0),e},n.prototype.createPreviewButton=function(){var t=this.$el.data("tweetPreviewPreviewText");return this.createButton(t)},n.prototype.createButton=function(t){var i=e("<button></button>");return i.addClass("tweet-preview-button"),i.text(t),i},n.prototype.createPreviewArea=function(){var t=e("<div></div>");return t.addClass("tweet-preview"),t.addClass("form-control"),t.on("click","a",function(t){t.preventDefault(),window.open(this.href)}),t},n}),define("kerve/helpers/windowscroll",["jquery"],function(t){var e={use:!1,win_h:0,scrolled_y:0,visible_y:0,start:function(){0==e.use&&(e.use=!0,t(window).on("scroll",e.scroll_pos))},stop:function(){1==e.use&&(e.use=!1,t(window).off("scroll",e.scroll_pos))},reset:function(){e.stop(),e.functions={}},scroll_pos:function(){if(1==e.use){e.win_h=t(window).height(),e.scrolled_y=t(window).scrollTop(),e.visible_y=e.scrolled_y+e.win_h;for(var i in e.functions)0==e.functions[i].done&&e.visible_y>=e.functions[i].pos&&(e.functions[i].func(),e.functions[i].done=!0),0==e.functions[i].paused&&void 0!==e.functions[i].pause_func&&(e.visible_y<e.functions[i].pause_top||e.scrolled_y>e.functions[i].pause_bottom)&&(e.functions[i].paused=!0,e.functions[i].pause_func()),1==e.functions[i].paused&&void 0!==e.functions[i].resume_func&&e.visible_y>=e.functions[i].pause_top&&e.scrolled_y<=e.functions[i].pause_bottom&&(e.functions[i].paused=!1,e.functions[i].resume_func())}},functions:{},add:function(t,i,n,r,o,s,a){void 0===e.functions[t]&&(e.functions[t]={name:t,pos:i,func:n,pause_top:r,pause_bottom:o,pause_func:s,resume_func:a,done:!1,paused:!1},e.start(),e.scroll_pos())},update_pos:function(t,i,n,r){void 0!==e.functions[t]&&(e.functions[t].pos=i,e.functions[t].pause_top=n,e.functions[t].pause_bottom=r)},remove:function(t){void 0!==e.functions[t]&&delete e.functions[t]},done:function(t){return void 0!==e.functions[t]&&e.functions[t].done}};return{start:function(){e.start()},stop:function(){e.stop()},reset:function(){e.reset()},scrolled_y:function(){return e.scrolled_y},add:function(t,i,n,r,o,s,a){e.add(t,i,n,r,o,s,a)},update_pos:function(t,i,n,r){e.update_pos(t,i,n,r)},remove:function(t){e.remove(t)},done:function(t){return e.done(t)}}}),define("kerve/helpers/windowsize",["jquery"],function(t){var e={freq:100,use:!1,timeout:null,w:0,h:0,r:0,start:function(){0==e.use&&(e.use=!0,t(window).on("resize",e.run))},stop:function(){1==e.use&&(e.use=!1,t(window).off("resize",e.run))},reset:function(){e.stop(),e.functions={}},run:function(t){1==e.use&&(1==t?e.func(t):(clearTimeout(e.timeout),e.timeout=setTimeout(function(){e.func(t)},e.freq)))},func:function(i){console.log("%c--- windowsize ---","color:#ddc000");var n=e.w,r=e.h;e.w=t(window).width(),e.h=window.innerHeight||t(window).height(),e.r=e.w/e.h,1==i?(e.w_func(),e.h_func(),e.x_func()):(e.w!=n&&e.w_func(),e.h!=r&&e.h_func(),e.w==n&&e.h==r||e.x_func())},w_func:function(){for(var t in e.functions)void 0!==e.functions[t].w_func&&e.functions[t].w_func()},h_func:function(){for(var t in e.functions)void 0!==e.functions[t].h_func&&e.functions[t].h_func()},x_func:function(){for(var t in e.functions)void 0!==e.functions[t].x_func&&e.functions[t].x_func()},functions:{},add:function(t,i){e.functions[t]=i,e.start()},remove:function(){void 0!==e.functions[name]&&delete e.functions[name]}};return{start:function(){e.start()},stop:function(){e.stop()},reset:function(){e.reset()},w:function(){return e.w},h:function(){return e.h},r:function(){return e.r},add:function(t,i){e.add(t,i)},remove:function(t){e.remove(t)}}}),define("kerve/helpers/helper",["jquery"],function(t){return{config:{logs:!1,dev:!1},label_scroll:function(t,e,i){t.removeClass("animate animate2").removeAttr("style"),e.width()>t.width()&&t.css({width:e.width()}).addClass("animate"+(0==i?"2":""))},url:function(t,e){return t=t.replace(/https?:\/\/www.last.fm\//,"/"),"string"==typeof e&&""!=e&&"en"!=e&&(t="/"+e+t),t},track:function(t,e,i,n,r,o){"number"==typeof o&&(t.length>o?(t=t.substr(0,o-1)+"…",i=""):t.length+3>o?i="":t.length+3+i.length>o&&(i=i.substr(0,o-1-3-t.length)+"…"));var s="";return void 0!==e&&"undefined"!==e&&""!==e?s+='<a href="'+this.url(e,r)+'">'+t+"</a>":void 0!==t&&"undefined"!==t&&""!==t&&(s+=t),""!=i&&(void 0!==t&&"undefined"!==t&&""!==t&&(s+=" - "),void 0!==n&&"undefined"!==n&&""!==n?s+='<a href="'+this.url(n,r)+'">'+i+"</a>":void 0!==i&&"undefined"!==i&&""!==i&&(s+=i)),s},query_format:function(t){return t},play:function(t,e){if(void 0===e)return"";var i='<a class="label_play '+e.class+'" href="'+e.href+'" target="'+e.target+'" data-single-track ';for(var n in e)n.indexOf("data")>-1&&(i+=n+'="'+e[n]+'" ');return i+='title="'+e.title+'">'+t+"</a>"},commas:function(t){if(void 0!==t){var e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),e.join(".")}return""},pauseEvent:function(t){return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1,!1},eventx:function(t){return t.targetTouches?t.targetTouches[0].pageX:t.originalEvent&&t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX},eventy:function(t){return t.targetTouches?t.targetTouches[0].pageY:t.originalEvent&&t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY},has_transform:function(){var t=document.body||document.documentElement,e=t.style;return void 0!==e.transition||void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.MsTransition||void 0!==e.OTransition},objectLength:function(t){var e=0;for(var i in t)e=parseInt(e)+1;return e},isEven:function(t){return t%2==0},isOdd:function(t){return t%2==1}}}),define("kerve/helpers/locale",[],function(){return{day:function(t,e){return{en:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],de:["So","Mo","Di","Mi","Do","Fr","Sa"],es:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"],fr:["Dim.","Lun.","Mar.","Mer.","Jeu.","Ven.","Sam."],it:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],ja:["日","月","火","水","木","金","土"],pl:["Nd","Pon","Wt","Śr","Czw","Pt","So"],pt:["Dom","Seg","Terç","Qua","Qui","Sex","Sáb"],ru:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],sv:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"],tr:["Paz","Pts","Sal","Çar","Prş","Cum","Cts"],zh:["日","一","二","三","四","五","六"]}[t][e]},month:function(t,e){return{en:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],de:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],es:["Ene","Feb","Mar","Apr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],fr:["Jan","Fév","Mar","Avr","Mai","Jui","Jul","Aoû","Sep","Oct","Nov","Déc"],it:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],ja:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],pl:["Sty","Luty","Marz","Kwie","Maj","Czerw","Lip","Sier","Wrze","Paź","List","Gru"],pt:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],ru:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],sv:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],tr:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],zh:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"]}[t][e]}}}),function(t){"function"==typeof define&&define.amd&&define.amd.jQuery?define("kerve/plugins/jquery.touchSwipe.1.6.min",["jquery"],t):t(jQuery)}(function(t){function e(e){return!e||void 0!==e.allowPageScroll||void 0===e.swipe&&void 0===e.swipeStatus||(e.allowPageScroll=u),void 0!==e.click&&void 0===e.tap&&(e.tap=e.click),e||(e={}),e=t.extend({},t.fn.swipe.defaults,e),this.each(function(){var n=t(this),r=n.data(_);r||(r=new i(this,e),n.data(_,r))})}function i(e,i){function M(e){if(!(ut()||t(e.target).closest(i.excludedElements,Ut).length>0)){var n,r=e.originalEvent?e.originalEvent:e,o=C?r.touches[0]:r;return Wt=x,(C?Gt=r.touches.length:e.preventDefault(),Dt=0,Ot=null,$t=null,Nt=0,qt=0,zt=0,Bt=1,Ft=0,Xt=ft(),Ht=vt(),at(),!C||Gt===i.fingers||i.fingers===y||H()?(ht(0,o),Vt=At(),2==Gt&&(ht(1,r.touches[1]),qt=zt=xt(Xt[0].start,Xt[1].start)),(i.swipeStatus||i.pinchStatus)&&(n=D(r,Wt))):n=!1,!1===n)?(Wt=k,D(r,Wt),n):(i.hold&&(te=setTimeout(t.proxy(function(){Ut.trigger("hold",[r.target]),i.hold&&(n=i.hold.call(Ut,r,r.target))},this),i.longTapThreshold)),ct(!0),null)}}function E(t){var e=t.originalEvent?t.originalEvent:t;if(Wt!==S&&Wt!==k&&!lt()){var n,r=C?e.touches[0]:e,o=dt(r);if(Yt=At(),C&&(Gt=e.touches.length),i.hold&&clearTimeout(te),Wt=w,2==Gt&&(0==qt?(ht(1,e.touches[1]),qt=zt=xt(Xt[0].start,Xt[1].start)):(dt(e.touches[1]),zt=xt(Xt[0].end,Xt[1].end),$t=St(Xt[0].end,Xt[1].end)),Bt=wt(qt,zt),Ft=Math.abs(qt-zt)),Gt===i.fingers||i.fingers===y||!C||H()){if(Ot=Tt(o.start,o.end),F(t,Ot),Dt=kt(o.start,o.end),Nt=bt(),gt(Ot,Dt),(i.swipeStatus||i.pinchStatus)&&(n=D(e,Wt)),!i.triggerOnTouchEnd||i.triggerOnTouchLeave){var s=!0;if(i.triggerOnTouchLeave){var a=_t(this);s=Mt(o.end,a)}!i.triggerOnTouchEnd&&s?Wt=I(w):i.triggerOnTouchLeave&&!s&&(Wt=I(S)),Wt!=k&&Wt!=S||D(e,Wt)}}else Wt=k,D(e,Wt);!1===n&&(Wt=k,D(e,Wt))}}function P(t){var e=t.originalEvent;return C&&e.touches.length>0?(st(),!0):(lt()&&(Gt=Qt),Yt=At(),Nt=bt(),q()||!N()?(Wt=k,D(e,Wt)):i.triggerOnTouchEnd||0==i.triggerOnTouchEnd&&Wt===w?(t.preventDefault(),Wt=S,D(e,Wt)):!i.triggerOnTouchEnd&&K()?(Wt=S,O(e,Wt,p)):Wt===w&&(Wt=k,D(e,Wt)),ct(!1),null)}function L(){Gt=0,Yt=0,Vt=0,qt=0,zt=0,Bt=1,at(),ct(!1)}function R(t){var e=t.originalEvent;i.triggerOnTouchLeave&&(Wt=I(S),D(e,Wt))}function j(){Ut.unbind(Pt,M),Ut.unbind(It,L),Ut.unbind(Lt,E),Ut.unbind(Rt,P),jt&&Ut.unbind(jt,R),ct(!1)}function I(t){var e=t,n=B(),r=N(),o=q();return!n||o?e=k:!r||t!=w||i.triggerOnTouchEnd&&!i.triggerOnTouchLeave?!r&&t==S&&i.triggerOnTouchLeave&&(e=k):e=S,e}function D(t,e){var i=void 0;return X()||G()?i=O(t,e,h):(U()||H())&&!1!==i&&(i=O(t,e,d)),rt()&&!1!==i?i=O(t,e,f):ot()&&!1!==i?i=O(t,e,g):nt()&&!1!==i&&(i=O(t,e,p)),e===k&&L(t),e===S&&(C?0==t.touches.length&&L(t):L(t)),i}function O(e,u,c){var m=void 0;if(c==h){if(Ut.trigger("swipeStatus",[u,Ot||null,Dt||0,Nt||0,Gt,Xt]),i.swipeStatus&&!1===(m=i.swipeStatus.call(Ut,e,u,Ot||null,Dt||0,Nt||0,Gt,Xt)))return!1;if(u==S&&W()){if(Ut.trigger("swipe",[Ot,Dt,Nt,Gt,Xt]),i.swipe&&!1===(m=i.swipe.call(Ut,e,Ot,Dt,Nt,Gt,Xt)))return!1;switch(Ot){case n:Ut.trigger("swipeLeft",[Ot,Dt,Nt,Gt,Xt]),i.swipeLeft&&(m=i.swipeLeft.call(Ut,e,Ot,Dt,Nt,Gt,Xt));break;case r:Ut.trigger("swipeRight",[Ot,Dt,Nt,Gt,Xt]),i.swipeRight&&(m=i.swipeRight.call(Ut,e,Ot,Dt,Nt,Gt,Xt));break;case o:Ut.trigger("swipeUp",[Ot,Dt,Nt,Gt,Xt]),i.swipeUp&&(m=i.swipeUp.call(Ut,e,Ot,Dt,Nt,Gt,Xt));break;case s:Ut.trigger("swipeDown",[Ot,Dt,Nt,Gt,Xt]),i.swipeDown&&(m=i.swipeDown.call(Ut,e,Ot,Dt,Nt,Gt,Xt))}}}if(c==d){if(Ut.trigger("pinchStatus",[u,$t||null,Ft||0,Nt||0,Gt,Bt,Xt]),i.pinchStatus&&!1===(m=i.pinchStatus.call(Ut,e,u,$t||null,Ft||0,Nt||0,Gt,Bt,Xt)))return!1;if(u==S&&$())switch($t){case a:Ut.trigger("pinchIn",[$t||null,Ft||0,Nt||0,Gt,Bt,Xt]),i.pinchIn&&(m=i.pinchIn.call(Ut,e,$t||null,Ft||0,Nt||0,Gt,Bt,Xt));break;case l:Ut.trigger("pinchOut",[$t||null,Ft||0,Nt||0,Gt,Bt,Xt]),i.pinchOut&&(m=i.pinchOut.call(Ut,e,$t||null,Ft||0,Nt||0,Gt,Bt,Xt))}}return c==p?u!==k&&u!==S||(clearTimeout(Zt),clearTimeout(te),Q()&&!tt()?(Jt=At(),Zt=setTimeout(t.proxy(function(){Jt=null,Ut.trigger("tap",[e.target]),i.tap&&(m=i.tap.call(Ut,e,e.target))},this),i.doubleTapThreshold)):(Jt=null,Ut.trigger("tap",[e.target]),i.tap&&(m=i.tap.call(Ut,e,e.target)))):c==f?u!==k&&u!==S||(clearTimeout(Zt),Jt=null,Ut.trigger("doubletap",[e.target]),i.doubleTap&&(m=i.doubleTap.call(Ut,e,e.target))):c==g&&(u!==k&&u!==S||(clearTimeout(Zt),Jt=null,Ut.trigger("longtap",[e.target]),i.longTap&&(m=i.longTap.call(Ut,e,e.target)))),m}function N(){var t=!0;return null!==i.threshold&&(t=Dt>=i.threshold),t}function q(){var t=!1;return null!==i.cancelThreshold&&null!==Ot&&(t=mt(Ot)-Dt>=i.cancelThreshold),t}function z(){return null===i.pinchThreshold||Ft>=i.pinchThreshold}function B(){return!i.maxTimeThreshold||!(Nt>=i.maxTimeThreshold)}function F(t,e){if(i.allowPageScroll===u||H())t.preventDefault();else{var a=i.allowPageScroll===c;switch(e){case n:(i.swipeLeft&&a||!a&&i.allowPageScroll!=m)&&t.preventDefault();break;case r:(i.swipeRight&&a||!a&&i.allowPageScroll!=m)&&t.preventDefault();break;case o:(i.swipeUp&&a||!a&&i.allowPageScroll!=v)&&t.preventDefault();break;case s:(i.swipeDown&&a||!a&&i.allowPageScroll!=v)&&t.preventDefault()}}}function $(){var t=V(),e=Y(),i=z();return t&&e&&i}function H(){return!!(i.pinchStatus||i.pinchIn||i.pinchOut)}function U(){return!(!$()||!H())}function W(){var t=B(),e=N(),i=V(),n=Y();return!q()&&n&&i&&e&&t}function G(){return!!(i.swipe||i.swipeStatus||i.swipeLeft||i.swipeRight||i.swipeUp||i.swipeDown)}function X(){return!(!W()||!G())}function V(){return Gt===i.fingers||i.fingers===y||!C}function Y(){return 0!==Xt[0].end.x}function K(){return!!i.tap}function Q(){return!!i.doubleTap}function J(){return!!i.longTap}function Z(){if(null==Jt)return!1;var t=At();return Q()&&t-Jt<=i.doubleTapThreshold}function tt(){return Z()}function et(){return(1===Gt||!C)&&(isNaN(Dt)||Dt<i.threshold)}function it(){return Nt>i.longTapThreshold&&Dt<b}function nt(){return!(!et()||!K())}function rt(){return!(!Z()||!Q())}function ot(){return!(!it()||!J())}function st(){Kt=At(),Qt=event.touches.length+1}function at(){Kt=0,Qt=0}function lt(){var t=!1;if(Kt){At()-Kt<=i.fingerReleaseThreshold&&(t=!0)}return t}function ut(){return!(!0!==Ut.data(_+"_intouch"))}function ct(t){!0===t?(Ut.bind(Lt,E),Ut.bind(Rt,P),jt&&Ut.bind(jt,R)):(Ut.unbind(Lt,E,!1),Ut.unbind(Rt,P,!1),jt&&Ut.unbind(jt,R,!1)),Ut.data(_+"_intouch",!0===t)}function ht(t,e){var i=void 0!==e.identifier?e.identifier:0;return Xt[t].identifier=i,Xt[t].start.x=Xt[t].end.x=e.pageX||e.clientX,Xt[t].start.y=Xt[t].end.y=e.pageY||e.clientY,Xt[t]}function dt(t){var e=void 0!==t.identifier?t.identifier:0,i=pt(e);return i.end.x=t.pageX||t.clientX,i.end.y=t.pageY||t.clientY,i}function pt(t){for(var e=0;e<Xt.length;e++)if(Xt[e].identifier==t)return Xt[e]}function ft(){for(var t=[],e=0;e<=5;e++)t.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return t}function gt(t,e){e=Math.max(e,mt(t)),Ht[t].distance=e}function mt(t){if(Ht[t])return Ht[t].distance}function vt(){var t={};return t[n]=yt(n),t[r]=yt(r),t[o]=yt(o),t[s]=yt(s),t}function yt(t){return{direction:t,distance:0}}function bt(){return Yt-Vt}function xt(t,e){var i=Math.abs(t.x-e.x),n=Math.abs(t.y-e.y);return Math.round(Math.sqrt(i*i+n*n))}function wt(t,e){return(e/t*1).toFixed(2)}function St(){return Bt<1?l:a}function kt(t,e){return Math.round(Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)))}function Ct(t,e){var i=t.x-e.x,n=e.y-t.y,r=Math.atan2(n,i),o=Math.round(180*r/Math.PI);return o<0&&(o=360-Math.abs(o)),o}function Tt(t,e){var i=Ct(t,e);return i<=45&&i>=0?n:i<=360&&i>=315?n:i>=135&&i<=225?r:i>45&&i<135?s:o}function At(){return(new Date).getTime()}function _t(e){e=t(e);var i=e.offset();return{left:i.left,right:i.left+e.outerWidth(),top:i.top,bottom:i.top+e.outerHeight()}}function Mt(t,e){return t.x>e.left&&t.x<e.right&&t.y>e.top&&t.y<e.bottom}var Et=C||A||!i.fallbackToMouseEvents,Pt=Et?A?T?"MSPointerDown":"pointerdown":"touchstart":"mousedown",Lt=Et?A?T?"MSPointerMove":"pointermove":"touchmove":"mousemove",Rt=Et?A?T?"MSPointerUp":"pointerup":"touchend":"mouseup",jt=Et?null:"mouseleave",It=A?T?"MSPointerCancel":"pointercancel":"touchcancel",Dt=0,Ot=null,Nt=0,qt=0,zt=0,Bt=1,Ft=0,$t=0,Ht=null,Ut=t(e),Wt="start",Gt=0,Xt=null,Vt=0,Yt=0,Kt=0,Qt=0,Jt=0,Zt=null,te=null;try{Ut.bind(Pt,M),Ut.bind(It,L)}catch(e){t.error("events not supported "+Pt+","+It+" on jQuery.swipe")}this.enable=function(){return Ut.bind(Pt,M),Ut.bind(It,L),Ut},this.disable=function(){return j(),Ut},this.destroy=function(){return j(),Ut.data(_,null),Ut},this.option=function(e,n){if(void 0!==i[e]){if(void 0===n)return i[e];i[e]=n}else t.error("Option "+e+" does not exist on jQuery.swipe.options");return null}}var n="left",r="right",o="up",s="down",a="in",l="out",u="none",c="auto",h="swipe",d="pinch",p="tap",f="doubletap",g="longtap",m="horizontal",v="vertical",y="all",b=10,x="start",w="move",S="end",k="cancel",C="ontouchstart"in window,T=window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,A=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,_="TouchSwipe",M={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,hold:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};t.fn.swipe=function(i){var n=t(this),r=n.data(_);if(r&&"string"==typeof i){if(r[i])return r[i].apply(this,Array.prototype.slice.call(arguments,1));t.error("Method "+i+" does not exist on jQuery.swipe")}else if(!(r||"object"!=typeof i&&i))return e.apply(this,arguments);return n},t.fn.swipe.defaults=M,t.fn.swipe.phases={PHASE_START:x,PHASE_MOVE:w,PHASE_END:S,PHASE_CANCEL:k},t.fn.swipe.directions={LEFT:n,RIGHT:r,UP:o,DOWN:s,IN:a,OUT:l},t.fn.swipe.pageScroll={NONE:u,HORIZONTAL:m,VERTICAL:v,AUTO:c},t.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:y}}),define("kerve/widgets/2-1-trends",["jquery","core/ajax","kerve/helpers/windowscroll","kerve/helpers/windowsize","kerve/helpers/helper","kerve/helpers/locale","kerve/plugins/jquery.touchSwipe.1.6.min"],function(t,e,n,r,o,s,a){function l(){k.trendwrap=k.el.find(".trendwrap"),k.trendslider=k.el.find(".trendslider"),k.trendwave_wrap=k.el.find(".trendwavewrap"),k.trendbar_wrap=k.el.find(".trendbarwrap"),k.btn_trendnav=k.el.find(".btn_trendnav"),k.btn_trendnav_day=k.el.find(".btn_trendnav_day"),k.btn_trendnav_week=k.el.find(".btn_trendnav_week"),k.btn_trendnav_month=k.el.find(".btn_trendnav_month"),k.trendwave_inner=k.el.find(".trendwave_inner"),k.trendwave_inner2=k.el.find(".trendwave_inner2"),k.graph_user=k.el.find(".trendbarwrap .graph_user"),k.graph_global=k.el.find(".trendbarwrap .graph_global"),k.trenduser_span=k.el.find(".trenduser span"),k.trendglobal_span=k.el.find(".trendglobal span"),k.wave_bars=k.el.find(".trendwave_inner .bar"),k.wave2_bars=k.el.find(".trendwave_inner2 .bar"),k.barchart_bars=k.el.find(".trendbarwrap .graph_user .bar"),k.barchart2_bars=k.el.find(".trendbarwrap .graph_global .bar"),k.axis=k.el.find(".trendwavewrap .axis_x"),k.axis2=k.el.find(".trendbarwrap .axis_x"),k.axis_label1=k.el.find(".axis_y1_label2"),k.axis_label2=k.el.find(".axis_y2_label2")}function u(){k.el.find(".trendleft").click(function(){return w("left"),!1}),k.el.find(".trendright").click(function(){return w("right"),!1}),k.btn_trendnav_day.on("click",function(){return g("day"),!1}),k.btn_trendnav_week.on("click",function(){return g("week"),!1}),k.btn_trendnav_month.on("click",function(){return g("month"),!1}),k.trendslider.swipe({swipeRight:function(){w("left")},swipeLeft:function(){w("right")},threshold:100,excludedElements:""})}function c(){var t="",e="",n="",r="",s=0;for(i=0;i<k.length;i++)if(t+='<div class="bar" id="waveuserbar'+i+'"></div>',e+='<div class="bar" id="waveglobalbar'+i+'"></div>',o.isOdd(i)){n+='<div class="bar" id="userbar'+i+'" style="left:0px;" ></div>',r+='<div class="bar" id="globalbar'+i+'" style="left:0px;" ></div>',s++}k.trendwave_inner.html(t),k.trendwave_inner2.html(e),k.graph_user.html(n),k.graph_global.html(r),k.wave_bars=k.el.find(".trendwave_inner .bar"),k.wave2_bars=k.el.find(".trendwave_inner2 .bar"),k.barchart_bars=k.el.find(".trendbarwrap .graph_user .bar"),k.barchart2_bars=k.el.find(".trendbarwrap .graph_global .bar")}function h(){1==k.dev_data||1==o.config.dev||(d(p,"day"),d(p,"week"),d(p,"month"))}function d(t,i){e.get(k.query_url,null,{artist:o.query_format(k.query_artist),album:o.query_format(k.query_album),track:o.query_format(k.query_track),username:o.query_format(k.query_user),limit:k.length,period:i},function(e,n,r,o){k.logs&&console.log("--- ajax response - 2.1 trends - "+i+" ---"),k.logs&&console.log(n),void 0!==n.results&&n.results.length>0&&"function"==typeof t&&(n.results.reverse(),t(i,n.results))})}function p(t,e){C[t]=e;for(var i in C[t])(null==k[t].min_user_wave||C[t][i].user_scrobbles<k[t].min_user_wave)&&(k[t].min_user_wave=C[t][i].user_scrobbles),(null==k[t].max_user_wave||C[t][i].user_scrobbles>k[t].max_user_wave)&&(k[t].max_user_wave=C[t][i].user_scrobbles),o.isOdd(i)&&(null==k[t].min_user_bar||C[t][i].user_scrobbles+C[t][i-1].user_scrobbles<k[t].min_user_bar)&&(k[t].min_user_bar=C[t][i].user_scrobbles+C[t][i-1].user_scrobbles),o.isOdd(i)&&(null==k[t].max_user_bar||C[t][i].user_scrobbles+C[t][i-1].user_scrobbles>k[t].max_user_bar)&&(k[t].max_user_bar=C[t][i].user_scrobbles+C[t][i-1].user_scrobbles),(null==k[t].min_global_wave||C[t][i].scrobbles<k[t].min_global_wave)&&(k[t].min_global_wave=C[t][i].scrobbles),(null==k[t].max_global_wave||C[t][i].scrobbles>k[t].max_global_wave)&&(k[t].max_global_wave=C[t][i].scrobbles),o.isOdd(i)&&(null==k[t].min_global_bar||C[t][i].scrobbles+C[t][i-1].scrobbles<k[t].min_global_bar)&&(k[t].min_global_bar=C[t][i].scrobbles+C[t][i-1].scrobbles),o.isOdd(i)&&(null==k[t].max_global_bar||C[t][i].scrobbles+C[t][i-1].scrobbles>k[t].max_global_bar)&&(k[t].max_global_bar=C[t][i].scrobbles+C[t][i-1].scrobbles),k[t].total_user+=C[t][i].user_scrobbles,k[t].total_global+=C[t][i].scrobbles;k[t].range_user_wave=k[t].max_user_wave-k[t].min_user_wave,k[t].range_user_bar=k[t].max_user_bar-k[t].min_user_bar,k[t].range_global_wave=k[t].max_global_wave-k[t].min_global_wave,k[t].range_global_bar=k[t].max_global_bar-k[t].min_global_bar,k[t].step_user_wave=k[t].range_user_wave/k.wave_dif_h1,k[t].step_user_wave<=0&&(k[t].step_user_wave=1),k[t].step_user_bar=k[t].range_user_bar/k.bar_dif_h,k[t].step_user_bar<=0&&(k[t].step_user_bar=1),k[t].step_global_wave=k[t].range_global_wave/k.wave_dif_h2,k[t].step_global_wave<=0&&(k[t].step_global_wave=1),k[t].step_global_bar=k[t].range_global_bar/k.bar_dif_h,k[t].step_global_bar<=0&&(k[t].step_global_bar=1);var n=0;for(var i in C[t]){var r=(C[t][i].user_scrobbles-k[t].min_user_wave)/k[t].step_user_wave+k.wave_min_h1,s=(C[t][i].scrobbles-k[t].min_global_wave)/k[t].step_global_wave+k.wave_min_h2,a=(k.wave_max_h1-r)/2+(k.wave_max_h2-k.wave_max_h1)/2,l=(k.wave_max_h2-s)/2;if(T[t][i]={h1:r,h2:s,t1:a,t2:l},o.isOdd(n)){var u=C[t][i].user_scrobbles+C[t][i-1].user_scrobbles;if(u<=0)var r=k.bar_min_h;else var r=(u-k[t].min_user_bar)/k[t].step_user_bar+k.bar_min_h;var c=C[t][i].scrobbles+C[t][i-1].scrobbles;if(c<=0)var s=k.bar_min_h;else var s=(c-k[t].min_global_bar)/k[t].step_global_bar+k.bar_min_h;A[t].push({h1:r,h2:s,val1:u,val2:c})}n++}k[t].got=!0}function f(){k.timeout_animate=setTimeout(function(){g(k.init_period)},1e3)}function g(t){1==k[t].got?(m(t),v(t),y(t),b(t),x(t),k.trenduser_span.text(o.commas(k[t].total_user)),k.trendglobal_span.text(o.commas(k[t].total_global)),k.btn_trendnav.removeClass("current"),k["btn_trendnav_"+t].addClass("current")):(clearTimeout(k.timeout_output),k.timeout_output=setTimeout(function(){g(t)},50))}function m(t){var e=k.length/10,i=0,n=0,r="";for(var o in C[t]){if(parseInt(o)+1==Math.round(i)||0==i){i=i+e+e,n++;var a=C[t][o].date,l=a.split("-"),u=parseInt(l[0]),c=u.toString().split(""),h=parseInt(l[1]),d=parseInt(l[2]);if("day"==t)var p=d+" "+s.month("en",h-1);else if("week"==t)var p=d+" "+s.month("en",h-1)+" '"+c[2]+c[3];else var p=s.month(k.locale,h-1)+" "+u;r+='<div class="axislabel x'+n+'">'+p+'<div class="axismarker"></div></div>'}}k.axis.html(r),k.axis2.html(r)}function v(t){k.axis_label1.html(o.commas(k[t].max_user_wave))}function y(t){k.axis_label2.html(o.commas(k[t].max_global_wave))}function b(e){var i=0,n=0;k.wave_bars.each(function(){void 0!==T[e][i]&&(t(this).css({height:T[e][i].h1,top:T[e][i].t1,"-webkit-transitionDelay":n+"s","-moz-transitionDelay":n+"s","-o-transitionDelay":n+"s",transitionDelay:n+"s"}).attr("data-val",C[e][i].user_scrobbles).attr("data-date",C[e][i].date),n+=k.animation_interval,i++)});var i=0,n=0;k.wave2_bars.each(function(){void 0!==T[e][i]&&(t(this).css({height:T[e][i].h2,top:T[e][i].t2,"-webkit-transitionDelay":n+"s","-moz-transitionDelay":n+"s","-o-transitionDelay":n+"s",transitionDelay:n+"s"}).attr("data-val",C[e][i].scrobbles).attr("data-date",C[e][i].date),n+=k.animation_interval,i++)})}function x(e){var i=0,n=k.animation_interval/2;k.barchart_bars.each(function(){void 0!==A[e][i]&&(t(this).css({height:A[e][i].h1,"-webkit-transitionDelay":n+"s","-moz-transitionDelay":n+"s","-o-transitionDelay":n+"s",transitionDelay:n+"s"}).attr("data-val",A[e][i].val).attr("data-date",A[e][i].date),n+=k.animation_interval,i++)});var i=0,n=0;k.barchart2_bars.each(function(){void 0!==A[e][i]&&(t(this).css({height:A[e][i].h2,"-webkit-transitionDelay":n+"s","-moz-transitionDelay":n+"s","-o-transitionDelay":n+"s",transitionDelay:n+"s"
}).attr("data-val",A[e][i].val).attr("data-date",A[e][i].date),n+=k.animation_interval,i++)})}function w(t){if("wave"==k.current){k.current="bar";var e=k.trendwave_wrap,i=k.trendbar_wrap}else{k.current="wave";var e=k.trendbar_wrap,i=k.trendwave_wrap}"left"==t?(i.stop(!0,!0).css({opacity:0,left:"-105%"}).animate({opacity:1,left:0}),e.stop(!0,!0).animate({opacity:0,left:"105%"})):(i.stop(!0,!0).css({opacity:0,left:"105%"}).animate({opacity:1,left:0}),e.stop(!0,!0).animate({opacity:0,left:"-105%"}))}var S=function(t,e){this.el=t};S.prototype.start=function(){k.logs=1==o.config.logs||1==k.dev,k.logs&&console.log("%c*** WIDGET - 2.1 LISTENING TRENDS - START ***","color:#098c0c;"),k.el=this.el,k.query_user=k.el.attr("data-user")||"",k.query_artist=k.el.attr("data-artist")||"",k.query_album=k.el.attr("data-album")||"",k.query_track=k.el.attr("data-track")||"",k.locale=k.el.attr("data-locale")||"",""!=k.query_user&&void 0!==k.query_user||k.el.addClass("no_user"),l(),u(),c(),h(),n.start();var t=k.trendwrap.offset().top+k.trendwrap.height()/2;n.add("listeningtrends",t,function(){f()}),r.start(),r.add("listeningtrends",{x_func:function(){if(0==n.done("listeningtrends")){var t=k.trendwrap.offset().top+k.trendwrap.height()/2;n.update_pos("listeningtrends",t)}}})},S.prototype.stop=function(){k.logs&&console.log("%c*** WIDGET - 2.1 LISTENING TRENDS - STOP ***","color:#098c0c;"),clearTimeout(k.timeout_animate),clearTimeout(k.timeout_output),C={day:[],week:[],month:[]},T={day:[],week:[],month:[]},A={day:[],week:[],month:[]},n.reset(),r.reset()};var k={dev:!1,query_url:"https://kerve.last.fm/kerve/listeningtrends",length:74,y_steps:6,init_period:"day",animation_interval:.01,bar_width:4,wave_min_h1:2,wave_max_h1:80,wave_dif_h1:60,wave_min_h2:90,wave_max_h2:186,wave_dif_h2:96,bar_min_h:2,bar_max_h:156,bar_dif_h:146,current:"wave",day:{got:!1,min_user_wave:null,min_user_bar:null,max_user_wave:null,max_user_bar:null,range_user_wave:0,range_user_bar:0,min_global_wave:null,min_global_bar:null,max_global_wave:null,max_global_bar:null,range_global_wave:0,range_global_bar:0,step_user_wave:0,step_user_bar:0,step_global_wave:0,step_global_bar:0,total_user:0,total_global:0},week:{got:!1,min_user_wave:null,min_user_bar:null,max_user_wave:null,max_user_bar:null,range_user_wave:0,range_user_bar:0,min_global_wave:null,min_global_bar:null,max_global_wave:null,max_global_bar:null,range_global_wave:0,range_global_bar:0,step_user_wave:0,step_user_bar:0,step_global_wave:0,step_global_bar:0,total_user:0,total_global:0},month:{got:!1,min_user_wave:null,min_user_bar:null,max_user_wave:null,max_user_bar:null,range_user_wave:0,range_user_bar:0,min_global_wave:null,min_global_bar:null,max_global_wave:null,max_global_bar:null,range_global_wave:0,range_global_bar:0,step_user_wave:0,step_user_bar:0,step_global_wave:0,step_global_bar:0,total_user:0,total_global:0},timeout_animate:null,timeout_output:null},C={day:[],week:[],month:[]},T={day:[],week:[],month:[]},A={day:[],week:[],month:[]};return S}),define("kerve/widgets/2-2-listeningnow",["jquery","core/ajax","kerve/helpers/windowscroll","kerve/helpers/windowsize","kerve/helpers/helper","kerve/plugins/jquery.touchSwipe.1.6.min"],function(t,e,n,r,o,s){function a(){w.slider=w.el.find(".nowslider")}function l(){w.el.on("mouseenter",".nowwrap",function(){y()}),w.el.on("mouseleave",".nowwrap",function(){b()}),w.el.find(".nowleft").on("click",function(){return m(),!1}),w.el.find(".nowright").on("click",function(){return v(),!1}),w.slider.swipe({swipeRight:function(){m()},swipeLeft:function(){v()},threshold:100,excludedElements:""})}function u(){c(h)}function c(t){e.get(w.query_url,null,{artist:o.query_format(w.query_artist),album:o.query_format(w.query_album),track:o.query_format(w.query_track),user:o.query_format(w.query_user),limit:6},function(e,i,n,r){if(w.logs&&console.log("--- ajax response - 2.2 listening now ---"),w.logs&&console.log(i),void 0!==i.Users){for(var o in i.Users)k.push(i.Users[o]);"function"==typeof t&&t()}})}function h(){for(i=0;i<w.data_quantity-1;i++)f(!0);f(),w.got_data=!0,c(d)}function d(){p();for(var t in S)if(""!=S[t].UserImage){var e=new Image;e.src=S[t].UserImage}w.int_data=setInterval(function(){c()},w.data_frequency)}function p(){w.int_animate=setInterval(function(){f()},w.data_frequency/(w.data_quantity-1))}function f(t){if(k.length>0){S.push(k[0]),k.shift(),w.total=S.length,w.total>6&&S.shift();var e=S[S.length-1].UserName,i=S[S.length-1].user_url;e.length>17&&(e=e.substr(0,16)+"...");var n=S[S.length-1].Track.Artist,r=S[S.length-1].artist_url;n.length>22&&(n=n.substr(0,21)+"...");var s=S[S.length-1].Track.Name,a=S[S.length-1].track_url;s.length>22&&(s=s.substr(0,21)+"...");var l=S[S.length-1].Track.UserScrobbles,u=S[S.length-1].UserImage;w.slider.append('<div class="slide" style="left:100%;">\t\t\t\t<div class="slide_inner">\t\t\t\t\t<div class="nowslider_imgwrap"><div class="nowslider_img" '+(""!=u?'style="background-image:url('+u+');"':"")+'></div></div>\t\t\t\t\t<div class="nowslider_copywrap">\t\t\t\t\t\t<a class="nowslider_name" href="'+o.url(i,w.locale)+'">'+e+'</a><br />\t\t\t\t\t\t<a class="nowslider_artist" href="'+o.url(r,w.locale)+'">'+n+'</a><br />\t\t\t\t\t\t<a class="nowslider_track" href="'+o.url(a,w.locale)+'">'+s+'</a>\t\t\t\t\t\t<div class="nowslider_scrobbles">'+w.locale_plays+": "+o.commas(l)+"</div>\t\t\t\t\t</div>\t\t\t\t</div>\t\t\t</div>"),w.total>w.data_quantity&&w.el.find(".nowslider .slide:first-child").remove(),1!=t&&g(w.data_quantity)}}function g(t,e){w.current=t,w.el.find(".nowslider .slide.current").stop().removeClass("current").css({left:0,opacity:1}).animate({left:("left"==e?"":"-")+"100%",opacity:0},w.slide_time),w.el.find(".nowslider .slide:nth-child("+t+")").stop().addClass("current").css({left:("left"==e?"-":"")+"100%",opacity:0}).animate({left:0,opacity:1},w.slide_time)}function m(){if(w.current>2)var t=w.current-1;else var t=w.data_quantity;y(),g(t,"left")}function v(){if(w.current<w.data_quantity)var t=w.current+1;else var t=1;y(),g(t)}function y(t){clearInterval(w.int_animate),clearTimeout(w.timeout_pause),1==t&&b()}function b(){clearInterval(w.int_animate),clearTimeout(w.timeout_pause),w.timeout_pause=setTimeout(function(){p()},w.pause_timeout)}var x=function(t,e){this.el=t};x.prototype.start=function(){w.logs=1==o.config.logs||1==w.dev,w.logs&&console.log("%c*** WIDGET - 2.2 USERS LISTENING NOW - START ***","color:#098c0c;"),w.el=this.el,w.query_user=w.el.attr("data-user")||"",w.query_artist=w.el.attr("data-artist")||"",w.query_album=w.el.attr("data-album")||"",w.query_track=w.el.attr("data-track")||"",w.locale=w.el.attr("data-locale")||"",w.locale_plays=w.el.attr("data-locale-plays")||"",a(),l(),u()},x.prototype.stop=function(){w.logs&&console.log("%c*** WIDGET - 2.2 USERS LISTENING NOW - STOP ***","color:#098c0c;"),clearInterval(w.int_data),clearInterval(w.int_animate),clearTimeout(w.timeout_pause),S=[],k=[]};var w={dev:!1,query_url:"https://kerve.last.fm/kerve/listeningnow",data_quantity:6,data_frequency:15e3,pause_timeout:2e3,slide_time:500,total:0,current:0,got_data:!1,int_data:null,int_animate:null,timeout_pause:null},S=[],k=[];return x});