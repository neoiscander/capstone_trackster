/*
* onScreen 0.0.0 
* Checks if matched elements are inside the viewport. 
* Built on Mon Mar 09 2015 13:11:43 
*
* Copyright 2015 Silvestre Herrera <silvestre.herrera@gmail.com> and contributors, Licensed under the MIT license:
* http://www.opensource.org/licenses/mit-license.php
*
* You can find a list of contributors at:
* https://github.com/silvestreh/onScreen/graphs/contributors
*/

!function(A){A.fn.onScreen=function(e){var o={container:window,direction:"vertical",toggleClass:null,doIn:null,doOut:null,tolerance:0,throttle:null,lazyAttr:null,lazyPlaceholder:"data:image/gif;base64,R0lGODlhEAAFAIAAAP///////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQAAACwAAAAAEAAFAAACCIyPqcvtD00BACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIQTGCiywKPmjxUNhjtMlWrAgAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFEiyUf6wCEBHvLPemIHdTzCMDegkACH5BAkJAAYALAAAAAAQAAUAgoSChLS2tIyKjLy+vIyOjMTCxP///wAAAAMUWCQ09jAaAiqQmFosdeXRUAkBCCUAIfkECQkACAAsAAAAABAABQCDvLq83N7c3Nrc9Pb0xMLE/P78vL68/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCEwkCnKGbegvQn4RjGMx8F1HxBi5Il4oEiap2DcVYlpZwQAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCDwnCGHEcIMxPn4VAGMQNBx0zQEZHkiYNiap5RaBKG9EQAh+QQJCQAJACwAAAAAEAAFAIOEgoTMysyMjozs6uyUlpSMiozMzsyUkpTs7uz///8AAAAAAAAAAAAAAAAAAAAAAAAEGTBJiYgoBM09DfhAwHEeKI4dGKLTIHzCwEUAIfkECQkACAAsAAAAABAABQCDvLq85OLkxMLE9Pb0vL685ObkxMbE/Pr8////AAAAAAAAAAAAAAAAAAAAAAAAAAAABCAQSTmMEGaco8+UBSACwWBqHxKOJYd+q1iaXFoRRMbtEQAh+QQJCQAIACwAAAAAEAAFAIO8urzc3tzc2tz09vTEwsT8/vy8vrz8+vz///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAEIhBJWc6wJZAtJh3gcRBAaXiIZV2kiRbgNZbA6VXiUAhGL0QAIfkECQkABgAsAAAAABAABQCChIKEtLa0jIqMvL68jI6MxMLE////AAAAAxRoumxFgoxGCbiANos145e3DJcQJAAh+QQJCQAFACwAAAAAEAAFAIK8urzc2tzEwsS8vrzc3tz///8AAAAAAAADFFi6XCQwtCmAHbPVm9kGWKcEQxkkACH5BAkJAAIALAAAAAAQAAUAgfT29Pz6/P///wAAAAIRlI8SAZsPYnuJMUCRnNksWwAAOw==",debug:!1};return"remove"!==e&&A.extend(o,e),this.each(function(){function n(){return B?z<d-o.tolerance&&s<z+h-o.tolerance:z<f-o.tolerance&&z>-h+o.tolerance}function t(){return B?z+(h-o.tolerance)<s||z>d-o.tolerance:z>f-o.tolerance||-h+o.tolerance>z}function r(){return B?g<E-o.tolerance&&u<g+w-o.tolerance:g<Q-o.tolerance&&g>-w+o.tolerance}function i(){return B?g+(w-o.tolerance)<u||g>E-o.tolerance:g>Q-o.tolerance||-w+o.tolerance>g}function c(){return!v&&("horizontal"===o.direction?r():n())}function l(){return!!v&&("horizontal"===o.direction?i():t())}function a(A,e,o){var n,t,r;return function(){t=arguments,r=!0,o=o||this,n||function(){r?(A.apply(o,t),r=!1,n=setTimeout(arguments.callee,e)):n=null}()}}var s,u,C,f,Q,d,E,h,w,z,g,I=this,v=!1,p=A(this),B=A.isWindow(o.container);if("remove"===e)return void function(){A(I).off("scroll.onScreen resize.onScreen"),A(window).off("resize.onScreen")}();var k=function(){if(B||"static"!==A(o.container).css("position")||A(o.container).css("position","relative"),C=A(o.container),f=C.height(),Q=C.width(),d=C.scrollTop()+f,E=C.scrollLeft()+Q,h=p.outerHeight(!0),w=p.outerWidth(!0),B){var e=p.offset();z=e.top,g=e.left}else{var n=p.position();z=n.top,g=n.left}if(s=C.scrollTop(),u=C.scrollLeft(),o.debug,c()){if(o.toggleClass&&p.addClass(o.toggleClass),A.isFunction(o.doIn)&&o.doIn.call(p[0]),o.lazyAttr&&"IMG"===p.prop("tagName")){var t=p.attr(o.lazyAttr);t!==p.prop("src")&&(p.css({background:"url("+o.lazyPlaceholder+") 50% 50% no-repeat",minHeight:"5px",minWidth:"16px"}),p.prop("src",t).load(function(){A(this).css({background:"none"})}))}v=!0}else l()&&(o.toggleClass&&p.removeClass(o.toggleClass),A.isFunction(o.doOut)&&o.doOut.call(p[0]),v=!1)};window.location.hash?a(k,50):k(),o.throttle&&(k=a(k,o.throttle)),A(o.container).on("scroll.onScreen resize.onScreen",k),B||A(window).on("resize.onScreen",k),"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=jQuery:"function"==typeof define&&define.amd&&define("jquery-onscreen",[],function(){return jQuery})})}}(jQuery);